/*! For license information please see main.0c9419a6.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var D=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return M(e(t))}catch(Li){}}return null}var O=Array.isArray,P=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},R=[],F=-1;function z(e){return{current:e}}function V(e){0>F||(e.current=R[F],R[F]=null,F--)}function B(e,t){F++,R[F]=e.current,e.current=t}var U=z(null),H=z(null),q=z(null),W=z(null);function K(e,t){switch(B(q,t),B(H,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ah(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ah(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(U),B(U,e)}function Q(){V(U),V(H),V(q)}function G(e){null!==e.memoizedState&&B(W,e);var t=U.current,n=oh(t,e.type);t!==n&&(B(H,e),B(U,n))}function Y(e){H.current===e&&(V(U),V(H)),W.current===e&&(V(W),Yh._currentValue=j)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=ve(r):0!==(o&=s)?i=ve(o):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~a)?i=ve(s):0!==o?i=ve(o):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ud(e.type)}var Ae=Math.random().toString(36).slice(2),Me="__reactFiber$"+Ae,Oe="__reactProps$"+Ae,Pe="__reactContainer$"+Ae,Le="__reactEvents$"+Ae,je="__reactListeners$"+Ae,Re="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,ze="__reactMarker$"+Ae;function Ve(e){delete e[Me],delete e[Oe],delete e[Le],delete e[je],delete e[Re]}function Be(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pe]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xh(e);null!==e;){if(n=e[Me])return n;e=xh(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Me]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var Ke=new Set,Qe={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(Li){var t=Li.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<Li.stack.indexOf("\n    at")?" (<anonymous>)":-1<Li.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Li){var r=Li}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(JS){if(JS&&r&&"string"===typeof JS.stack)return[JS.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(Li){return"\nError generating stack: "+Li.message+"\n"+Li.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(O(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&kt(e,a,t[a])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Ot=null;function Pt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(o(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function jt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Mt||null!==Ot)&&(Uc(),Mt&&(t=Mt,e=Ot,Ot=Mt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Pd){zt=!1}var Bt=null,Ut=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Ut,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Gt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Gt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Gt(nn),an=Gt(d({},nn,{dataTransfer:0})),on=Gt(d({},en,{relatedTarget:0})),sn=Gt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var gn=Gt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Gt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(d({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],_n=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var kn=Ft&&"TextEvent"in window&&!Sn,Tn=Ft&&(!_n||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Cn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function On(e,t,n,r){Mt?Ot?Ot.push(r):Ot=[r]:Mt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pn=null,Ln=null;function jn(e){Ru(e,0)}function Rn(e){if(dt(He(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Vn;if(Ft){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}Vn=Bn}else Vn=!1;zn=Vn&&(!document.documentMode||9<document.documentMode)}function Hn(){Pn&&(Pn.detachEvent("onpropertychange",qn),Ln=Pn=null)}function qn(e){if("value"===e.propertyName&&Rn(Ln)){var t=[];On(t,Ln,e,At(e)),jt(jn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Ln=n,(Pn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(Ln)}function Qn(e,t){if("click"===e)return Rn(t)}function Gn(e,t){if("input"===e||"change"===e)return Rn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Xn(ar,r)||(ar=r,0<(r=Wu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),gr=dr("animationstart"),mr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Er=0,Cr=0;function Dr(){for(var e=Er,t=Cr=Er=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Mr(n,i,a)}}function Nr(e,t,n,r){Tr[Er++]=e,Tr[Er++]=t,Tr[Er++]=n,Tr[Er++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Nr(e,t,n,r),Or(e)}function Ar(e,t){return Nr(e,null,null,t),Or(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Oc)throw Oc=0,Pc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Lr(e,t,n,r)}function Rr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Rr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=jr(31,n,t,i)).elementType=C,e.lanes=a,e;case m:return Br(n.children,i,a,t);case y:s=8,i|=24;break;case v:return(e=jr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=jr(13,n,t,i)).elementType=S,e.lanes=a,e;case k:return(e=jr(19,n,t,i)).elementType=k,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case _:s=11;break e;case T:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=jr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Wr=0,Kr=null,Qr=0,Gr=[],Yr=0,Xr=null,$r=1,Jr="";function Zr(e,t){qr[Wr++]=Qr,qr[Wr++]=Kr,Kr=e,Qr=t}function ei(e,t,n){Gr[Yr++]=$r,Gr[Yr++]=Jr,Gr[Yr++]=Xr,Xr=e;var r=$r;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-fe(t)+i|n<<i|r,Jr=a+e}else $r=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=qr[--Wr],qr[Wr]=null,Qr=qr[--Wr],qr[Wr]=null;for(;e===Xr;)Xr=Gr[--Yr],Gr[Yr]=null,Jr=Gr[--Yr],Gr[Yr]=null,$r=Gr[--Yr],Gr[Yr]=null}var ri=null,ii=null,ai=!1,oi=null,si=!1,li=Error(o(519));function ci(e){throw gi(kr(Error(o(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Oe]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Fu(Lu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),wt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!ai)return hi(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sh(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,ph(e.type)?(e=bh,bh=null,ii=e):ii=n):ii=ri?vh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=oi;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),oi=null),e}function gi(e){null===oi?oi=[e]:oi.push(e)}var mi=z(null),yi=null,vi=null;function bi(e,t,n){B(mi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=mi.current,V(mi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wi(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),wi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yh):e=[Yh])}i=i.return}null!==e&&_i(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Di(yi,e)}function Ci(e,t){return null===yi&&Ti(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(o(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ii=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,Mi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ni,data:new Map,refCount:0}}function Pi(e){e.refCount--,0===e.refCount&&Ii(Ai,(function(){e.controller.abort()}))}var ji=null,Ri=0,Fi=0,zi=null;function Vi(){if(0===--Ri&&null!==ji){null!==zi&&(zi.status="fulfilled");var e=ji;ji=null,Fi=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];Ri=0,Fi=Iu(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ri++,t.then(Vi,Vi)}(0,t),null!==Bi&&Bi(e,t)};var Ui=z(null);function Hi(){var e=Ui.current;return null!==e?e:ic.pooledCache}function qi(e,t){B(Ui,null===t?Ui.current:t.pool)}function Wi(){var e=Hi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Ki=Error(o(460)),Qi=Error(o(474)),Gi=Error(o(542)),Yi={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $i(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($i,$i),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then($i,$i);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Zi=t,Ki}}var Zi=null;function ea(){if(null===Zi)throw Error(o(459));var e=Zi;return Zi=null,e}function ta(e){if(e===Ki||e===Gi)throw Error(o(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Mr(e,null,n),t}return Nr(e,r,t,n),Or(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ca=!1;function ua(){if(ca){if(null!==zi)throw zi}}function ha(e,t,n,r){ca=!1;var i=e.updateQueue;na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(o=0,u=c=l=null,s=a;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,h,f):g)||void 0===f)break e;h=d({},h,f);break e;case 2:na=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=h}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var pa=z(null),ga=z(0);function ma(e,t){B(ga,e=dc),B(pa,t),dc=e|t.baseLanes}function ya(){B(ga,dc),B(pa,pa.current)}function va(){dc=ga.current,V(pa),V(ga)}var ba=0,xa=null,wa=null,_a=null,Sa=!1,ka=!1,Ta=!1,Ea=0,Ca=0,Da=null,Na=0;function Ia(){throw Error(o(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ma(e,t,n,r,i,a){return ba=a,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Qo:Go,Ta=!1,a=n(r,i),Ta=!1,ka&&(a=Pa(t,n,r,i)),Oa(e),a}function Oa(e){P.H=Ko;var t=null!==wa&&null!==wa.next;if(ba=0,_a=wa=xa=null,Sa=!1,Ca=0,Da=null,t)throw Error(o(300));null===e||Ds||null!==(e=e.dependencies)&&ki(e)&&(Ds=!0)}function Pa(e,t,n,r){xa=e;var i=0;do{if(ka&&(Da=null),Ca=0,ka=!1,25<=i)throw Error(o(301));if(i+=1,_a=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}P.H=Yo,a=t(n,r)}while(ka);return a}function La(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?Ba(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(xa.flags|=1024),t}function ja(){var e=0!==Ea;return Ea=0,e}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(Sa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sa=!1}ba=0,_a=wa=xa=null,ka=!1,Ca=Ea=0,Da=null}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_a?xa.memoizedState=_a=e:_a=_a.next=e,_a}function Va(){if(null===wa){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===_a?xa.memoizedState:_a.next;if(null!==t)_a=t,wa=e;else{if(null===e){if(null===xa.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===_a?xa.memoizedState=_a=e:_a=_a.next=e}return _a}function Ba(e){var t=Ca;return Ca+=1,null===Da&&(Da=[]),e=Ji(Da,e,t),t=xa,null===(null===_a?t.memoizedState:_a.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Qo:Go),e}function Ua(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ba(e);if(e.$$typeof===w)return Ei(e)}throw Error(o(438,String(e)))}function Ha(e){var t=null,n=xa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=D;return t.index++,n}function qa(e,t){return"function"===typeof t?t(e):t}function Wa(e){return Ka(Va(),wa,e)}function Ka(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(ba&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Fi&&(h=!0);else{if((ba&f)===f){u=u.next,f===Fi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=a):c=c.next=d,xa.lanes|=f,pc|=f}d=u.action,Ta&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,xa.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Yn(a,e.memoizedState)&&(Ds=!0,h&&null!==(n=zi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qa(e){var t=Va(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Yn(a,t.memoizedState)||(Ds=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ga(e,t,n){var r=xa,i=Va(),a=ai;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((wa||i).memoizedState,n);if(s&&(i.memoizedState=n,Ds=!0),i=i.queue,vo(2048,8,$a.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==_a&&1&_a.memoizedState.tag){if(r.flags|=2048,go(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,i,n,t),null),null===ic)throw Error(o(349));a||0!==(124&ba)||Ya(r,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&Za(e)}function $a(e,t,n){return n((function(){Ja(t)&&Za(e)}))}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Za(e){var t=Ar(e,2);null!==t&&Rc(t,e,2)}function eo(e){var t=za();if("function"===typeof e){var n=e;if(e=n(),Ta){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function to(e,t,n,r){return e.baseState=n,Ka(e,wa,"function"===typeof r?r:qa)}function no(e,t,n,r,i){if(Ho(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==P.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ro(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ro(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=P.T,o={};P.T=o;try{var s=n(i,r),l=P.S;null!==l&&l(o,s),io(e,t,s)}catch(c){oo(e,t,c)}finally{P.T=a}}else try{io(e,t,a=n(i,r))}catch(u){oo(e,t,u)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ao(e,t,n)}),(function(n){return oo(e,t,n)})):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,so(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ro(e,n)))}function oo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,so(t),t=t.next}while(t!==r)}e.action=null}function so(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function co(e,t){if(ai){var n=ic.formState;if(null!==n){e:{var r=xa;if(ai){if(ii){t:{for(var i=ii,a=si;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=za()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=r,n=Vo.bind(null,xa,r),r.dispatch=n,r=eo(!1),a=Uo.bind(null,xa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=za()).queue=i,n=no.bind(null,xa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function uo(e){return ho(Va(),wa,e)}function ho(e,t,n){if(t=Ka(e,t,lo)[0],e=Wa(qa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ba(t)}catch(Li){if(Li===Ki)throw Gi;throw Li}else r=t;var i=(t=Va()).queue,a=i.dispatch;return n!==t.memoizedState&&(xa.flags|=2048,go(9,{destroy:void 0,resource:void 0},fo.bind(null,i,n),null)),[r,a,e]}function fo(e,t){e.action=t}function po(e){var t=Va(),n=wa;if(null!==n)return ho(t,n,e);Va(),t=t.memoizedState;var r=(n=Va()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function go(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Va().memoizedState}function yo(e,t,n,r){var i=za();r=void 0===r?null:r,xa.flags|=e,i.memoizedState=go(1|t,{destroy:void 0,resource:void 0},n,r)}function vo(e,t,n,r){var i=Va();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Aa(r,wa.memoizedState.deps)?i.memoizedState=go(t,a,n,r):(xa.flags|=e,i.memoizedState=go(1|t,a,n,r))}function bo(e,t){yo(8390656,8,e,t)}function xo(e,t){vo(2048,8,e,t)}function wo(e,t){return vo(4,2,e,t)}function _o(e,t){return vo(4,4,e,t)}function So(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,4,So.bind(null,t,e),n)}function To(){}function Eo(e,t){var n=Va();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=Va();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Aa(t,r[1]))return r[0];if(r=e(),Ta){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Do(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=jc(),xa.lanes|=e,pc|=e,n)}function No(e,t,n,r){return Yn(n,t)?n:null!==pa.current?(e=Do(e,n,r),Yn(e,t)||(Ds=!0),e):0===(42&ba)?(Ds=!0,e.memoizedState=n):(e=jc(),xa.lanes|=e,pc|=e,t)}function Io(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var o=P.T,s={};P.T=s,Uo(e,!1,t,n);try{var l=i(),c=P.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);Bo(e,t,u,Lc())}else Bo(e,t,r,Lc())}catch(h){Bo(e,t,{then:function(){},status:"rejected",reason:h},Lc())}finally{L.p=a,P.T=o}}function Ao(){}function Mo(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Oo(e).queue;Io(e,i,t,j,null===n?Ao:function(){return Po(e),n(r)})}function Oo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Po(e){Bo(e,Oo(e).next.queue,{},Lc())}function Lo(){return Ei(Yh)}function jo(){return Va().memoizedState}function Ro(){return Va().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),r=oa(t,e=aa(n),n);return null!==r&&(Rc(r,t,n),sa(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function zo(e,t,n){var r=Lc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?qo(t,n):null!==(n=Ir(e,t,n,r))&&(Rc(n,e,r),Wo(n,t,r))}function Vo(e,t,n){Bo(e,t,n,Lc())}function Bo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Yn(s,o))return Nr(e,t,i,0),null===ic&&Dr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Rc(n,e,r),Wo(n,t,r),!0}return!1}function Uo(e,t,n,r){if(r={lane:2,revertLane:Iu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(o(479))}else null!==(t=Ir(e,n,r,2))&&Rc(t,e,2)}function Ho(e){var t=e.alternate;return e===xa||null!==t&&t===xa}function qo(e,t){ka=Sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Ko={readContext:Ei,use:Ua,useCallback:Ia,useContext:Ia,useEffect:Ia,useImperativeHandle:Ia,useLayoutEffect:Ia,useInsertionEffect:Ia,useMemo:Ia,useReducer:Ia,useRef:Ia,useState:Ia,useDebugValue:Ia,useDeferredValue:Ia,useTransition:Ia,useSyncExternalStore:Ia,useId:Ia,useHostTransitionStatus:Ia,useFormState:Ia,useActionState:Ia,useOptimistic:Ia,useMemoCache:Ia,useCacheRefresh:Ia},Qo={readContext:Ei,use:Ua,useCallback:function(e,t){return za().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4194308,4,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var n=za();t=void 0===t?null:t;var r=e();if(Ta){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=za();if(void 0!==n){var i=n(t);if(Ta){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=zo.bind(null,xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},za().memoizedState=e},useState:function(e){var t=(e=eo(e)).queue,n=Vo.bind(null,xa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:To,useDeferredValue:function(e,t){return Do(za(),e,t)},useTransition:function(){var e=eo(!1);return e=Io.bind(null,xa,e.queue,!0,!1),za().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xa,i=za();if(ai){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ic)throw Error(o(349));0!==(124&oc)||Ya(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,bo($a.bind(null,r,a,e),[e]),r.flags|=2048,go(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,a,n,t),null),n},useId:function(){var e=za(),t=ic.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Ea++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Na++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:co,useActionState:co,useOptimistic:function(e){var t=za();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Uo.bind(null,xa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return za().memoizedState=Fo.bind(null,xa)}},Go={readContext:Ei,use:Ua,useCallback:Eo,useContext:Ei,useEffect:xo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:_o,useMemo:Co,useReducer:Wa,useRef:mo,useState:function(){return Wa(qa)},useDebugValue:To,useDeferredValue:function(e,t){return No(Va(),wa.memoizedState,e,t)},useTransition:function(){var e=Wa(qa)[0],t=Va().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ga,useId:jo,useHostTransitionStatus:Lo,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return to(Va(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Ro},Yo={readContext:Ei,use:Ua,useCallback:Eo,useContext:Ei,useEffect:xo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:_o,useMemo:Co,useReducer:Qa,useRef:mo,useState:function(){return Qa(qa)},useDebugValue:To,useDeferredValue:function(e,t){var n=Va();return null===wa?Do(n,e,t):No(n,wa.memoizedState,e,t)},useTransition:function(){var e=Qa(qa)[0],t=Va().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ga,useId:jo,useHostTransitionStatus:Lo,useFormState:po,useActionState:po,useOptimistic:function(e,t){var n=Va();return null!==wa?to(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Ro},Xo=null,$o=0;function Jo(e){var t=$o;return $o+=1,null===Xo&&(Xo=[]),Ji(Xo,e,t)}function Zo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function es(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ts(e){return(0,e._init)(e._payload)}function ns(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&ts(a)===t.type)?(Zo(t=i(t,n.props),n),t.return=e,t):(Zo(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Zo(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Hr(t,e.mode,n)).return=e,t;case E:return d(e,t=(0,t._init)(t._payload),n)}if(O(t)||I(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Jo(t),n);if(t.$$typeof===w)return d(e,Ci(e,t),n);es(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||I(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Jo(n),r);if(n.$$typeof===w)return f(e,t,Ci(e,n),r);es(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||I(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Jo(r),i);if(r.$$typeof===w)return y(e,t,n,Ci(t,r),i);es(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ts(b)===c.type){n(l,c.sibling),Zo(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((h=Br(u.props.children,l.mode,h,u.key)).return=l,l=h):(Zo(h=Vr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Hr(u,l.mode,h)).return=l,l=h}return s(l);case E:return v(l,c,u=(b=u._init)(u._payload),h)}if(O(u))return function(i,o,s,l){for(var c=null,u=null,h=o,p=o=0,g=null;null!==h&&p<s.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(i,h,s[p],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),o=a(m,o,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===s.length)return n(i,h),ai&&Zr(i,p),c;if(null===h){for(;p<s.length;p++)null!==(h=d(i,s[p],l))&&(o=a(h,o,p),null===u?c=h:u.sibling=h,u=h);return ai&&Zr(i,p),c}for(h=r(h);p<s.length;p++)null!==(g=y(h,i,p,s[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),o=a(g,o,p),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),ai&&Zr(i,p),c}(l,c,u,h);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,p=s,g=s=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,g),null===h?u=b:h.sibling=b,h=b,p=m}if(v.done)return n(i,p),ai&&Zr(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return ai&&Zr(i,g),u}for(p=r(p);!v.done;g++,v=l.next())null!==(v=y(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach((function(e){return t(i,e)})),ai&&Zr(i,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,Jo(u),h);if(u.$$typeof===w)return v(l,c,Ci(l,u),h);es(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Ur(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{$o=0;var i=v(e,t,n,r);return Xo=null,i}catch(Li){if(Li===Ki||Li===Gi)throw Li;var a=jr(29,Li,null,e.mode);return a.lanes=r,a.return=e,a}}}var rs=ns(!0),is=ns(!1),as=z(null),os=null;function ss(e){var t=e.alternate;B(hs,1&hs.current),B(as,e),null===os&&(null===t||null!==pa.current||null!==t.memoizedState)&&(os=e)}function ls(e){if(22===e.tag){if(B(hs,hs.current),B(as,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else cs()}function cs(){B(hs,hs.current),B(as,as.current)}function us(e){V(as),os===e&&(os=null),V(hs)}var hs=z(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=aa(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Rc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=aa(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Rc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),r=aa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oa(e,r,n))&&(Rc(t,e,n),sa(t,e,n))}};function gs(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,a))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function ys(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bs(e){vs(e)}function xs(e){console.error(e)}function ws(e){vs(e)}function _s(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ks(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){_s(e,t)},n}function Ts(e){return(e=aa(e)).tag=3,e}function Es(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ss(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ss(t,n,r),"function"!==typeof i&&(null===Tc?Tc=new Set([this]):Tc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Cs=Error(o(461)),Ds=!1;function Ns(e,t,n,r){t.child=null===e?is(t,null,n,r):rs(t,e.child,n,r)}function Is(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ti(t),r=Ma(e,t,n,o,a,i),s=ja(),null===e||Ds?(ai&&s&&ti(t),t.flags|=1,Ns(e,t,r,i),t.child):(Ra(e,t,i),Xs(e,t,i))}function As(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,i))}if(a=e.child,!$s(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(o,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Xn(a,r)&&e.ref===t.ref){if(Ds=!1,t.pendingProps=r=a,!$s(e,i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(Ds=!0)}}return js(e,t,n,r,i)}function Os(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ps(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ya(),ls(t)}else null!==a?(qi(0,a.cachePool),ma(t,a),cs(),t.memoizedState=null):(null!==e&&qi(0,null),ya(),cs());return Ns(e,t,i,n),t.child}function Ps(e,t,n,r){var i=Hi();return i=null===i?null:{parent:Mi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),ya(),ls(t),null!==e&&Si(e,t,r,!0),null}function Ls(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function js(e,t,n,r,i){return Ti(t),n=Ma(e,t,n,r,void 0,i),r=ja(),null===e||Ds?(ai&&r&&ti(t),t.flags|=1,Ns(e,t,n,i),t.child):(Ra(e,t,i),Xs(e,t,i))}function Rs(e,t,n,r,i,a){return Ti(t),t.updateQueue=null,n=Pa(t,r,n,i),Oa(e),r=ja(),null===e||Ds?(ai&&r&&ti(t),t.flags|=1,Ns(e,t,n,a),t.child):(Ra(e,t,a),Xs(e,t,a))}function Fs(e,t,n,r,i){if(Ti(t),null===t.stateNode){var a=Pr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ei(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ps,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ra(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ei(o):Pr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(fs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ps.enqueueReplaceState(a,a.state,null),ha(t,r,a,i),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=ys(n,s);a.props=l;var c=a.context,u=n.contextType;o=Pr,"object"===typeof u&&null!==u&&(o=Ei(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ms(t,a,r,o),na=!1;var d=t.memoizedState;a.state=d,ha(t,r,a,i),ua(),c=t.memoizedState,s||d!==c||na?("function"===typeof h&&(fs(t,n,h,r),c=t.memoizedState),(l=na||gs(t,n,l,r,d,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ia(e,t),u=ys(n,o=t.memoizedProps),a.props=u,h=t.pendingProps,d=a.context,c=n.contextType,l=Pr,"object"===typeof c&&null!==c&&(l=Ei(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ms(t,a,r,l),na=!1,d=t.memoizedState,a.state=d,ha(t,r,a,i),ua();var f=t.memoizedState;o!==h||d!==f||na||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof s&&(fs(t,n,s,r),f=t.memoizedState),(u=na||gs(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ls(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,n,i)):Ns(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Xs(e,t,i),e}function zs(e,t,n,r){return fi(),t.flags|=256,Ns(e,t,n,r),t.child}var Vs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:Wi()}}function Us(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Hs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&hs.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ss(t):cs(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=jr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yh(c)?t.lanes=32:t.lanes=536870912,null;us(t)}return c=i.children,i=i.fallback,a?(cs(),c=Ws({mode:"hidden",children:c},a=t.mode),i=Br(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Bs(n),a.childLanes=Us(e,r,n),t.memoizedState=Vs,i):(ss(t),qs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(ss(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),a=i.fallback,c=t.mode,i=Ws({mode:"visible",children:i.children},c),(a=Br(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,rs(t,e.child,null,n),(i=t.child).memoizedState=Bs(n),i.childLanes=Us(e,r,n),t.memoizedState=Vs,t=a);else if(ss(t),yh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Ks(e,t,n)}else if(Ds||Si(e,t,n,!1),r=0!==(n&e.childLanes),Ds||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:De(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Rc(r,e,i),Cs;"$?"===c.data||Gc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vh(c.nextSibling),ri=t,ai=!0,oi=null,si=!1,null!==e&&(Gr[Yr++]=$r,Gr[Yr++]=Jr,Gr[Yr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=qs(t,i.children)).flags|=4096);return t}return a?(cs(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Fr(u,a):(a=Br(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Bs(n):(null!==(l=c.cachePool)?(u=Mi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Us(e,r,n),t.memoizedState=Vs,i):(ss(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qs(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=jr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return rs(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Gs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ns(e,t,r.children,n),0!==(2&(r=hs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n,t);else if(19===e.tag)Qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(hs,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,a);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ds=!0;else{if(!$s(e,n)&&0===(128&t.flags))return Ds=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Mi,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ss(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Hs(e,t,n):(ss(t),null!==(e=Xs(e,t,n))?e.sibling:null);ss(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(hs,hs.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n);case 24:bi(0,Mi,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Ds=0!==(131072&e.flags)}else Ds=!1,ai&&0!==(1048576&t.flags)&&ei(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===_){t.tag=11,t=Is(null,t,r,e,n);break e}if(i===T){t.tag=14,t=As(null,t,r,e,n);break e}}throw t=M(r)||r,Error(o(306,t,""))}Rr(r)?(e=ys(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=js(null,t,r,e,n))}return t;case 0:return js(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,i=ys(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ia(e,t),ha(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Mi,r),r!==a.cache&&_i(t,[Mi],n,!0),ua(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=zs(e,t,r,n);break e}if(r!==i){gi(i=kr(Error(o(424)),t)),t=zs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ri=t,ai=!0,oi=null,si=!0,n=is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Xs(e,t,n);break e}Ns(e,t,r,n)}t=t.child}return t;case 26:return Ls(e,t),null===e?(n=Nh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=ih(q.current).createElement(n))[Me]=t,r[Oe]=e,th(r,n,e),We(r),t.stateNode=r):t.memoizedState=Nh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ai&&(r=t.stateNode=wh(t.type,t.pendingProps,q.current),ri=t,si=!0,i=ii,ph(t.type)?(bh=i,ii=vh(r.firstChild)):ii=i),Ns(e,t,t.pendingProps.children,n),Ls(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=vh(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,sh(i,a)?r=null:null!==s&&sh(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Ma(e,t,La,null,null,n),Yh._currentValue=i),Ls(e,t),Ns(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Hs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rs(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return Is(e,t,t.type,t.pendingProps,n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Ns(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=Ei(i)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return As(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Os(e,t,n);case 24:return Ti(t),r=Ei(Mi),null===e?(null===(i=Hi())&&(i=ic,a=Oi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ra(t),bi(0,Mi,i)):(0!==(e.lanes&n)&&(ia(e,t),ha(t,null,null,n),ua()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Mi,r)):(r=a.cache,bi(0,Mi,r),r!==i.cache&&_i(t,[Mi],n,!0))),Ns(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Zs(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uh(t)){if(null!==(t=as.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Zi=Yi,Qi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xi(Mi),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}e=U.current,di(t)?ui(t):(e=wh(i,r,n),t.stateNode=e,Zs(t))}return rl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}if(e=U.current,di(t))ui(t);else{switch(i=ih(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Me]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(th(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ci(t)}else(e=ih(e).createTextNode(r))[Me]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Me]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return Q(),null===e&&Bu(t.stateNode.containerInfo),rl(t),null;case 10:return xi(t.type),rl(t),null;case 19:if(V(hs),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,nl(i,!1),e=a.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return B(hs,1&hs.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return rl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=hs.current,B(hs,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return us(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Mi),rl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Mi),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(hs),null;case 4:return Q(),null;case 10:return xi(t.type),null;case 22:case 23:return us(t),va(),null!==e&&V(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Mi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:xi(Mi),Q();break;case 26:case 27:case 5:Y(t);break;case 4:Q();break;case 13:us(t);break;case 19:V(hs);break;case 10:xi(t.type);break;case 22:case 23:us(t),va(),null!==e&&V(Ui);break;case 24:xi(Mi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){hu(t,t.return,s)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(r){hu(e,e.return,r)}}}function ul(e,t,n){n.props=ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Zu(e,t,f,p,r,d)}}return void mt(e,s,l,c,u,h,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Zu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Zu(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Zu(e,t,s,i,r,a)}return void xt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Zu(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Zu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(Et(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&eh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||eh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Zu(e,t,d,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(i){hu(e,e.return,i)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);th(t,r,n),t[Me]=e,t[Oe]=n}catch(a){hu(e,e.return,a)}}var xl=!1,wl=!1,_l=!1,Sl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hu(n,n.return,o)}else{var i=ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){hu(n,n.return,s)}}64&r&&cl(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(o){hu(n,n.return,o)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&fl(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||wl,i=xl;var a=wl;xl=r,(wl=t)&&!a?Vl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),xl=i,wl=a}break;case 30:break;default:Fl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Dl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Cl,i=Dl;ph(n.type)&&(Cl=n.stateNode,Dl=!1),Nl(e,t,n),_h(n.stateNode),Cl=r,Dl=i;break;case 5:wl||dl(n,t);case 6:if(r=Cl,i=Dl,Cl=null,Nl(e,t,n),Dl=i,null!==(Cl=r))if(Dl)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(o){hu(n,t,o)}else try{Cl.removeChild(n.stateNode)}catch(o){hu(n,t,o)}break;case 18:null!==Cl&&(Dl?(gh(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Dd(e)):gh(Cl,n.stateNode));break;case 4:r=Cl,i=Dl,Cl=n.stateNode.containerInfo,Dl=!0,Nl(e,t,n),Cl=r,Dl=i;break;case 0:case 11:case 14:case 15:wl||ll(2,n,t),wl||ll(4,n,t),Nl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Nl(e,t,n),wl=r;break;default:Nl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Dd(e)}catch(n){hu(t,t.return,n)}}function Ml(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Cl=l.stateNode,Dl=!1;break e}break;case 5:Cl=l.stateNode,Dl=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===Cl)throw Error(o(160));Il(a,s,i),Cl=null,Dl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Pl=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),jl(e),4&r&&(ll(3,e,e.return),sl(3,e),ll(5,e,e.return));break;case 1:Ol(t,e),jl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Pl;if(Ol(t,e),jl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[ze]||a[Me]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),th(a,r,n),a[Me]=e,We(a),r=a;break e;case"link":var s=Vh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}th(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Vh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}th(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Me]=e,We(a),r=a}e.stateNode=r}else Bh(i,e.type,e.stateNode);else e.stateNode=Lh(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Bh(i,e.type,e.stateNode):Lh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),jl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),jl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(p){hu(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(_l=!0);break;case 6:if(Ol(t,e),jl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){hu(e,e.return,p)}}break;case 3:if(zh=null,i=Pl,Pl=Th(t.containerInfo),Ol(t,e),Pl=i,jl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Dd(t.containerInfo)}catch(p){hu(e,e.return,p)}_l&&(_l=!1,Rl(e));break;case 4:r=Pl,Pl=Th(e.stateNode.containerInfo),Ol(t,e),jl(e),Pl=r;break;case 12:default:Ol(t,e),jl(e);break;case 13:Ol(t,e),jl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(_c=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ml(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,h=wl;if(xl=u||i,wl=h||c,Ol(t,e),wl=h,xl=u,jl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||xl||wl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){hu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){hu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ml(e,n))));break;case 19:Ol(t,e),jl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ml(e,r)));case 30:case 21:}}function jl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(gl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(_t(a,""),n.flags&=-33),vl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;yl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),zl(t);break;case 27:_h(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Vl(i,a,n),sl(4,a);break;case 1:if(Vl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],s)}catch(c){hu(r,r.return,c)}}n&&64&o&&cl(a),hl(a,a.return);break;case 27:bl(a);case 26:case 5:Vl(i,a,n),n&&null===r&&4&o&&fl(a),hl(a,a.return);break;case 12:Vl(i,a,n);break;case 13:Vl(i,a,n),n&&4&o&&Al(i,a);break;case 22:null===a.memoizedState&&Vl(i,a,n),hl(a,a.return);break;case 30:break;default:Vl(i,a,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Pi(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pi(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pi(e)));break;case 12:if(2048&i){Hl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Hl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Hl(e,t,n,r):Kl(e,t):2&a._visibility?Hl(e,t,n,r):(a._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Bl(o,t);break;case 24:Hl(e,t,n,r),2048&i&&Ul(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Wl(a,o,s,l,i),sl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Wl(a,o,s,l,i):Kl(a,o):(u._visibility|=2,Wl(a,o,s,l,i)),i&&2048&c&&Bl(o.alternate,o);break;case 24:Wl(a,o,s,l,i),i&&2048&c&&Ul(o.alternate,o);break;default:Wl(a,o,s,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Bl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Ul(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Ql=8192;function Gl(e){if(e.subtreeFlags&Ql)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&Ql&&null!==e.memoizedState&&function(e,t,n){if(null===Hh)throw Error(o(475));var r=Hh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ih(n.href),a=e.querySelector(Ah(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Mh(n),(i=Sh.get(i))&&Rh(n,i),We(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),th(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Pl;Pl=Th(e.stateNode.containerInfo),Gl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ql,Ql=16777216,Gl(e),Ql=t):Gl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,ec(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Pi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,a=r.return;if(El(r),r===n){kl=null;break e}if(null!==i){i.return=a,kl=i;break e}kl=a}}}var tc={getCacheForType:function(e){var t=Ei(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,ac=null,oc=0,sc=0,lc=null,cc=!1,uc=!1,hc=!1,dc=0,fc=0,pc=0,gc=0,mc=0,yc=0,vc=0,bc=null,xc=null,wc=!1,_c=0,Sc=1/0,kc=null,Tc=null,Ec=0,Cc=null,Dc=null,Nc=0,Ic=0,Ac=null,Mc=null,Oc=0,Pc=null;function Lc(){if(0!==(2&rc)&&0!==oc)return oc&-oc;if(null!==P.T){return 0!==Fi?Fi:Iu()}return Ie()}function jc(){0===yc&&(yc=0===(536870912&oc)||ai?_e():536870912);var e=as.current;return null!==e&&(e.flags|=32),yc}function Rc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),Bc(e,oc,yc,!1)),Te(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(gc|=n),4===fc&&Bc(e,oc,yc,!1)),Su(e))}function Fc(e,t,n){if(0!==(6&rc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Qc();ic!==e||oc!==t?(kc=null,Sc=te()+500,qc(e,t)):uc=xe(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var a=lc;t:switch(sc){case 1:sc=0,lc=null,eu(e,t,a,1);break;case 2:case 9:if(Xi(a)){sc=0,lc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),Su(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Xi(a)?(sc=0,lc=null,Zc(t)):(sc=0,lc=null,eu(e,t,a,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var l=ac;if(!s||Uh(s)){sc=0,lc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,tu(u)):ac=null}break t}}sc=0,lc=null,eu(e,t,a,5);break;case 6:sc=0,lc=null,eu(e,t,a,6);break;case 8:Hc(),fc=6;break e;default:throw Error(o(462))}}$c();break}catch(h){Wc(e,h)}return vi=yi=null,P.H=r,P.A=i,rc=n,null!==ac?0:(ic=null,oc=0,Dr(),fc)}(e,t):Yc(e,t,!0),a=r;;){if(0===i){uc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!a||Vc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=a,gc|=a,i=4;break e}a=xc,xc=i,null!==a&&(null===xc?xc=a:xc.push.apply(xc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){qc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,yc,!cc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=_c+300-te())){if(Bc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=ch(zc.bind(null,r,n,xc,kc,wc,t,yc,gc,vc,cc,a,2,-0,0),i)}else zc(r,n,xc,kc,wc,t,yc,gc,vc,cc,a,0,-0,0)}break}i=Yc(e,t,!1),a=!1}Su(e)}function zc(e,t,n,r,i,a,s,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Hh={stylesheets:null,count:0,unsuspend:qh},Yl(t),null!==(d=function(){if(null===Hh)throw Error(o(475));var e=Hh;return e.stylesheets&&0===e.count&&Qh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Qh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(ru.bind(null,e,t,a,n,r,i,s,l,c,h,1,f,p)),void Bc(e,a,s,!u);ru(e,t,a,n,r,i,s,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~mc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Ee(e,n,t)}function Uc(){return 0!==(6&rc)||(ku(0,!1),!1)}function Hc(){if(null!==ac){if(0===sc)var e=ac.return;else vi=yi=null,Fa(e=ac),Xo=null,$o=0,e=ac;for(;null!==e;)ol(e.alternate,e),e=e.return;ac=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,uh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ic=e,ac=n=Fr(e.current,null),oc=t,sc=0,lc=null,cc=!1,uc=xe(e,t),hc=!1,vc=yc=mc=gc=pc=fc=0,xc=bc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Dr(),n}function Wc(e,t){xa=null,P.H=Ko,t===Ki||t===Gi?(t=ea(),sc=3):t===Qi?(t=ea(),sc=4):sc=t===Cs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ac&&(fc=1,_s(e,kr(t,e.current)))}function Kc(){var e=P.H;return P.H=Ko,null===e?Ko:e}function Qc(){var e=P.A;return P.A=tc,e}function Gc(){fc=4,cc||(4194048&oc)!==oc&&null!==as.current||(uc=!0),0===(134217727&pc)&&0===(134217727&gc)||null===ic||Bc(ic,oc,yc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Kc(),a=Qc();ic===e&&oc===t||(kc=null,qc(e,t)),t=!1;var o=fc;e:for(;;)try{if(0!==sc&&null!==ac){var s=ac,l=lc;switch(sc){case 8:Hc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=sc;if(sc=0,lc=null,eu(e,s,l,c),n&&uc){o=0;break e}break;default:c=sc,sc=0,lc=null,eu(e,s,l,c)}}Xc(),o=fc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,P.H=i,P.A=a,null===ac&&(ic=null,oc=0,Dr()),o}function Xc(){for(;null!==ac;)Jc(ac)}function $c(){for(;null!==ac&&!Z();)Jc(ac)}function Jc(e){var t=Js(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rs(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Rs(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fa(t);default:ol(n,t),t=Js(n,t=ac=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function eu(e,t,n,r){vi=yi=null,Fa(t),Xo=null,$o=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===os?Gc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Gc(),!1}if(ai)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&gi(kr(e=Error(o(422),{cause:r}),n))):(r!==li&&gi(kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),la(e,i=ks(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var a=Error(o(520),{cause:r});if(a=kr(a,n),null===bc?bc=[a]:bc.push(a),4!==fc&&(fc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,la(n,e=ks(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Tc||!Tc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Es(i=Ts(i),e,n,r),la(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return fc=1,_s(e,kr(n,e.current)),void(ac=null)}catch(a){if(null!==i)throw ac=i,a;return fc=1,_s(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(ai||1===r?e=!0:uc||0!==(536870912&oc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=as.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);fc=6,ac=null}function ru(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Ec);if(0!==(6&rc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Ee(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Cr,s,l,c),e===ic&&(ac=ic=null,oc=0),Dc=t,Cc=e,Nc=n,Ic=a,Ac=i,Mc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,function(e,t){$(e,t)}(ae,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null,i=L.p,L.p=2,s=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nh=rd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:e,selectionRange:n},rd=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(a=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=ys(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=s,L.p=i,P.T=r}}Ec=1,iu(),au(),ou()}}function iu(){if(1===Ec){Ec=0;var e=Cc,t=Dc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var r=L.p;L.p=2;var i=rc;rc|=4;try{Ll(t,e);var a=rh,o=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var y=Jn(s,g),v=Jn(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var x=h[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rd=!!nh,rh=nh=null}finally{rc=i,L.p=r,P.T=n}}e.current=t,Ec=2}}function au(){if(2===Ec){Ec=0;var e=Cc,t=Dc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var r=L.p;L.p=2;var i=rc;rc|=4;try{Tl(e,t.alternate,t)}finally{rc=i,L.p=r,P.T=n}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=Cc,t=Dc,n=Nc,r=Mc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Dc=Cc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tc=null),Ne(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=P.T,i=L.p,L.p=2,P.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{P.T=t,L.p=i}}0!==(3&Nc)&&lu(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Pc?Oc++:(Oc=0,Pc=e):Oc=0,ku(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Pi(t)))}function lu(e){return iu(),au(),ou(),cu()}function cu(){if(5!==Ec)return!1;var e=Cc,t=Ic;Ic=0;var n=Ne(Nc),r=P.T,i=L.p;try{L.p=32>n?32:n,P.T=null,n=Ac,Ac=null;var a=Cc,s=Nc;if(Ec=0,Dc=Cc=null,Nc=0,0!==(6&rc))throw Error(o(331));var l=rc;if(rc|=4,Jl(a.current),ql(a,a.current,s,n),rc=l,ku(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{L.p=i,P.T=r,su(e,t)}}function uu(e,t,n){t=kr(n,t),null!==(e=oa(e,t=ks(e.stateNode,t,2),2))&&(Te(e,2),Su(e))}function hu(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Tc||!Tc.has(r))){e=kr(n,e),null!==(r=oa(t,n=Ts(2),2))&&(Es(n,r,t,e),Te(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===fc||3===fc&&(62914560&oc)===oc&&300>te()-_c?0===(2&rc)&&qc(e,0):mc|=n,vc===oc&&(vc=0)),Su(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Ar(e,t))&&(Te(e,t),Su(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,xu=!1,wu=!1,_u=0;function Su(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),xu=!0,bu||(bu=!0,dh((function(){0!==(6&rc)?$(re,Tu):Eu()})))}function ku(e,t){if(!wu&&xu){wu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Nu(r,a))}else a=oc,0===(3&(a=be(r,r===ic?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,a)||(n=!0,Nu(r,a));r=r.next}}while(n);wu=!1}}function Tu(){Eu()}function Eu(){xu=bu=!1;var e=0;0!==_u&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lh&&(lh=e,!0);return lh=null,!1}()&&(e=_u),_u=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,a=Cu(r,t);0===a?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&a))&&(xu=!0)),r=i}ku(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-fe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=we(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=oc,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Du.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Du(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Du.bind(null,e):null)}function Nu(e,t){if(lu())return null;Fc(e,t,!0)}function Iu(){return 0===_u&&(_u=_e()),_u}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Mu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<wr.length;Ou++){var Pu=wr[Ou];_r(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(gr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(mr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){vs(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){vs(u)}i.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Vu]){e[Vu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(ju.has(t)||zu(t,!1,e),zu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,zu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(ud(t)){case 2:var i=id;break;case 8:i=ad;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Be(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}jt((function(){var r=a,i=At(n),o=[];e:{var s=xr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case gr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=xn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==s?s+"Capture":null:s;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Rt(g,f))&&h.push(qu(g,m,p)),d)break;g=g.return}0<h.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Pe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?s:He(c),p=null==u?s:He(u),(s=new h(m,g+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,Be(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)e:{for(f=u,g=0,p=h=c;p;p=Ku(p))g++;for(p=0,m=f;m;m=Ku(m))p++;for(;0<g-p;)h=Ku(h),g--;for(;0<p-g;)f=Ku(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break e;h=Ku(h),f=Ku(f)}h=null}else h=null;null!==c&&Qu(o,s,c,h,!1),null!==u&&null!==d&&Qu(o,d,u,h,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(Mn(s))if(zn)y=Gn;else{y=Kn;var v=Wn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(y=Fn):y=Qn;switch(y&&(y=y(e,r))?On(o,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?He(r):window,e){case"focusin":(Mn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,i)}var b;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?Dn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Tn&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(b=qt()):(Ut="value"in(Bt=i)?Bt.value:Bt.textContent,In=!0)),0<(v=Wu(r,x)).length&&(x=new cn(x,e,null,n,i),o.push({event:x,listeners:v}),b?x.data=b:null!==(b=Nn(n))&&(x.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Cn=!0,En);case"textInput":return(e=t.data)===En&&Cn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!_n&&Dn(e,t)?(e=qt(),Ht=Ut=Bt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Au((i[Oe]||null).action),o=r.submitter;o&&null!==(t=(t=o[Oe]||null)?Au(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==_u){var e=o?Mu(i,o):new FormData(i);Mo(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Mu(i,o):new FormData(i),Mo(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ru(o,t)}))}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Rt(e,n))&&r.unshift(qu(e,i,a)),null!=(i=Rt(e,t))&&r.push(qu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Qu(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Rt(n,a))&&o.unshift(qu(n,c,l)):i||null!=(c=Rt(n,a))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function eh(e,t,n,r,i,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Oe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function th(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,r,s,n,null)}}return a&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":a=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Zu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,s,a,!1),void ht(e);case"select":for(a in Fu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Fu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Zu(e,t,s,l,n,null)}return wt(e,i,a,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Lu.length;i++)Fu(Lu[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Et(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&eh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nh=null,rh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lh=null;var ch="function"===typeof setTimeout?setTimeout:void 0,uh="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,dh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(e){return hh.resolve(null).then(e).catch(fh)}:ch;function fh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function gh(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&_h(o.documentElement),2&n&&_h(o.body),4&n)for(_h(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Dd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Dd(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bh=null;function xh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function _h(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Sh=new Map,kh=new Set;function Th(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Eh=L.d;L.d={f:function(){var e=Eh.f(),t=Uc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Po(t):Eh.r(e)},D:function(e){Eh.D(e),Dh("dns-prefetch",e,null)},C:function(e,t){Eh.C(e,t),Dh("preconnect",e,t)},L:function(e,t,n){Eh.L(e,t,n);var r=Ch;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var a=i;switch(t){case"style":a=Ih(e);break;case"script":a=Oh(e)}Sh.has(a)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sh.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ah(a))||"script"===t&&r.querySelector(Ph(a))||(th(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Eh.m(e,t);var n=Ch;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Oh(e)}if(!Sh.has(a)&&(e=d({rel:"modulepreload",href:e},t),Sh.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ph(a)))return}th(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Eh.X(e,t);var n=Ch;if(n&&e){var r=qe(n).hoistableScripts,i=Oh(e),a=r.get(i);a||((a=n.querySelector(Ph(i)))||(e=d({src:e,async:!0},t),(t=Sh.get(i))&&Fh(e,t),We(a=n.createElement("script")),th(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Eh.S(e,t,n);var r=Ch;if(r&&e){var i=qe(r).hoistableStyles,a=Ih(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Ah(a)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sh.get(a))&&Rh(e,n);var l=o=r.createElement("link");We(l),th(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,jh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Eh.M(e,t);var n=Ch;if(n&&e){var r=qe(n).hoistableScripts,i=Oh(e),a=r.get(i);a||((a=n.querySelector(Ph(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Sh.get(i))&&Fh(e,t),We(a=n.createElement("script")),th(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Ch="undefined"===typeof document?null:document;function Dh(e,t,n){var r=Ch;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kh.has(i)||(kh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(th(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Nh(e,t,n,r){var i,a,s,l,c=(c=q.current)?Th(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ih(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ih(n.href);var u=qe(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ah(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Sh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sh.set(e,n),u||(i=c,a=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),th(a,"link",s),We(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ih(e){return'href="'+gt(e)+'"'}function Ah(e){return'link[rel="stylesheet"]['+e+"]"}function Mh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+gt(e)+'"]'}function Ph(e){return"script[async]"+e}function Lh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),th(r,"style",i),jh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ih(n.href);var a=e.querySelector(Ah(i));if(a)return t.state.loading|=4,t.instance=a,We(a),a;r=Mh(n),(i=Sh.get(i))&&Rh(r,i),We(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),th(a,"link",r),t.state.loading|=4,jh(a,n.precedence,e),t.instance=a;case"script":return a=Oh(n.src),(i=e.querySelector(Ph(a)))?(t.instance=i,We(i),i):(r=n,(i=Sh.get(a))&&Fh(r=d({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),th(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,jh(r,n.precedence,e));return t.instance}function jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zh=null;function Vh(e,t,n){if(null===zh){var r=new Map,i=zh=new Map;i.set(n,r)}else(r=(i=zh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ze]||a[Me]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Bh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hh=null;function qh(){}function Wh(){if(this.count--,0===this.count)if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kh=null;function Qh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kh=new Map,t.forEach(Gh,e),Kh=null,Wh.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Kh.get(e);if(n)var r=n.get(null);else{n=new Map,Kh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Wh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yh={$$typeof:w,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Xh(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $h(e,t,n,r,i,a,o,s,l,c,u,h){return e=new Xh(e,t,n,o,s,l,c,h),t=1,!0===a&&(t|=24),a=jr(3,null,null,t),e.current=a,a.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ra(a),e}function Jh(e){return e?e=Pr:Pr}function Zh(e,t,n,r,i,a){i=Jh(i),null===r.context?r.context=i:r.pendingContext=i,(r=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=oa(e,r,t))&&(Rc(n,0,t),sa(n,e,t))}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function nd(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Rc(t,0,67108864),td(e,67108864)}}var rd=!0;function id(e,t,n,r){var i=P.T;P.T=null;var a=L.p;try{L.p=2,od(e,t,n,r)}finally{L.p=a,P.T=i}}function ad(e,t,n,r){var i=P.T;P.T=null;var a=L.p;try{L.p=8,od(e,t,n,r)}finally{L.p=a,P.T=i}}function od(e,t,n,r){if(rd){var i=sd(r);if(null===i)Hu(e,t,r,ld,n),bd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dd=xd(dd,e,t,n,r,i),!0;case"dragenter":return fd=xd(fd,e,t,n,r,i),!0;case"mouseover":return pd=xd(pd,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gd.set(a,xd(gd.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,md.set(a,xd(md.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var a=Ue(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ve(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}Su(a),0===(6&rc)&&(Sc=te()+500,ku(0,!1))}}break;case 13:null!==(s=Ar(a,2))&&Rc(s,0,2),Uc(),td(a,2)}if(null===(a=sd(r))&&Hu(e,t,r,ld,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function sd(e){return cd(e=At(e))}var ld=null;function cd(e){if(ld=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function ud(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var hd=!1,dd=null,fd=null,pd=null,gd=new Map,md=new Map,yd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":gd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function xd(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wd(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,(function(){if(13===n.tag){var e=Lc();e=De(e);var t=Ar(n,e);null!==t&&Rc(t,0,e),td(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _d(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&nd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Sd(e,t,n){_d(e)&&n.delete(t)}function kd(){hd=!1,null!==dd&&_d(dd)&&(dd=null),null!==fd&&_d(fd)&&(fd=null),null!==pd&&_d(pd)&&(pd=null),gd.forEach(Sd),md.forEach(Sd)}function Td(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kd)))}var Ed=null;function Cd(e){Ed!==e&&(Ed=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Ed===e&&(Ed=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===cd(r||n))continue;break}var a=Ue(n);null!==a&&(e.splice(t,3),t-=3,Mo(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Dd(e){function t(t){return Td(t,e)}null!==dd&&Td(dd,e),null!==fd&&Td(fd,e),null!==pd&&Td(pd,e),gd.forEach(t),md.forEach(t);for(var n=0;n<yd.length;n++){var r=yd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yd.length&&null===(n=yd[0]).blockedOn;)wd(n),null===n.blockedOn&&yd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Oe]||null;if("function"===typeof a)o||Cd(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Oe]||null)s=o.formAction;else if(null!==cd(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Cd(n)}}}function Nd(e){this._internalRoot=e}function Id(e){this._internalRoot=e}Id.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zh(t.current,Lc(),e,t,null,null)},Id.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),Uc(),t[Pe]=null}},Id.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yd.length&&0!==t&&t<yd[n].priority;n++);yd.splice(n,0,e),0===n&&wd(e)}};var Ad=i.version;if("19.1.0"!==Ad)throw Error(o(527,Ad,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Md={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ue=Od.inject(Md),he=Od}catch(Ld){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=bs,a=xs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$h(e,1,!1,null,0,n,r,i,a,l,0,null),e[Pe]=t.current,Bu(e),new Nd(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=bs,l=xs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$h(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Jh(null),n=t.current,(i=aa(r=De(r=Lc()))).callback=null,oa(n,i,r),n=r,t.current.lanes=n,Te(t,n),Su(t),e[Pe]=t.current,Bu(e),new Id(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function k(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(){}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return N((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+C(e,0):a,w(o)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+u,o=k(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,p=""===a?".":a+":";if(w(e))for(var g=0;g<e.length;g++)u+=N(a=e[g],t,i,s=p+C(a,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,s=p+C(a,g++),o);else if("object"===s){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(D,D):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,M)}catch(a){M(a)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,k||(k=!0,S());else{var t=r(u);null!==t&&M(_,t.startTime-e)}}var S,k=!1,T=-1,E=5,C=-1;function D(){return!!y||!(t.unstable_now()-C<E)}function N(){if(y=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(T),T=-1),p=!0;var a=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&D());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&M(_,l.startTime-e),n=!1}}break e}finally{d=null,f=a,p=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof x)S=function(){x(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=N,S=function(){A.postMessage(null)}}else S=function(){v(N,0)};function M(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(m?(b(T),T=-1):m=!0,M(_,a-o))):(e.sortIndex=s,n(c,e),g||p||(g=!0,k||(k=!0,S()))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const u=["sri"],h=["page"],d=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function y(){return k((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return w("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:_(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,u=h();function h(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=h(),t=null==e?null:e-u;u=e,l&&l({action:s,location:p.location,delta:t})}function f(e){return T(e)}null==u&&(u=0,o.replaceState(c(c({},o.state),{},{idx:u}),""));let p={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m,d),l=e,()=>{i.removeEventListener(m,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=w(p.location,e,t);n&&n(r,e),u=h()+1;let c=x(r,u),d=p.createHref(r);try{o.pushState(c,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}a&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=w(p.location,e,t);n&&n(r,e),u=h();let i=x(r,u),c=p.createHref(r);o.replaceState(i,"",c),a&&l&&l({action:s,location:p.location,delta:0})},go:e=>o.go(e)};return p}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:_(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function E(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let i=U(("string"===typeof t?S(t):t).pathname||"/",n);if(null==i)return null;let a=D(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=B(i);o=F(a[s],e,r)}return o}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(v(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let s=Q([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),D(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:R(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of N(e.path))i(e,t,r);else i(e,t)})),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=N(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var I=/^:[\w-]+$/,A=3,M=2,O=1,P=10,L=-2,j=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=L),t&&(r+=M),n.filter((e=>!j(e))).reduce(((e,t)=>e+(I.test(t)?A:""===t?O:P)),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Q([a,u.pathname]),pathnameBase:G(Q([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=Q([a,u.pathnameBase]))}return o}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function W(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function K(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=c({},e),v(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?S(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Y(r),hash:X(i)}}(r,a),u=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["POST","PUT","PATCH","DELETE"],Z=(new Set(J),["GET",...J]);new Set(Z),Symbol("ResetLoaderData");var ee=r.createContext(null);ee.displayName="DataRouter";var te=r.createContext(null);te.displayName="DataRouterState";var ne=r.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=r.createContext(new Map);re.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var ae=r.createContext(null);ae.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var se=r.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var le=r.createContext(null);le.displayName="RouteError";function ce(){return null!=r.useContext(oe)}function ue(){return v(ce(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){r.useContext(ae).static||r.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=r.useContext(se);return e?function(){let{router:e}=ke("useNavigate"),t=Ee("useNavigate"),n=r.useRef(!1);de((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,he),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,c({fromRouteId:t},i)))}),[e,t]);return i}():function(){v(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ee),{basename:t,navigator:n}=r.useContext(ae),{matches:i}=r.useContext(se),{pathname:a}=ue(),o=JSON.stringify(W(i)),s=r.useRef(!1);de((()=>{s.current=!0}));let l=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(s.current,he),!s.current)return;if("number"===typeof r)return void n.go(r);let l=K(r,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,a,e]);return l}()}var pe=r.createContext(null);function ge(){let{matches:e}=r.useContext(se),t=e[e.length-1];return t?t.params:{}}function me(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(se),{pathname:i}=ue(),a=JSON.stringify(W(n));return r.useMemo((()=>K(e,JSON.parse(a),i,"path"===t)),[e,a,i,t])}function ye(e,t,n,i){v(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=r.useContext(ae),{matches:o}=r.useContext(se),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",h=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";Ne(u,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=ue();if(t){var g;let e="string"===typeof t?S(t):t;v("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let m=f.pathname||"/",y=m;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=E(e,{pathname:y});b(d||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=_e(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Q([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Q([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,i);return t&&w?r.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function ve(){let e=Ce(),t=$(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,s)}var be=r.createElement(ve,null),xe=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(se.Provider,{value:this.props.routeContext},r.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(ee);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(se.Provider,{value:t},i)}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id])));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,s=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,d=l.route.errorElement||be,o&&(s<0&&0===c?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):s===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),g=()=>{let t;return t=u?d:h?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(we,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(xe,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(e){let t=r.useContext(ee);return v(t,Se(e)),t}function Te(e){let t=r.useContext(te);return v(t,Se(e)),t}function Ee(e){let t=function(e){let t=r.useContext(se);return v(t,Se(e)),t}(e),n=t.matches[t.matches.length-1];return v(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=r.useContext(le),n=Te("useRouteError"),i=Ee("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var De={};function Ne(e,t,n){t||De[e]||(De[e]=!0,b(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ye(t,void 0,r,n)}));function Ie(e){return function(e){let t=r.useContext(se).outlet;return t?r.createElement(pe.Provider,{value:e},t):t}(e.context)}function Ae(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:o,static:s=!1}=e;v(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:o,static:s,future:{}})),[l,o,s]);"string"===typeof i&&(i=S(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,g=r.useMemo((()=>{let e=U(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:a}}),[l,u,h,d,f,p,a]);return b(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ae.Provider,{value:c},r.createElement(oe.Provider,{children:n,value:g}))}function Oe(e){let{children:t,location:n}=e;return ye(Pe(t),n)}r.Component;function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Pe(e.props.children,a));v(e.type===Ae,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Pe(e.props.children,a)),n.push(o)})),n}var Le="get",je="application/x-www-form-urlencoded";function Re(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ve(e){return null==e||ze.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(je,'"')),null)}function Be(e,t){let n,r,i,a,o;if(Re(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?U(o,t):null,n=e.getAttribute("method")||Le,i=Ve(e.getAttribute("enctype"))||je,a=new FormData(e)}else if(function(e){return Re(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Re(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?U(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Le,i=Ve(e.getAttribute("formenctype"))||Ve(o.getAttribute("enctype"))||je,a=new FormData(o,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Re(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Le,r=null,i=je,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function He(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function qe(e){return null!=e&&"string"===typeof e.page}function We(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ke(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Ge(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!qe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function Ye(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Xe=new Set([100,101,204,205]);function $e(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===U(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function Je(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(t))return r.createElement(Ze,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Ze,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Ze(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:o}=e,{routeModules:s}=it();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!a?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?r.createElement(ht,null):null)))}function et(e,t){return"lazy"===e.mode&&!0===t}function tt(){let e=r.useContext(ee);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nt(){let e=r.useContext(te);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rt=r.createContext(void 0);function it(){let e=r.useContext(rt);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot(e,t,n){if(n&&!ut)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function st(e){let{page:t}=e,n=i(e,h),{router:a}=tt(),o=r.useMemo((()=>E(a.routes,t,a.basename)),[a.routes,t,a.basename]);return o?r.createElement(ct,c({page:t,matches:o},n)):null}function lt(e){let{manifest:t,routeModules:n}=it(),[i,a]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Ge((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await He(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(We).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||a(e)})),()=>{r=!0}}),[e,t,n]),i}function ct(e){let{page:t,matches:n}=e,a=i(e,d),o=ue(),{manifest:s,routeModules:l}=it(),{basename:u}=tt(),{loaderData:h,matches:f}=nt(),p=r.useMemo((()=>Ke(t,n,f,s,o,"data")),[t,n,f,s,o]),g=r.useMemo((()=>Ke(t,n,f,s,o,"assets")),[t,n,f,s,o]),m=r.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=s.routes[t.route.id];i&&i.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=$e(t,u);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[u,h,o,s,p,n,t,l]),y=r.useMemo((()=>Qe(g,s)),[g,s]),v=lt(g);return r.createElement(r.Fragment,null,m.map((e=>r.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},a)))),y.map((e=>r.createElement("link",c({key:e,rel:"modulepreload",href:e},a)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",c({key:t},n))})))}rt.displayName="FrameworkContext";var ut=!1;function ht(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:o,routeDiscovery:s,ssr:l}=it(),{router:h,static:d,staticContext:f}=tt(),{matches:p}=nt(),g=et(s,l);o&&(o.didRenderScripts=!0);let m=ot(p,null,a);r.useEffect((()=>{ut=!0}),[]);let y=r.useMemo((()=>{var a;let o=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=d?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(m.map(((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ue(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,u),a=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach((e=>{let n=E(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let l=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(t,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ye(o),type:void 0})),r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ye(s),type:"module",async:!0})))}),[]),v=ut?[]:(b=t.entry.imports.concat(Qe(m,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let x="object"===typeof t.sri?t.sri:{};return ut?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0}))),y)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.6.3")}catch(yE){}function pt(e){let{basename:t,children:n,window:i}=e,a=r.useRef();null==a.current&&(a.current=y({window:i,v5Compat:!0}));let o=a.current,[s,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>o.listen(c)),[o,c]),r.createElement(Me,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef((function(e,t){let n,{onClick:a,discover:o="render",prefetch:s="none",relative:l,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:m,viewTransition:y}=e,x=i(e,f),{basename:w}=r.useContext(ae),S="string"===typeof g&&gt.test(g),k=!1;if("string"===typeof g&&S&&(n=g,ft))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=U(t.pathname,w);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:k=!0}catch(yE){b(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let T=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ae),{hash:a,pathname:o,search:s}=me(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:Q([n,o])),i.createHref({pathname:l,search:s,hash:a})}(g,{relative:l}),[E,C,D]=function(e,t){let n=r.useContext(rt),[i,a]=r.useState(!1),[o,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{a(!0)},g=()=>{a(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:at(l,p),onBlur:at(c,g),onMouseEnter:at(u,p),onMouseLeave:at(h,g),onTouchStart:at(d,p)}]:[!1,f,{}]}(s,x),N=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=ue(),u=me(e,{relative:o});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:_(c)===_(u);l(e,{replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:s})}}),[c,l,u,n,i,t,e,a,o,s])}(g,{replace:h,state:d,target:p,preventScrollReset:m,relative:l,viewTransition:y});let I=r.createElement("a",c(c(c({},x),D),{},{href:n||T,onClick:k||u?a:function(e){a&&a(e),e.defaultPrevented||N(e)},ref:dt(t,C),target:p,"data-discover":S||"render"!==o?void 0:"true"}));return E&&!S?r.createElement(r.Fragment,null,I,r.createElement(st,{page:T})):I}));mt.displayName="Link";var yt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:h,children:d}=e,f=i(e,p),g=me(u,{relative:f.relative}),m=ue(),y=r.useContext(te),{navigator:b,basename:x}=r.useContext(ae),w=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ne);v(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xt("useViewTransitionState"),a=me(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=U(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=U(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=z(a.pathname,s)||null!=z(a.pathname,o)}(g)&&!0===h,_=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,S=m.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&x&&(k=U(k,x)||k);const T="/"!==_&&_.endsWith("/")?_.length-1:_.length;let E,C=S===_||!s&&S.startsWith(_)&&"/"===S.charAt(T),D=null!=k&&(k===_||!s&&k.startsWith(_)&&"/"===k.charAt(_.length)),N={isActive:C,isPending:D,isTransitioning:w},I=C?n:void 0;E="function"===typeof o?o(N):[o,C?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(N):l;return r.createElement(mt,c(c({},f),{},{"aria-current":I,className:E,ref:t,style:A,to:u,viewTransition:h}),"function"===typeof d?d(N):d)}));yt.displayName="NavLink";var vt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:l,state:u,method:h=Le,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,b=i(e,g),x=St(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ae),i=r.useContext(se);v(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o=c({},me(e||".",{relative:t})),s=ue();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:Q([n,o.pathname]));return _(o)}(d,{relative:p}),S="get"===h.toLowerCase()?"get":"post",k="string"===typeof d&&gt.test(d);return r.createElement("form",c(c({ref:t,method:S,action:w,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;x(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:y})}},b),{},{"data-discover":k||"render"!==n?void 0:"true"}))}));function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(e){let t=r.useContext(ee);return v(t,bt(e)),t}vt.displayName="Form";var wt=0,_t=()=>"__".concat(String(++wt),"__");function St(){let{router:e}=xt("useSubmit"),{basename:t}=r.useContext(ae),n=Ee("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:s,formData:l,body:c}=Be(r,t);if(!1===i.navigate){let t=i.fetcherKey||_t();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}var kt=n(579);function Tt(){const[e,t]=(0,r.useState)({username:"",password:""}),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(""),s=fe(),l=n=>{const{name:r,value:i}=n.target;t(c(c({},e),{},{[r]:i}))};return(0,kt.jsx)("div",{style:Et.container,children:(0,kt.jsx)("div",{style:Et.loginBox,children:(0,kt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),i(!0);try{const t=await fetch("http://localhost:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();t.ok?(sessionStorage.setItem("token",JSON.stringify(n.token)),s("/admin")):o(n.message||"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i")}catch(a){o(a.message)}finally{i(!1)}},children:[(0,kt.jsx)("h1",{style:Et.title,children:"H\u1ec6 TH\u1ed0NG QU\u1ea2N L\xdd"}),(0,kt.jsx)("h2",{style:Et.subtitle,children:"UNI CINEMA"}),(0,kt.jsx)("h3",{style:Et.loginText,children:"\u0110\u0102NG NH\u1eacP"}),a&&(0,kt.jsx)("p",{style:Et.error,children:a}),(0,kt.jsx)("input",{type:"text",placeholder:"T\xean \u0111\u0103ng nh\u1eadp",value:e.username,name:"username",onChange:l,style:Et.input,required:!0}),(0,kt.jsx)("br",{}),(0,kt.jsx)("input",{type:"password",placeholder:"M\u1eadt kh\u1ea9u",value:e.password,name:"password",onChange:l,style:Et.input,required:!0}),(0,kt.jsx)("br",{}),(0,kt.jsx)("button",{type:"submit",style:Et.button,children:"\u0110\u0102NG NH\u1eacP"})]})})})}const Et={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"856px",backgroundColor:"#f0f2f5",fontFamily:"Arial, sans-serif"},loginBox:{backgroundColor:"#ffffff",padding:"40px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",width:"300px"},title:{color:"#1a73e8",fontSize:"24px",marginBottom:"5px"},subtitle:{color:"#5f6368",fontSize:"16px",marginBottom:"20px"},loginText:{color:"#202124",fontSize:"20px",marginBottom:"20px"},input:{width:"280px",padding:"10px",margin:"10px 0",border:"1px solid #ccc",borderRadius:"5px",fontSize:"14px"},button:{width:"100%",padding:"10px",backgroundColor:"#1a73e8",color:"#ffffff",border:"none",borderRadius:"5px",fontSize:"14px",cursor:"pointer",marginTop:"10px",transition:"background-color 0.3s"},error:{color:"red",fontSize:"14px",marginBottom:"10px"}};const Ct=class{static saveToken(e){sessionStorage.setItem("token",JSON.stringify(e))}static getToken(){const e=sessionStorage.getItem("token");return e?JSON.parse(e):null}static isAuthenticated(){const e=this.getToken();if(!e)return!1;try{const t=this.decodeToken(e),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(t){return console.error("Invalid token:",t),!1}}static decodeToken(e){const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join(""));return JSON.parse(n)}static getUsername(){const e=this.getToken();if(!e)return null;try{return this.decodeToken(e).username||null}catch(t){return console.error("Error decoding token:",t),null}}static getIdAdmin(){const e=this.getToken();if(!e)return null;try{return this.decodeToken(e).id_admin||null}catch(t){return console.error("Error decoding token:",t),null}}static getAdminLevel(){const e=this.getToken();if(!e)return null;try{return this.decodeToken(e).level||null}catch(t){return console.error("Error decoding token:",t),null}}static logout(){sessionStorage.removeItem("token")}};function Dt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Dt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Nt=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Dt(e))&&(r&&(r+=" "),r+=t);return r},It=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var At=e=>"number"==typeof e&&!isNaN(e),Mt=e=>"string"==typeof e,Ot=e=>"function"==typeof e,Pt=e=>Mt(e)||Ot(e)?e:null,Lt=(e,t)=>!1===e||At(e)&&e>0?e:t,jt=e=>(0,r.isValidElement)(e)||Mt(e)||Ot(e)||At(e);function Rt(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d,playToast:f}=e,p=i?"".concat(t,"--").concat(l):t,g=i?"".concat(n,"--").concat(l):n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{let e=h.current,t=p.split(" "),n=r=>{r.target===h.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{let e=h.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};d||(c?t():(m.current=1,e.className+=" ".concat(g),e.addEventListener("animationend",t)))}),[d]),r.createElement(r.Fragment,null,s)}}function Ft(e,t){return{content:zt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!Mt(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ot(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Vt(e){let{delay:t,isRunning:n,closeToast:i,type:a="default",hide:o,className:s,controlledProgress:l,progress:u,rtl:h,isIn:d,theme:f}=e,p=o||l&&0===u,g={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};l&&(g.transform="scaleX(".concat(u,")"));let m=Nt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":h}),y=Ot(s)?s({rtl:h,type:a,defaultClassName:m}):Nt(m,s),v={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(f," Toastify__progress-bar--").concat(a)}),r.createElement("div",c({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:g},v)))}var Bt=1,Ut=()=>"".concat(Bt++);function Ht(e,t,n){let r=1,i=0,a=[],o=[],s=t,l=new Map,u=new Set,h=()=>{o=Array.from(l.values()),u.forEach((e=>e()))},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},f=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}h()},p=e=>{var t,r;let{toastId:i,updateId:a}=e.props,o=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),h(),n(Ft(e,o?"added":"updated")),o&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:s,observe:e=>(u.add(e),()=>u.delete(e)),toggle:(e,t)=>{l.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:f,toasts:l,clearQueue:()=>{i-=a.length,a=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t,a=n?n!==e:1!==e,o=l.has(r)&&null==i;return a||o})(o))return;let{toastId:u,updateId:d,data:g,staleId:m,delay:y}=o,v=null==d;v&&i++;let b=c(c(c({},s),{},{style:s.toastStyle,key:r++},Object.fromEntries(Object.entries(o).filter((e=>{let[t,n]=e;return null!=n})))),{},{toastId:u,updateId:d,data:g,isIn:!1,className:Pt(o.className||s.toastClassName),progressClassName:Pt(o.progressClassName||s.progressClassName),autoClose:!o.isLoading&&Lt(o.autoClose,s.autoClose),closeToast(e){l.get(u).removalReason=e,f(u)},deleteToast(){let e=l.get(u);if(null!=e){if(n(Ft(e,"removed")),l.delete(u),i--,i<0&&(i=0),a.length>0)return void p(a.shift());h()}}});b.closeButton=s.closeButton,!1===o.closeButton||jt(o.closeButton)?b.closeButton=o.closeButton:!0===o.closeButton&&(b.closeButton=!jt(s.closeButton)||s.closeButton);let x={content:t,props:b,staleId:m};s.limit&&s.limit>0&&i>s.limit&&v?a.push(x):At(y)?setTimeout((()=>{p(x)}),y):p(x)},setProps(e){s=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>o}}var qt=new Map,Wt=[],Kt=new Set,Qt=e=>Kt.forEach((t=>t(e))),Gt=()=>qt.size>0;function Yt(e,t){var n;if(t)return!(null==(n=qt.get(t))||!n.isToastActive(e));let r=!1;return qt.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Xt(e){if(Gt()){if(null==e||(e=>Mt(e)||At(e))(e))qt.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=qt.get(e.containerId);t?t.removeToast(e.id):qt.forEach((t=>{t.removeToast(e.id)}))}}else Wt=Wt.filter((t=>null!=e&&t.options.toastId!==e))}function $t(e,t){jt(e)&&(Gt()||Wt.push({content:e,options:t}),qt.forEach((n=>{n.buildToast(e,t)})))}function Jt(e,t){qt.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function Zt(e){let t=e.containerId||1;return{subscribe(n){let r=Ht(t,e,Qt);qt.set(t,r);let i=r.observe(n);return Wt.forEach((e=>$t(e.content,e.options))),Wt=[],()=>{i(),qt.delete(t)}},setProps(e){var n;null==(n=qt.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=qt.get(t))?void 0:e.getSnapshot()}}}function en(e){return e&&(Mt(e.toastId)||At(e.toastId))?e.toastId:Ut()}function tn(e,t){return $t(e,t),t.toastId}function nn(e,t){return c(c({},t),{},{type:t&&t.type||e,toastId:en(t)})}function rn(e){return(t,n)=>tn(t,nn(e,n))}function an(e,t){return tn(e,nn("default",t))}function on(e){let[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=(0,r.useRef)(null),s=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:d}=e;function f(){n(!0)}function p(){n(!1)}function g(n){let r=o.current;if(s.canDrag&&r){s.didMove=!0,t&&p(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let i="x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))");r.style.transform="translate3d(".concat(i,",0)"),r.style.opacity="".concat(1-Math.abs(s.delta/s.removalDistance))}}function m(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",m);let t=o.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=qt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}}),[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",m);let n=o.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:a}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(y.onMouseEnter=p,e.stacked||(y.onMouseLeave=f)),d&&(y.onClick=e=>{h&&h(e),s.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:y}}an.loading=(e,t)=>tn(e,nn("default",c({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),an.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=Mt(i)?an.loading(i,n):an.loading(i.render,c(c({},n),i)));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void an.dismiss(r);let a=c(c(c({type:e},s),n),{},{data:i}),o=Mt(t)?{render:t}:t;return r?an.update(r,c(c({},a),o)):an(o.render,c(c({},a),o)),i},u=Ot(e)?e():e;return u.then((e=>l("success",o,e))).catch((e=>l("error",a,e))),u},an.success=rn("success"),an.info=rn("info"),an.error=rn("error"),an.warning=rn("warning"),an.warn=an.warning,an.dark=(e,t)=>tn(e,nn("default",c({theme:"dark"},t))),an.dismiss=function(e){Xt(e)},an.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qt.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},an.isActive=Yt,an.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=qt.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,a=c(c(c({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Ut()});a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,tn(o,a)}},an.done=e=>{an.update(e,{progress:1})},an.onChange=function(e){return Kt.add(e),()=>{Kt.delete(e)}},an.play=e=>Jt(!0,e),an.pause=e=>Jt(!1,e);var sn="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,ln=e=>{let{theme:t,type:n,isLoading:a}=e,o=i(e,It);return r.createElement("svg",c({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},o))};var cn={info:function(e){return r.createElement(ln,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(ln,c({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(ln,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(ln,c({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function un(e){let{theme:t,type:n,isLoading:i,icon:a}=e,o=null,s={theme:t,type:n};return!1===a||(Ot(a)?o=a(c(c({},s),{},{isLoading:i})):(0,r.isValidElement)(a)?o=(0,r.cloneElement)(a,s):i?o=cn.spinner():(e=>e in cn)(n)&&(o=cn[n](s))),o}var hn=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:o}=on(e),{closeButton:s,children:l,autoClose:u,onClick:h,type:d,hideProgressBar:f,closeToast:p,transition:g,position:m,className:y,style:v,progressClassName:b,updateId:x,role:w,progress:_,rtl:S,toastId:k,deleteToast:T,isIn:E,isLoading:C,closeOnClick:D,theme:N,ariaLabel:I}=e,A=Nt("Toastify__toast","Toastify__toast-theme--".concat(N),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":D}),M=Ot(y)?y({rtl:S,position:m,type:d,defaultClassName:A}):Nt(A,y),O=un(e),P=!!_||!u,L={closeToast:p,type:d,theme:N},j=null;return!1===s||(j=Ot(s)?s(L):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,L):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),r.createElement(g,{isIn:E,done:T,position:m,preventExitTransition:n,nodeRef:i,playToast:o},r.createElement("div",c(c({id:k,tabIndex:0,onClick:h,"data-in":E,className:M},a),{},{style:v,ref:i},E&&{role:w,"aria-label":I}),null!=O&&r.createElement("div",{className:Nt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},O),zt(l,e,!t),j,!e.customProgressBar&&r.createElement(Vt,c(c({},x&&!P?{key:"p-".concat(x)}:{}),{},{rtl:S,theme:N,delay:u,isRunning:t,isIn:E,closeToast:p,hide:f,type:d,className:b,controlledProgress:P,progress:_||0}))))},dn=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},fn=Rt(dn("bounce",!0)),pn=(Rt(dn("slide",!0)),Rt(dn("zoom")),Rt(dn("flip")),{position:"top-right",transition:fn,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function gn(e){let t=c(c({},pn),e),n=e.stacked,[i,a]=(0,r.useState)(!0),o=(0,r.useRef)(null),{getToastToRender:s,isToastActive:l,count:u}=function(e){var t;let{subscribe:n,getSnapshot:i,setProps:a}=(0,r.useRef)(Zt(e)).current;a(e);let o=null==(t=(0,r.useSyncExternalStore)(n,i,i))?void 0:t.slice();return{getToastToRender:function(t){if(!o)return[];let n=new Map;return e.newestOnTop&&o.reverse(),o.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:Yt,count:null==o?void 0:o.length}}(t),{className:h,style:d,rtl:f,containerId:p,hotKeys:g}=t;function m(e){let t=Nt("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":f});return Ot(h)?h({position:e,rtl:f,defaultClassName:t}):Nt(t,Pt(h))}function y(){n&&(a(!0),an.play())}return sn((()=>{var e;if(n){let n=o.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=t.position)?void 0:e.includes("top"),s=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(i)),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let o=s*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y","".concat(a?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(i?l:0))),s+=n.offsetHeight,l+=.025}))}}),[i,u,n]),(0,r.useEffect)((()=>{function e(e){var t;let n=o.current;g(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),an.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),an.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[g]),r.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{n&&(a(!1),an.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s(((e,t)=>{let i=t.length?c({},d):c(c({},d),{},{pointerEvents:"none"});return r.createElement("div",{tabIndex:-1,className:m(e),"data-stacked":n,style:i,key:"c-".concat(e)},t.map((e=>{let{content:t,props:i}=e;return r.createElement(hn,c(c({},i),{},{stacked:n,collapseAll:y,isIn:l(i.toastId,i.containerId),key:"t-".concat(i.key)}),t)})))})))}const mn=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)({}),u=fe(),h=Ct.getIdAdmin();(0,r.useEffect)((()=>{(async()=>{try{if(Ct.isAuthenticated()){const e=Ct.getUsername(),n=Ct.getAdminLevel();t(e),o(n);!localStorage.getItem("hasShownLoginToast")&&Ct.isAuthenticated()&&(an.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!",{autoClose:2e3}),localStorage.setItem("hasShownLoginToast","true"))}else u("/admin/login")}catch(e){console.error("Auth error:",e),an.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi x\xe1c th\u1ef1c. Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i."),Ct.logout(),u("/admin/login")}finally{i(!1)}})()}),[u]);const d={1:[{section:"Th\u1ed1ng k\xea",items:[{to:"statistics",label:"TH\u1ed0NG K\xca"}]},{section:"Qu\u1ea3n l\xfd qu\u1ea3n tr\u1ecb",items:[{to:"manage_admin",label:"QU\u1ea2N L\xdd QU\u1ea2N TR\u1eca VI\xcaN"},{to:"new_admin",label:"TH\xcaM QU\u1ea2N TR\u1eca VI\xcaN"}]},{section:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",items:[{to:"manage_user",label:"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"}]},{section:"Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng",items:[{to:"manage_order_all",label:"QU\u1ea2N L\xdd \u0110\u01a0N H\xc0NG"},{to:"manage_order_all",label:"TH\xcaM \u0110\u01a0N H\xc0NG"}]},{section:"Qu\u1ea3n l\xfd phim",items:[{to:"manage_product",label:"QU\u1ea2N L\xdd PHIM"},{to:"create_product",label:"TH\xcaM PHIM"},{to:"calendar_movie",label:"L\u1ecaCH PHIM"},{to:"manage_order_all",label:"QU\u1ea2N L\xdd COMMENT PHIM"}]},{section:"Qu\u1ea3n l\xfd ph\xf2ng chi\u1ebfu",items:[{to:"manage_screenRoom",label:"QU\u1ea2N L\xdd PH\xd2NG CHI\u1ebeU"},{to:"create_screenRoom",label:"TH\xcaM PH\xd2NG CHI\u1ebeU"},{to:"create_screen",label:"TH\xcaM SU\u1ea4T CHI\u1ebeU"}]},{section:"Qu\u1ea3n l\xfd r\u1ea1p",items:[{to:"manage_theater",label:"QU\u1ea2N L\xdd R\u1ea0P"},{to:"create_theater",label:"TH\xcaM R\u1ea0P"}]},{section:"Qu\u1ea3n l\xfd qu\xe0 t\u1eb7ng",items:[{to:"manage_gift",label:"QU\u1ea2N L\xdd QU\xc0 T\u1eb6NG"},{to:"create_gift",label:"TH\xcaM QU\xc0 T\u1eb6NG"},{to:"manage_promotion",label:"QU\u1ea2N L\xdd KHUY\u1ebeN M\xc3I"},{to:"create_promotion",label:"T\u1ea0O KHUY\u1ebeN M\xc3I"}]},{section:"B\xe1o c\xe1o",items:[{to:"report_revenue",label:"B\xc1O C\xc1O DOANH THU"},{to:"report_admin",label:"B\xc1O C\xc1O NH\xc2N VI\xcaN"}]}],2:[{section:"Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m",items:[{to:"create_product",label:"TH\xcaM S\u1ea2N PH\u1ea8M"},{to:"create_product_details",label:"TH\xcaM CHI TI\u1ebeT S\u1ea2N PH\u1ea8M"},{to:"manage_product",label:"QU\u1ea2N L\xdd S\u1ea2N PH\u1ea8M"}]},{section:"Qu\u1ea3n l\xfd qu\u1ea3n tr\u1ecb",items:[{to:"manage_admin_level",label:"QU\u1ea2N L\xdd QU\u1ea2N TR\u1eca VI\xcaN"}]},{section:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",items:[{to:"manage_user",label:"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"}]},{section:"Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng",items:[{to:"manage_order",label:"QU\u1ea2N L\xcd \u0110\u01a0N H\xc0NG"}]}],3:[{section:"Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m",items:[{to:"manage_product",label:"QU\u1ea2N L\xdd S\u1ea2N PH\u1ea8M"}]},{section:"Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng",items:[{to:"manage_order",label:"QU\u1ea2N L\xcd \u0110\u01a0N H\xc0NG"}]},{section:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",items:[{to:"manage_user",label:"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"}]}]}[a]||[];return n?(0,kt.jsx)("div",{className:"loading",children:"\u0110ang t\u1ea3i..."}):(0,kt.jsxs)("div",{className:"container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsxs)("div",{className:"sidebar",children:[(0,kt.jsx)("div",{className:"admin-profile",children:(0,kt.jsx)(mt,{to:"/admin/".concat(h),style:{textDecoration:"none",color:"#002856"},children:(0,kt.jsx)("span",{children:e})})}),(0,kt.jsxs)("div",{className:"menu-list",children:[d.map(((e,t)=>(0,kt.jsxs)("div",{className:"menu-section",children:[(0,kt.jsx)("div",{className:"menu-section-header",onClick:()=>{return t=e.section,void l((e=>c(c({},e),{},{[t]:!e[t]})));var t},children:e.section}),(0,kt.jsx)("div",{className:"menu-items ".concat(s[e.section]?"expanded":""),children:e.items.map(((e,t)=>(0,kt.jsx)(mt,{to:e.to,className:"menu-item",children:e.label},t)))})]},t))),(0,kt.jsx)("button",{onClick:async e=>{e.preventDefault(),i(!0);try{if(!h)return void an.error("L\u1ed7i: Kh\xf4ng t\xecm th\u1ea5y ID admin.");const e=await fetch("http://localhost:5000/logout-admin/".concat(h),{method:"PUT",headers:{"Content-Type":"application/json"}});if(e.ok)Ct.logout(),localStorage.removeItem("hasShownLoginToast"),u("/admin/login");else{const t=await e.json();an.error(t.message||"\u0110\u0103ng xu\u1ea5t th\u1ea5t b\u1ea1i")}}catch(t){console.error("Logout error:",t.message),an.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi \u0111\u0103ng xu\u1ea5t")}finally{i(!1)}},className:"menu-section logout-btn",children:"\u0110\u0103ng xu\u1ea5t"})]})]}),(0,kt.jsx)("div",{className:"main-container",children:(0,kt.jsx)("div",{className:"main_content",children:(0,kt.jsx)("main",{children:(0,kt.jsx)(Ie,{})})})}),(0,kt.jsx)("style",{children:"\n                body {\n                    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                    margin: 0;\n                    padding: 0;\n                }\n\n                .container {\n                    display: flex;\n                    background: #EDEEF0;\n                    border-radius: 10px;\n                    padding: 10px;\n                    min-height: 850px;\n                }\n\n                .sidebar {\n                    width: 15,5%;\n                    background: white;\n                    padding: 20px;\n                    border-radius: 10px;\n                    margin-left: 15px;\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n                }\n\n                .admin-profile {\n                    display: flex;\n                    align-items: center;\n                    gap: 10px;\n                    margin: 20px 0 30px 30px;\n                }\n\n                .menu-list {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 5px;\n                }\n\n                .menu-section {\n                    margin-bottom: 5px;\n                }\n\n                .menu-section-header {\n                    background: white;\n                    border-radius: 5px;\n                    padding: 15px 30px;\n                    font-size: 14px;\n                    color: #002856;\n                    cursor: pointer;\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    font-weight: bold;\n                    transition: background 0.3s, color 0.3s;\n                }\n\n                .menu-section-header:hover {\n                    background: #002856;\n                    color: #FFFFFF;\n                }\n\n                .menu-items {\n                    max-height: 0;\n                    overflow: hidden;\n                    transition: max-height 0.3s ease-out;\n                    padding-left: 20px;\n                }\n\n                .menu-items.expanded {\n                    max-height: 500px; /* Adjust based on content */\n                }\n\n                .menu-item {\n                    display: block;\n                    padding: 10px 30px;\n                    font-size: 13px;\n                    color: #002856;\n                    text-decoration: none;\n                    transition: background 0.3s, color 0.3s;\n                }\n\n                .menu-item:hover {\n                    background: #002856;\n                    color: #FFFFFF;\n                }\n\n                .arrow {\n                    font-size: 12px;\n                    transition: transform 0.3s ease;\n                }\n\n                .arrow.expanded {\n                    transform: rotate(180deg);\n                }\n\n                .logout-btn {\n                    background: none;\n                    border: none;\n                    text-align: left;\n                    padding: 15px 30px;\n                    font-size: 14px;\n                    color: #002856;\n                    cursor: pointer;\n                    font-weight: bold;\n                }\n\n                .logout-btn:hover {\n                    background: #002856;\n                    color: #FFFFFF;\n                }\n\n                .main-container {\n                    flex: 1;\n                    padding: 0 20px;\n                }\n\n                .header {\n                    display: flex;\n                    align-items: center;\n                    gap: 20px;\n                }\n\n                .layout {\n                    display: flex;\n                    gap: 20px;\n                    padding: 0;\n                }\n\n                .layout .button {\n                    display: flex;\n                    align-items: center;\n                    width: 180px;\n                    height: 60px;\n                    margin: 20px 0;\n                    background: #FFFFFF;\n                    border-radius: 10px;\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n                    cursor: pointer;\n                    transition: background 0.3s, box-shadow 0.3s;\n                    gap: 15px;\n                }\n\n                .layout .button:hover {\n                    background: #002856;\n                    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\n                }\n\n                .layout .button .text {\n                    font-size: 13px;\n                    color: #002856;\n                    font-weight: 500;\n                }\n\n                .layout .button:hover .text {\n                    color: white;\n                }\n\n                .main_content {\n                    width: 1100px;\n                    padding: 20px;\n                    background: #FFFFFF;\n                    border-radius: 10px;\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n                    min-height: 500px;\n                }\n\n                .loading {\n                    text-align: center;\n                    padding: 20px;\n                    color: #002856;\n                    font-size: 18px;\n                }\n            "})]})},yn=()=>(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:[(0,kt.jsx)("div",{style:{width:"64px",height:"64px",border:"4px solid #ccc",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,kt.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]});function vn(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),s=fe();(0,r.useEffect)((()=>{(async()=>{i(""),o(!0);try{if(!Ct.isAuthenticated())return an.error("Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 xem danh s\xe1ch qu\u1ea3n tr\u1ecb vi\xean."),void s("/admin/login");const e=await fetch("http://localhost:5000/manage_admin",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Ct.getToken())}}),n=await e.json();e.ok?t(n):(i(n.message||"L\u1ed7i khi l\u1ea5y danh s\xe1ch qu\u1ea3n tr\u1ecb vi\xean."),an.error(n.message||"L\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u."))}catch(e){console.error("Fetch admins error:",e),i("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i danh s\xe1ch qu\u1ea3n tr\u1ecb vi\xean."),an.error("L\u1ed7i k\u1ebft n\u1ed1i server.")}finally{o(!1)}})()}),[s]);return a?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{className:"manage-admin-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h1",{children:"Qu\u1ea3n L\xfd Qu\u1ea3n Tr\u1ecb Vi\xean"}),n&&(0,kt.jsx)("div",{className:"error",children:n}),0!==e.length||n?(0,kt.jsxs)("table",{className:"admin-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"ID"}),(0,kt.jsx)("th",{children:"T\xean \u0111\u0103ng nh\u1eadp"}),(0,kt.jsx)("th",{children:"C\u1ea5p \u0111\u1ed9"}),(0,kt.jsx)("th",{children:"Tr\u1ea1ng th\xe1i"}),(0,kt.jsx)("th",{children:"\u0110\u0103ng nh\u1eadp cu\u1ed1i"}),(0,kt.jsx)("th",{children:"\u0110\u0103ng xu\u1ea5t cu\u1ed1i"}),(0,kt.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,kt.jsx)("tbody",{children:e.map((n=>(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:n.id_admin}),(0,kt.jsx)("td",{children:n.username}),(0,kt.jsx)("td",{children:n.level}),(0,kt.jsx)("td",{children:n.state||"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}),(0,kt.jsx)("td",{children:n.dateTimeLogin?new Date(n.dateTimeLogin).toLocaleString():"Ch\u01b0a \u0111\u0103ng nh\u1eadp"}),(0,kt.jsx)("td",{children:n.date_logout?new Date(n.date_logout).toLocaleString():"Ch\u01b0a \u0111\u0103ng xu\u1ea5t"}),(0,kt.jsxs)("td",{children:[(0,kt.jsx)("button",{className:"edit-btn",onClick:()=>{return e=n.id_admin,void s("/admin/edit_admin/".concat(e));var e},children:"S\u1eeda"}),(0,kt.jsx)("button",{className:"delete-btn",onClick:()=>(async n=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a qu\u1ea3n tr\u1ecb vi\xean n\xe0y?"))try{const r=await fetch("http://localhost:5000/manage_admin/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Ct.getToken())}});if(r.ok)t(e.filter((e=>e.id_admin!==n))),an.success("X\xf3a qu\u1ea3n tr\u1ecb vi\xean th\xe0nh c\xf4ng!");else{const e=await r.json();an.error(e.message||"X\xf3a qu\u1ea3n tr\u1ecb vi\xean th\u1ea5t b\u1ea1i.")}}catch(r){console.error("Delete admin error:",r),an.error("L\u1ed7i khi x\xf3a qu\u1ea3n tr\u1ecb vi\xean.")}})(n.id_admin),children:"X\xf3a"})]})]},n.id_admin)))})]}):(0,kt.jsx)("p",{children:"Kh\xf4ng c\xf3 qu\u1ea3n tr\u1ecb vi\xean n\xe0o."}),(0,kt.jsx)("style",{children:"\n                .manage-admin-container {\n                    background: #FFFFFF;\n                    border-radius: 10px;\n                    max-width: 1200px;\n                    margin: 20px auto;\n                    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                }\n\n                h1 {\n                    color: #002856;\n                    margin-bottom: 20px;\n                    text-align: center;\n                }\n\n                .error {\n                    color: red;\n                    text-align: center;\n                    margin-bottom: 20px;\n                }\n\n                .loading {\n                    text-align: center;\n                    padding: 20px;\n                    color: #002856;\n                    font-size: 18px;\n                }\n\n                .admin-table {\n                    width: 100%;\n                    border-collapse: collapse;\n                    background: #FFFFFF;\n                    border-radius: 5px;\n                    overflow: hidden;\n                }\n\n                .admin-table th,\n                .admin-table td {\n                    padding: 12px 15px;\n                    text-align: left;\n                    border-bottom: 1px solid #ddd;\n                }\n\n                .admin-table th {\n                    background: #002856;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                }\n\n                .admin-table tr:hover {\n                    background: #f5f5f5;\n                }\n\n                .edit-btn, .delete-btn {\n                    padding: 8px 12px;\n                    margin-right: 10px;\n                    border: none;\n                    border-radius: 5px;\n                    cursor: pointer;\n                    font-size: 14px;\n                    transition: background 0.3s;\n                }\n\n                .edit-btn {\n                    background: #002856;\n                    color: #FFFFFF;\n                }\n\n                .edit-btn:hover {\n                    background: #004080;\n                }\n\n                .delete-btn {\n                    background: #ff4d4d;\n                    color: #FFFFFF;\n                }\n\n                .delete-btn:hover {\n                    background: #cc0000;\n                }\n            "})]})}function bn(){const[e,t]=(0,r.useState)({username:"",password:"",email:"",phoneNumber:"",birthOfDate:"",address:"",level:"",role:"",dateTimeLogin:null,dateTimeLogout:null,fullname:""}),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),s=fe(),l=e=>{const{name:n,value:r}=e.target;t((e=>c(c({},e),{},{[n]:r})))};return a?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{className:"new-admin-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{children:"Th\xeam Qu\u1ea3n Tr\u1ecb Vi\xean M\u1edbi"}),(0,kt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),o(!0);try{const t=await fetch("http://localhost:5000/new_admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,fullname:e.fullname,role:e.role,birthOfDate:e.birthOfDate,email:e.email,phoneNumber:e.phoneNumber,address:e.address,level:Number(e.level)})}),n=await t.json();t.ok?(an.success("Th\xeam qu\u1ea3n tr\u1ecb vi\xean th\xe0nh c\xf4ng!"),s("/admin/manage_admin")):(i(n.message||"Th\xeam qu\u1ea3n tr\u1ecb vi\xean th\u1ea5t b\u1ea1i."),an.error(n.message||"L\u1ed7i khi th\xeam qu\u1ea3n tr\u1ecb vi\xean."))}catch(n){console.error("Add admin error:",n),i("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi k\u1ebft n\u1ed1i server."),an.error("L\u1ed7i k\u1ebft n\u1ed1i server.")}finally{o(!1)}},className:"admin-form",children:[(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"T\xean \u0111\u0103ng nh\u1eadp:"}),(0,kt.jsx)("input",{type:"text",name:"username",value:e.username,onChange:l,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"M\u1eadt kh\u1ea9u:"}),(0,kt.jsx)("input",{type:"password",name:"password",value:e.password,onChange:l,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"H\u1ecd v\xe0 t\xean:"}),(0,kt.jsx)("input",{type:"text",name:"fullname",value:e.fullname,onChange:l,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Email:"}),(0,kt.jsx)("input",{type:"email",name:"email",value:e.email,onChange:l,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),(0,kt.jsx)("input",{type:"text",name:"phoneNumber",value:e.phoneNumber,onChange:l})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Ng\xe0y sinh:"}),(0,kt.jsx)("input",{type:"date",name:"birthOfDate",value:e.birthOfDate,onChange:l})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"\u0110\u1ecba ch\u1ec9:"}),(0,kt.jsx)("input",{type:"text",name:"address",value:e.address,onChange:l})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"C\u1ea5p \u0111\u1ed9:"}),(0,kt.jsxs)("select",{name:"level",value:e.level,onChange:l,required:!0,children:[(0,kt.jsx)("option",{value:"",children:"-- Ch\u1ecdn c\u1ea5p \u0111\u1ed9 --"}),(0,kt.jsx)("option",{value:"1",children:"1"}),(0,kt.jsx)("option",{value:"2",children:"2"}),(0,kt.jsx)("option",{value:"3",children:"3"})]})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Vai tr\xf2:"}),(0,kt.jsx)("input",{type:"text",name:"role",value:e.role,onChange:l})]}),(0,kt.jsx)("button",{type:"submit",className:"submit-btn",disabled:a,children:a?"\u0110ang th\xeam...":"Th\xeam qu\u1ea3n tr\u1ecb vi\xean"})]}),(0,kt.jsx)("style",{children:"\n                .new-admin-container {\n                    background: #FFFFFF;\n                    border-radius: 10px;\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n                    max-width: 700px;\n                    margin: 20px auto;\n                    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                }\n\n                h2 {\n                    color: #002856;\n                    margin-bottom: 20px;\n                    text-align: center;\n                }\n\n                .error {\n                    color: red;\n                    text-align: center;\n                    margin-bottom: 20px;\n                }\n\n                .loading {\n                    text-align: center;\n                    padding: 10px;\n                    color: #002856;\n                    font-size: 16px;\n                }\n\n                .admin-form {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 15px;\n                }\n\n                .form-group {\n                    display: flex;\n                    flex-direction: column;\n                }\n\n                .form-group label {\n                    margin-bottom: 5px;\n                    color: #002856;\n                    font-weight: 500;\n                }\n\n                .form-group input {\n                    padding: 8px;\n                    border: 1px solid #ddd;\n                    border-radius: 5px;\n                    font-size: 14px;\n                }\n\n                .form-group input:focus {\n                    outline: none;\n                    border-color: #002856;\n                    box-shadow: 0 0 5px rgba(0, 40, 86, 0.3);\n                }\n\n                .form-group select {\n                    padding: 8px;\n                    border: 1px solid #ddd;\n                    border-radius: 5px;\n                    font-size: 14px;\n                }\n\n                .form-group select:focus {\n                    outline: none;\n                    border-color: #002856;\n                    box-shadow: 0 0 5px rgba(0, 40, 86, 0.3);\n                }\n\n                .submit-btn {\n                    padding: 10px;\n                    background: #002856;\n                    color: #FFFFFF;\n                    border: none;\n                    border-radius: 5px;\n                    cursor: pointer;\n                    font-size: 16px;\n                    transition: background 0.3s;\n                }\n\n                .submit-btn:hover:not(:disabled) {\n                    background: #004080;\n                }\n\n                .submit-btn:disabled {\n                    background: #cccccc;\n                    cursor: not-allowed;\n                }\n            "})]})}const xn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;s||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new _n;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _n extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sn=function(e){return function(e){const t=xn(e);return wn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},kn=function(e){try{return wn.decodeString(e,!0)}catch(yE){console.error("base64Decode failed: ",yE)}return null};function Tn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const En=()=>{try{return Tn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(yE){return}const t=e&&kn(e[1]);return t&&JSON.parse(t)})()}catch(yE){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(yE))}},Cn=e=>{const t=(e=>{var t,n;return null===(n=null===(t=En())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Dn=()=>{var e;return null===(e=En())||void 0===e?void 0:e.config};class Nn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function In(e){return e.endsWith(".cloudworkstations.dev")}const An={};let Mn=!1;function On(e,t){if("undefined"===typeof window||"undefined"===typeof document||!In(window.location.host)||An[e]===t||An[e]||Mn)return;function n(e){return"__firebase__banner__".concat(e)}An[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(An))An[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Mn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Pn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ln(){var e;const t=null===(e=En())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(yE){return!1}}function jn(){return!Ln()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rn(){try{return"object"===typeof indexedDB}catch(yE){return!1}}function Fn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class zn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}}class Vn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Bn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new zn(n,a,t)}}const Bn=/\{\$([^}]+)}/g;function Un(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Hn(n)&&Hn(a)){if(!Un(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hn(e){return null!==e&&"object"===typeof e}function qn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Wn(e){return e&&e._delegate?e._delegate:e}class Kn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qn="[DEFAULT]";class Gn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Nn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(yE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yE){if(r)return null;throw yE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch(yE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(yE){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Qn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xn=[];var $n;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($n||($n={}));const Jn={debug:$n.DEBUG,verbose:$n.VERBOSE,info:$n.INFO,warn:$n.WARN,error:$n.ERROR,silent:$n.SILENT},Zn=$n.INFO,er={[$n.DEBUG]:"log",[$n.VERBOSE]:"log",[$n.INFO]:"info",[$n.WARN]:"warn",[$n.ERROR]:"error"},tr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=er[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class nr{constructor(e){this.name=e,this._logLevel=Zn,this._logHandler=tr,this._userLogHandler=null,Xn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $n))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Jn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$n.DEBUG,...t),this._logHandler(this,$n.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$n.VERBOSE,...t),this._logHandler(this,$n.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$n.INFO,...t),this._logHandler(this,$n.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$n.WARN,...t),this._logHandler(this,$n.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$n.ERROR,...t),this._logHandler(this,$n.ERROR,...t)}}let rr,ir;const ar=new WeakMap,or=new WeakMap,sr=new WeakMap,lr=new WeakMap,cr=new WeakMap;let ur={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return or.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ir||(ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pr(this),n),fr(ar.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fr(e.apply(pr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(pr(this),t,...r);return sr.set(a,t.sort?t.sort():[t]),fr(a)}}function dr(e){return"function"===typeof e?hr(e):(e instanceof IDBTransaction&&function(e){if(or.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));or.set(e,t)}(e),t=e,(rr||(rr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ur):e);var t}function fr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(fr(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ar.set(t,e)})).catch((()=>{})),cr.set(t,e),t}(e);if(lr.has(e))return lr.get(e);const t=dr(e);return t!==e&&(lr.set(e,t),cr.set(t,e)),t}const pr=e=>cr.get(e);function gr(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=fr(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(fr(o.result),e.oldVersion,e.newVersion,fr(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const mr=["get","getKey","getAll","getAllKeys","count"],yr=["put","add","delete","clear"],vr=new Map;function br(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(vr.get(t))return vr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=yr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mr.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return vr.set(t,a),a}!function(e){ur=e(ur)}((e=>c(c({},e),{},{get:(t,n,r)=>br(t,n)||e.get(t,n,r),has:(t,n)=>!!br(t,n)||e.has(t,n)})));class xr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const wr="@firebase/app",_r="0.13.1",Sr=new nr("@firebase/app"),kr="@firebase/app-compat",Tr="@firebase/analytics-compat",Er="@firebase/analytics",Cr="@firebase/app-check-compat",Dr="@firebase/app-check",Nr="@firebase/auth",Ir="@firebase/auth-compat",Ar="@firebase/database",Mr="@firebase/data-connect",Or="@firebase/database-compat",Pr="@firebase/functions",Lr="@firebase/functions-compat",jr="@firebase/installations",Rr="@firebase/installations-compat",Fr="@firebase/messaging",zr="@firebase/messaging-compat",Vr="@firebase/performance",Br="@firebase/performance-compat",Ur="@firebase/remote-config",Hr="@firebase/remote-config-compat",qr="@firebase/storage",Wr="@firebase/storage-compat",Kr="@firebase/firestore",Qr="@firebase/ai",Gr="@firebase/firestore-compat",Yr="firebase",Xr="[DEFAULT]",$r={[wr]:"fire-core",[kr]:"fire-core-compat",[Er]:"fire-analytics",[Tr]:"fire-analytics-compat",[Dr]:"fire-app-check",[Cr]:"fire-app-check-compat",[Nr]:"fire-auth",[Ir]:"fire-auth-compat",[Ar]:"fire-rtdb",[Mr]:"fire-data-connect",[Or]:"fire-rtdb-compat",[Pr]:"fire-fn",[Lr]:"fire-fn-compat",[jr]:"fire-iid",[Rr]:"fire-iid-compat",[Fr]:"fire-fcm",[zr]:"fire-fcm-compat",[Vr]:"fire-perf",[Br]:"fire-perf-compat",[Ur]:"fire-rc",[Hr]:"fire-rc-compat",[qr]:"fire-gcs",[Wr]:"fire-gcs-compat",[Kr]:"fire-fst",[Gr]:"fire-fst-compat",[Qr]:"fire-vertex","fire-js":"fire-js",[Yr]:"fire-js-all"},Jr=new Map,Zr=new Map,ei=new Map;function ti(e,t){try{e.container.addComponent(t)}catch(yE){Sr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),yE)}}function ni(e){const t=e.name;if(ei.has(t))return Sr.debug("There were multiple attempts to register component ".concat(t,".")),!1;ei.set(t,e);for(const n of Jr.values())ti(n,e);for(const n of Zr.values())ti(n,e);return!0}function ri(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ii=new Vn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ai{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Kn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}function oi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Xr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=Dn()),!n)throw ii.create("no-options");const a=Jr.get(i);if(a){if(Un(n,a.options)&&Un(r,a.config))return a;throw ii.create("duplicate-app",{appName:i})}const o=new Yn(i);for(const l of ei.values())o.addComponent(l);const s=new ai(n,r,o);return Jr.set(i,s),s}function si(e,t,n){var r;let i=null!==(r=$r[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Sr.warn(e.join(" "))}ni(new Kn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const li="firebase-heartbeat-store";let ci=null;function ui(){return ci||(ci=gr("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(li)}catch(yE){console.warn(yE)}}}).catch((e=>{throw ii.create("idb-open",{originalErrorMessage:e.message})}))),ci}async function hi(e,t){try{const n=(await ui()).transaction(li,"readwrite"),r=n.objectStore(li);await r.put(t,di(e)),await n.done}catch(yE){if(yE instanceof zn)Sr.warn(yE.message);else{const t=ii.create("idb-set",{originalErrorMessage:null===yE||void 0===yE?void 0:yE.message});Sr.warn(t.message)}}}function di(e){return"".concat(e.name,"!").concat(e.options.appId)}class fi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pi();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(yE){Sr.warn(yE)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=pi(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),mi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Sn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(yE){return Sr.warn(yE),""}}}function pi(){return(new Date).toISOString().substring(0,10)}class gi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Rn()&&Fn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ui()).transaction(li),n=await t.objectStore(li).get(di(e));return await t.done,n}catch(yE){if(yE instanceof zn)Sr.warn(yE.message);else{const t=ii.create("idb-get",{originalErrorMessage:null===yE||void 0===yE?void 0:yE.message});Sr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return hi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return hi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mi(e){return Sn(JSON.stringify({version:2,heartbeats:e})).length}var yi;yi="",ni(new Kn("platform-logger",(e=>new xr(e)),"PRIVATE")),ni(new Kn("heartbeat",(e=>new fi(e)),"PRIVATE")),si(wr,_r,yi),si(wr,_r,"esm2017"),si("fire-js","");var vi,bi,xi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},wi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);h(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(a)>>>16,m=65535&e.i(a);n[2*i+2*a]+=f*m,p(n,2*i+2*a),n[2*i+2*a+1]+=l*m,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*g,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*g,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,bi=wi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},vi=wi.Integer=r}).apply("undefined"!==typeof xi?xi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var _i,Si,ki,Ti,Ei,Ci,Di,Ni,Ii="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ai={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ii&&Ii];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,D=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){S(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}D=!1};function M(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,O);var j={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[R]?e.K(t,n,o(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);return null}return n=te(n),e&&e[R]?e.L(t,n,o(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[R]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(a=e.g[t],n,r,i))&&(V(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[R])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(U(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){M.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;w(t=new O(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&U(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,M),ne.prototype[R]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){M.call(this),this.h=e,this.g={}}h(le,M);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}h(ve,O),h(be,O);var xe={},we=null;function _e(){return we=we||new ne}function Se(e){O.call(this,xe.La,e)}function ke(e){const t=_e();re(t,new Se(t))}function Te(e,t){O.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=_e();re(t,new Te(t,e))}function Ce(e,t){O.call(this,xe.Ma,e),this.size=t}function De(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",h(Se,O),xe.STAT_EVENT="statevent",h(Te,O),xe.Ma="timingevent",h(Ce,O),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Ae,Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}h(Pe,pe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Re={},Fe={};function ze(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=De(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Qe(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Xt(n)}rn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=De(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Kt(this.g);e="";var a=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Qe(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ue(this,s),e==Fe){4==d&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Re){this.s=4,Ee(15),Ie(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),an(h),h.M=!0,Ee(11))}}else Ie(this.i,this.l,s,"[Invalid Chunked Response]"),Qe(this),Ke(this)}else Ie(this.i,this.l,s,null),Ge(this,s);4==d&&Qe(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Qe(this),Ke(this)}}}catch(d){}},Le.prototype.cancel=function(){this.J=!0,Qe(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ee(17)),Qe(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var gt,mt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){_t(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return _t(e),t=Et(e,t),e.g.has(t)}function Tt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Dt(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(yE){throw t.push(r+"type="+encodeURIComponent("_badmap")),yE}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Mt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){_t(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,kt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(It,pe),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(gt={},function(){return gt}),h(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Pt(this),3==this.readyState&&Mt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Rt,ne);var Ft=/^https?$/i,zt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Ft.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(yE){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Dt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),D||(C(),D=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),D||(C(),D=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=De(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=De(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new It({eb:n})):new Rt(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?ge(this.o):ge(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Lt(a)))+"&"+t:this.m&&jt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=De(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Xt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ni=Ai.createWebChannelTransport=function(){return new gn},Di=Ai.getStatEventTarget=function(){return _e()},Ci=Ai.Event=xe,Ei=Ai.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Ti=Ai.ErrorCode=Me,Oe.COMPLETE="complete",ki=Ai.EventType=Oe,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Si=Ai.WebChannel=me,Ai.FetchXmlHttpFactory=It,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,_i=Ai.XhrIo=Rt}).apply("undefined"!==typeof Ii?Ii:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Mi="@firebase/firestore",Oi="4.7.17";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Li="11.9.0";const ji=new nr("@firebase/firestore");function Ri(){return ji.logLevel}function Fi(e){if(ji.logLevel<=$n.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Bi);ji.debug("Firestore (".concat(Li,"): ").concat(e),...i)}}function zi(e){if(ji.logLevel<=$n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Bi);ji.error("Firestore (".concat(Li,"): ").concat(e),...i)}}function Vi(e){if(ji.logLevel<=$n.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Bi);ji.warn("Firestore (".concat(Li,"): ").concat(e),...i)}}function Bi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ui(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Hi(e,r,n)}function Hi(e,t,n){let r="FIRESTORE (".concat(Li,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw zi(r),new Error(r)}function qi(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Hi(t,i,r)}function Wi(e,t){return e}const Ki={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qi extends zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Gi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Yi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Xi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Pi.UNAUTHENTICATED)))}shutdown(){}}class $i{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ji{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qi(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gi,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Fi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Fi("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gi)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Fi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qi("string"==typeof t.accessToken,31837,{l:t}),new Yi(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qi(null===e||"string"==typeof e,2055,{h:e}),new Pi(e)}}class Zi{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ea{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Zi(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Pi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ta{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class na{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qi(void 0===this.o,3512);const n=e=>{null!=e.error&&Fi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Fi("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Fi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Fi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ta(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(qi("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ta(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ra(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function ia(){return new TextEncoder}class aa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ra(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function oa(e,t){return e<t?-1:e>t?1:0}function sa(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return oa(r,i);{const a=ia(),o=ca(a.encode(la(e,n)),a.encode(la(t,n)));return 0!==o?o:oa(r,i)}}n+=r>65535?2:1}return oa(e.length,t.length)}function la(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ca(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return oa(e[n],t[n]);return oa(e.length,t.length)}function ua(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ha=-62135596800,da=1e6;class fa{static now(){return fa.fromMillis(Date.now())}static fromDate(e){return fa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*da);return new fa(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ha)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/da}_compareTo(e){return this.seconds===e.seconds?oa(this.nanoseconds,e.nanoseconds):oa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ha;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pa{static fromTimestamp(e){return new pa(e)}static min(){return new pa(new fa(0,0))}static max(){return new pa(new fa(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ga="__name__";class ma{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ui(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ui(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ma.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ma.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return oa(e.length,t.length)}static compareSegments(e,t){const n=ma.isNumericId(e),r=ma.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ma.extractNumericId(e).compare(ma.extractNumericId(t)):sa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class ya extends ma{construct(e,t,n){return new ya(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ya(e)}static emptyPath(){return new ya([])}}const va=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ba extends ma{construct(e,t,n){return new ba(e,t,n)}static isValidIdentifier(e){return va.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ba.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ga}static keyField(){return new ba([ga])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qi(Ki.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qi(Ki.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Qi(Ki.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ba(t)}static emptyPath(){return new ba([])}}class xa{constructor(e){this.path=e}static fromPath(e){return new xa(ya.fromString(e))}static fromName(e){return new xa(ya.fromString(e).popFirst(5))}static empty(){return new xa(ya.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ya.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ya.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xa(new ya(e.slice()))}}const wa=-1;class _a{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_a.UNKNOWN_ID=-1;function Sa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pa.fromTimestamp(1e9===r?new fa(n+1,0):new fa(n,r));return new Ta(i,xa.empty(),t)}function ka(e){return new Ta(e.readTime,e.key,wa)}class Ta{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ta(pa.min(),xa.empty(),wa)}static max(){return new Ta(pa.max(),xa.empty(),wa)}}function Ea(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xa.comparator(e.documentKey,t.documentKey),0!==n?n:oa(e.largestBatchId,t.largestBatchId))}const Ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Na(e){if(e.code!==Ki.FAILED_PRECONDITION||e.message!==Ca)throw e;Fi("LocalStore","Unexpectedly lost primary lease")}class Ia{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ui(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ia(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ia?t:Ia.resolve(t)}catch(e){return Ia.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ia.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ia.reject(t)}static resolve(e){return new Ia(((t,n)=>{t(e)}))}static reject(e){return new Ia(((t,n)=>{n(e)}))}static waitFor(e){return new Ia(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=Ia.resolve(!1);for(const n of e)t=t.next((e=>e?Ia.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ia(((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++o,o===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ia(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Aa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ma(e){return"IndexedDbTransactionError"===e.name}class Oa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Oa.le=-1;const Pa=-1;function La(e){return null==e}function ja(e){return 0===e&&1/e==-1/0}function Ra(e){return"number"==typeof e&&Number.isInteger(e)&&!ja(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Fa="\x01";function za(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ba(t)),t=Va(e.get(n),t);return Ba(t)}function Va(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Fa:n+="\x01\x11";break;default:n+=t}}return n}function Ba(e){return e+Fa+"\x01"}const Ua="remoteDocuments",Ha="owner",qa="mutationQueues",Wa="mutations";const Ka="documentMutations",Qa="remoteDocumentsV14",Ga="remoteDocumentGlobal",Ya="targets",Xa="targetDocuments",$a="targetGlobal",Ja="collectionParents",Za="clientMetadata",eo="bundles",to="namedQueries",no="indexConfiguration",ro="indexState",io="indexEntries",ao="documentOverlays",oo="globals",so=[qa,Wa,Ka,Ua,Ya,Ha,$a,Xa,Za,Ga,Ja,eo,to],lo=[qa,Wa,Ka,Qa,Ya,Ha,$a,Xa,Za,Ga,Ja,eo,to,ao],co=lo,uo=[...co,no,ro,io];function ho(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function po(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function go(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mo{constructor(e,t){this.comparator=e,this.root=t||vo.EMPTY}insert(e,t){return new mo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new mo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yo(this.root,e,this.comparator,!0)}}class yo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vo.RED,this.left=null!=r?r:vo.EMPTY,this.right=null!=i?i:vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new vo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ui(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ui(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ui(27949);return e+(this.isRed()?0:1)}}vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ui(57766)}get value(){throw Ui(16141)}get color(){throw Ui(16727)}get left(){throw Ui(29726)}get right(){throw Ui(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new vo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bo{constructor(e){this.comparator=e,this.data=new mo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xo(this.data.getIterator())}getIteratorFrom(e){return new xo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof bo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bo(this.comparator);return t.data=e,t}}class xo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wo{constructor(e){this.fields=e,e.sort(ba.comparator)}static empty(){return new wo([])}unionWith(e){let t=new bo(ba.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class _o extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class So{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new _o("Invalid base64 string: "+e):e}}(e);return new So(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new So(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}So.EMPTY_BYTE_STRING=new So("");const ko=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(e){if(qi(!!e,39018),"string"==typeof e){let t=0;const n=ko.exec(e);if(qi(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Eo(e.seconds),nanos:Eo(e.nanos)}}function Eo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Co(e){return"string"==typeof e?So.fromBase64String(e):So.fromUint8Array(e)}const Do="server_timestamp",No="__type__",Io="__previous_value__",Ao="__local_write_time__";function Mo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[No])||void 0===n?void 0:n.stringValue)===Do}function Oo(e){const t=e.mapValue.fields[Io];return Mo(t)?Oo(t):t}function Po(e){const t=To(e.mapValue.fields[Ao].timestampValue);return new fa(t.seconds,t.nanos)}class Lo{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const jo="(default)";class Ro{constructor(e,t){this.projectId=e,this.database=t||jo}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===jo}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}const Fo="__type__",zo="__max__",Vo={mapValue:{fields:{__type__:{stringValue:zo}}}},Bo="__vector__",Uo="value";function Ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mo(e)?4:os(e)?9007199254740991:is(e)?10:11:Ui(28295,{value:e})}function qo(e,t){if(e===t)return!0;const n=Ho(e);if(n!==Ho(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Po(e).isEqual(Po(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=To(e.timestampValue),r=To(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Co(e.bytesValue).isEqual(Co(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Eo(e.geoPointValue.latitude)===Eo(t.geoPointValue.latitude)&&Eo(e.geoPointValue.longitude)===Eo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Eo(e.integerValue)===Eo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Eo(e.doubleValue),r=Eo(t.doubleValue);return n===r?ja(n)===ja(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ua(e.arrayValue.values||[],t.arrayValue.values||[],qo);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ho(n)!==ho(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qo(n[i],r[i])))return!1;return!0}(e,t);default:return Ui(52216,{left:e})}}function Wo(e,t){return void 0!==(e.values||[]).find((e=>qo(e,t)))}function Ko(e,t){if(e===t)return 0;const n=Ho(e),r=Ho(t);if(n!==r)return oa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Eo(e.integerValue||e.doubleValue),r=Eo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qo(e.timestampValue,t.timestampValue);case 4:return Qo(Po(e),Po(t));case 5:return sa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Co(e),r=Co(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=oa(n[i],r[i]);if(0!==e)return e}return oa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=oa(Eo(e.latitude),Eo(t.latitude));return 0!==n?n:oa(Eo(e.longitude),Eo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Go(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[Uo])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Uo])||void 0===r?void 0:r.arrayValue,u=oa((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Go(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vo.mapValue&&t===Vo.mapValue)return 0;if(e===Vo.mapValue)return 1;if(t===Vo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=sa(r[o],a[o]);if(0!==e)return e;const t=Ko(n[r[o]],i[a[o]]);if(0!==t)return t}return oa(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ui(23264,{Pe:n})}}function Qo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return oa(e,t);const n=To(e),r=To(t),i=oa(n.seconds,r.seconds);return 0!==i?i:oa(n.nanos,r.nanos)}function Go(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ko(n[i],r[i]);if(e)return e}return oa(n.length,r.length)}function Yo(e){return Xo(e)}function Xo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=To(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Co(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xo(e.fields[i]));return n+"}"}(e.mapValue):Ui(61005,{value:e})}function $o(e){switch(Ho(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oo(e);return t?16+$o(t):16;case 5:return 2*e.stringValue.length;case 6:return Co(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+$o(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return fo(e.fields,((e,n)=>{t+=e.length+$o(n)})),t}(e.mapValue);default:throw Ui(13486,{value:e})}}function Jo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zo(e){return!!e&&"integerValue"in e}function es(e){return!!e&&"arrayValue"in e}function ts(e){return!!e&&"nullValue"in e}function ns(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rs(e){return!!e&&"mapValue"in e}function is(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Fo])||void 0===n?void 0:n.stringValue)===Bo}function as(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=as(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=as(e.arrayValue.values[n]);return t}return Object.assign({},e)}function os(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===zo}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=as(t)}setAll(e){let t=ba.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=as(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());rs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){fo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ss(as(this.value))}}function ls(e){const t=[];return fo(e.fields,((e,n)=>{const r=new ba([e]);if(rs(n)){const e=ls(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new wo(t)}class cs{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new cs(e,0,pa.min(),pa.min(),pa.min(),ss.empty(),0)}static newFoundDocument(e,t,n,r){return new cs(e,1,t,pa.min(),n,r,0)}static newNoDocument(e,t){return new cs(e,2,t,pa.min(),pa.min(),ss.empty(),0)}static newUnknownDocument(e,t){return new cs(e,3,t,pa.min(),pa.min(),ss.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class us{constructor(e,t){this.position=e,this.inclusive=t}}function hs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?xa.comparator(xa.fromName(o.referenceValue),n.key):Ko(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ds(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qo(e.position[n],t.position[n]))return!1;return!0}class fs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ps(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gs{}class ms extends gs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ks(e,t,n):"array-contains"===t?new Ds(e,n):"in"===t?new Ns(e,n):"not-in"===t?new Is(e,n):"array-contains-any"===t?new As(e,n):new ms(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ts(e,n):new Es(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ko(t,this.value)):null!==t&&Ho(this.value)===Ho(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ui(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends gs{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ys(e,t)}matches(e){return vs(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function vs(e){return"and"===e.op}function bs(e){return xs(e)&&vs(e)}function xs(e){for(const t of e.filters)if(t instanceof ys)return!1;return!0}function ws(e){if(e instanceof ms)return e.field.canonicalString()+e.op.toString()+Yo(e.value);if(bs(e))return e.filters.map((e=>ws(e))).join(",");{const t=e.filters.map((e=>ws(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function _s(e,t){return e instanceof ms?function(e,t){return t instanceof ms&&e.op===t.op&&e.field.isEqual(t.field)&&qo(e.value,t.value)}(e,t):e instanceof ys?function(e,t){return t instanceof ys&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&_s(n,t.filters[r])),!0)}(e,t):void Ui(19439)}function Ss(e){return e instanceof ms?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Yo(e.value))}(e):e instanceof ys?function(e){return e.op.toString()+" {"+e.getFilters().map(Ss).join(" ,")+"}"}(e):"Filter"}class ks extends ms{constructor(e,t,n){super(e,t,n),this.key=xa.fromName(n.referenceValue)}matches(e){const t=xa.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ts extends ms{constructor(e,t){super(e,"in",t),this.keys=Cs("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Es extends ms{constructor(e,t){super(e,"not-in",t),this.keys=Cs("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Cs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>xa.fromName(e.referenceValue)))}class Ds extends ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return es(t)&&Wo(t.arrayValue,this.value)}}class Ns extends ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wo(this.value.arrayValue,t)}}class Is extends ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Wo(this.value.arrayValue,t)}}class As extends ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!es(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Wo(this.value.arrayValue,e)))}}class Ms{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Ie=null}}function Os(e){return new Ms(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ps(e){const t=Wi(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ws(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),La(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Yo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Yo(e))).join(",")),t.Ie=e}return t.Ie}function Ls(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ps(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_s(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ds(e.startAt,t.startAt)&&ds(e.endAt,t.endAt)}function js(e){return xa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Rs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Fs(e,t,n,r,i,a,o,s){return new Rs(e,t,n,r,i,a,o,s)}function zs(e){return new Rs(e)}function Vs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bs(e){return null!==e.collectionGroup}function Us(e){const t=Wi(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bo(ba.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new fs(r,n))})),e.has(ba.keyField().canonicalString())||t.Ee.push(new fs(ba.keyField(),n))}return t.Ee}function Hs(e){const t=Wi(e);return t.de||(t.de=Ws(t,Us(e))),t.de}function qs(e){const t=Wi(e);return t.Ae||(t.Ae=Ws(t,e.explicitOrderBy)),t.Ae}function Ws(e,t){if("F"===e.limitType)return Os(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new fs(e.field,t)}));const n=e.endAt?new us(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new us(e.startAt.position,e.startAt.inclusive):null;return Os(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ks(e,t){const n=e.filters.concat([t]);return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qs(e,t,n){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gs(e,t){return Ls(Hs(e),Hs(t))&&e.limitType===t.limitType}function Ys(e){return"".concat(Ps(Hs(e)),"|lt:").concat(e.limitType)}function Xs(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ss(e))).join(", "),"]")),La(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Yo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Yo(e))).join(",")),"Target(".concat(t,")")}(Hs(e)),"; limitType=").concat(e.limitType,")")}function $s(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Us(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Us(e),t))&&!(e.endAt&&!function(e,t,n){const r=hs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Us(e),t))}(e,t)}function Js(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zs(e){return(t,n)=>{let r=!1;for(const i of Us(e)){const e=el(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function el(e,t,n){const r=e.field.isKeyField()?xa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ko(r,i):Ui(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ui(19790,{direction:e.dir})}}class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return go(this.inner)}size(){return this.innerSize}}const nl=new mo(xa.comparator);function rl(){return nl}const il=new mo(xa.comparator);function al(){let e=il;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ol(e){let t=il;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function sl(){return cl()}function ll(){return cl()}function cl(){return new tl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ul=new mo(xa.comparator),hl=new bo(xa.comparator);function dl(){let e=hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const fl=new bo(oa);function pl(){return fl}function gl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(t)?"-0":t}}function ml(e){return{integerValue:""+e}}function yl(e,t){return Ra(t)?ml(t):gl(e,t)}class vl{constructor(){this._=void 0}}function bl(e,t,n){return e instanceof _l?function(e,t){const n={fields:{[No]:{stringValue:Do},[Ao]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Mo(t)&&(t=Oo(t)),t&&(n.fields[Io]=t),{mapValue:n}}(n,t):e instanceof Sl?kl(e,t):e instanceof Tl?El(e,t):function(e,t){const n=wl(e,t),r=Dl(n)+Dl(e.Re);return Zo(n)&&Zo(e.Re)?ml(r):gl(e.serializer,r)}(e,t)}function xl(e,t,n){return e instanceof Sl?kl(e,t):e instanceof Tl?El(e,t):n}function wl(e,t){return e instanceof Cl?function(e){return Zo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class _l extends vl{}class Sl extends vl{constructor(e){super(),this.elements=e}}function kl(e,t){const n=Nl(t);for(const r of e.elements)n.some((e=>qo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Tl extends vl{constructor(e){super(),this.elements=e}}function El(e,t){let n=Nl(t);for(const r of e.elements)n=n.filter((e=>!qo(e,r)));return{arrayValue:{values:n}}}class Cl extends vl{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Dl(e){return Eo(e.integerValue||e.doubleValue)}function Nl(e){return es(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Il{constructor(e,t){this.version=e,this.transformResults=t}}class Al{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Al}static exists(e){return new Al(void 0,e)}static updateTime(e){return new Al(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ol{}function Pl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ql(e.key,Al.none()):new zl(e.key,e.data,Al.none());{const n=e.data,r=ss.empty();let i=new bo(ba.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Vl(e.key,r,new wo(i.toArray()),Al.none())}}function Ll(e,t,n){e instanceof zl?function(e,t,n){const r=e.value.clone(),i=Ul(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vl?function(e,t,n){if(!Ml(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ul(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jl(e,t,n,r){return e instanceof zl?function(e,t,n,r){if(!Ml(e.precondition,t))return n;const i=e.value.clone(),a=Hl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vl?function(e,t,n,r){if(!Ml(e.precondition,t))return n;const i=Hl(e.fieldTransforms,r,t),a=t.data;return a.setAll(Bl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ml(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wl(r.transform,e||null);null!=i&&(null===n&&(n=ss.empty()),n.set(r.field,i))}return n||null}function Fl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ua(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sl&&t instanceof Sl||e instanceof Tl&&t instanceof Tl?ua(e.elements,t.elements,qo):e instanceof Cl&&t instanceof Cl?qo(e.Re,t.Re):e instanceof _l&&t instanceof _l}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zl extends Ol{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vl extends Ol{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ul(e,t,n){const r=new Map;qi(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,xl(o,s,n[i]))}return r}function Hl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,bl(e,a,t))}return r}class ql extends Ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wl extends Ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ll(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ll();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Pl(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(pa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dl())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,((e,t)=>Fl(e,t)))&&ua(this.baseMutations,e.baseMutations,((e,t)=>Fl(e,t)))}}class Ql{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qi(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=ul;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Ql(e,t,n,r)}}class Gl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Yl{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Xl{constructor(e,t){this.count=e,this.unchangedNames=t}}var $l,Jl;function Zl(e){switch(e){case Ki.OK:return Ui(64938);case Ki.CANCELLED:case Ki.UNKNOWN:case Ki.DEADLINE_EXCEEDED:case Ki.RESOURCE_EXHAUSTED:case Ki.INTERNAL:case Ki.UNAVAILABLE:case Ki.UNAUTHENTICATED:return!1;case Ki.INVALID_ARGUMENT:case Ki.NOT_FOUND:case Ki.ALREADY_EXISTS:case Ki.PERMISSION_DENIED:case Ki.FAILED_PRECONDITION:case Ki.ABORTED:case Ki.OUT_OF_RANGE:case Ki.UNIMPLEMENTED:case Ki.DATA_LOSS:return!0;default:return Ui(15467,{code:e})}}function ec(e){if(void 0===e)return zi("GRPC error has no .code"),Ki.UNKNOWN;switch(e){case $l.OK:return Ki.OK;case $l.CANCELLED:return Ki.CANCELLED;case $l.UNKNOWN:return Ki.UNKNOWN;case $l.DEADLINE_EXCEEDED:return Ki.DEADLINE_EXCEEDED;case $l.RESOURCE_EXHAUSTED:return Ki.RESOURCE_EXHAUSTED;case $l.INTERNAL:return Ki.INTERNAL;case $l.UNAVAILABLE:return Ki.UNAVAILABLE;case $l.UNAUTHENTICATED:return Ki.UNAUTHENTICATED;case $l.INVALID_ARGUMENT:return Ki.INVALID_ARGUMENT;case $l.NOT_FOUND:return Ki.NOT_FOUND;case $l.ALREADY_EXISTS:return Ki.ALREADY_EXISTS;case $l.PERMISSION_DENIED:return Ki.PERMISSION_DENIED;case $l.FAILED_PRECONDITION:return Ki.FAILED_PRECONDITION;case $l.ABORTED:return Ki.ABORTED;case $l.OUT_OF_RANGE:return Ki.OUT_OF_RANGE;case $l.UNIMPLEMENTED:return Ki.UNIMPLEMENTED;case $l.DATA_LOSS:return Ki.DATA_LOSS;default:return Ui(39323,{code:e})}}(Jl=$l||($l={}))[Jl.OK=0]="OK",Jl[Jl.CANCELLED=1]="CANCELLED",Jl[Jl.UNKNOWN=2]="UNKNOWN",Jl[Jl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jl[Jl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jl[Jl.NOT_FOUND=5]="NOT_FOUND",Jl[Jl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jl[Jl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jl[Jl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jl[Jl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jl[Jl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jl[Jl.ABORTED=10]="ABORTED",Jl[Jl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jl[Jl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jl[Jl.INTERNAL=13]="INTERNAL",Jl[Jl.UNAVAILABLE=14]="UNAVAILABLE",Jl[Jl.DATA_LOSS=15]="DATA_LOSS";let tc=null;const nc=new vi([4294967295,4294967295],0);function rc(e){const t=ia().encode(e),n=new bi;return n.update(t),new Uint8Array(n.digest())}function ic(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new vi([n,r],0),new vi([i,a],0)]}class ac{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new oc("Invalid padding: ".concat(t));if(n<0)throw new oc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new oc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new oc("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=vi.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(vi.fromNumber(n)));return 1===r.compare(nc)&&(r=new vi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=rc(e),[n,r]=ic(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ac(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.pe)return;const t=rc(e),[n,r]=ic(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sc(pa.min(),r,new mo(oa),rl(),dl())}}class lc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lc(n,t,dl(),dl(),dl())}}class cc{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class uc{constructor(e,t){this.targetId=e,this.Ce=t}}class hc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:So.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dc{constructor(){this.Fe=0,this.Me=gc(),this.xe=So.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dl(),t=dl(),n=dl();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ui(38017,{changeType:i})}})),new lc(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=gc()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qi(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fc{constructor(e){this.ze=e,this.je=new Map,this.He=rl(),this.Je=pc(),this.Ye=pc(),this.Ze=new mo(oa)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ui(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(js(i))if(0===n){const e=new xa(i.path);this.tt(t,e,cs.newNoDocument(e,pa.min()))}else qi(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==tc||tc.ht(function(e,t,n,r,i){var a,o,s,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(a=null==d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=Co(n).toUint8Array()}catch(e){if(e instanceof _o)return Vi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ac(a,r,i)}catch(e){return Vi(e instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&js(i.target)){const t=new xa(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,cs.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=dl();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new sc(e,t,this.Ze,this.He,n);return this.He=rl(),this.Je=pc(),this.Ye=pc(),this.Ze=new mo(oa),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dc,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new bo(oa),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new bo(oa),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Fi("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dc),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function pc(){return new mo(xa.comparator)}function gc(){return new mo(xa.comparator)}const mc={asc:"ASCENDING",desc:"DESCENDING"},yc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vc={and:"AND",or:"OR"};class bc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xc(e,t){return e.useProto3Json||La(t)?t:{value:t}}function wc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _c(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sc(e,t){return wc(e,t.toTimestamp())}function kc(e){return qi(!!e,49232),pa.fromTimestamp(function(e){const t=To(e);return new fa(t.seconds,t.nanos)}(e))}function Tc(e,t){return Ec(e,t).canonicalString()}function Ec(e,t){const n=function(e){return new ya(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cc(e){const t=ya.fromString(e);return qi(Gc(t),10190,{key:t.toString()}),t}function Dc(e,t){return Tc(e.databaseId,t.path)}function Nc(e,t){const n=Cc(t);if(n.get(1)!==e.databaseId.projectId)throw new Qi(Ki.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qi(Ki.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xa(Oc(n))}function Ic(e,t){return Tc(e.databaseId,t)}function Ac(e){const t=Cc(e);return 4===t.length?ya.emptyPath():Oc(t)}function Mc(e){return new ya(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Oc(e){return qi(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Pc(e,t,n){return{name:Dc(e,t),fields:n.value.mapValue.fields}}function Lc(e,t){let n;if(t instanceof zl)n={update:Pc(e,t.key,t.value)};else if(t instanceof ql)n={delete:Dc(e,t.key)};else if(t instanceof Vl)n={update:Pc(e,t.key,t.data),updateMask:Qc(t.fieldMask)};else{if(!(t instanceof Wl))return Ui(16599,{ft:t.type});n={verify:Dc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof _l)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cl)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Ui(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ui(27497)}(e,t.precondition)),n}function jc(e,t){return{documents:[Ic(e,t.path)]}}function Rc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ic(e,i);const a=function(e){if(0!==e.length)return Kc(ys.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:qc(e.field),direction:Bc(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=xc(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Fc(e,t,n,r){const{gt:i,parent:a}=Rc(e,t),o={},s=[];let l=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+l++;o[t]=e.alias,"count"===e.aggregateType?s.push({alias:t,count:{}}):"avg"===e.aggregateType?s.push({alias:t,avg:{field:qc(e.fieldPath)}}):"sum"===e.aggregateType&&s.push({alias:t,sum:{field:qc(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},yt:o,parent:a}}function zc(e){let t=Ac(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qi(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Vc(e);return t instanceof ys&&bs(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new fs(Wc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,La(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new us(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new us(n,t)}(n.endAt)),Fs(t,i,o,a,s,"F",l,c)}function Vc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wc(e.unaryFilter.field);return ms.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wc(e.unaryFilter.field);return ms.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wc(e.unaryFilter.field);return ms.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wc(e.unaryFilter.field);return ms.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ui(61313);default:return Ui(60726)}}(e):void 0!==e.fieldFilter?function(e){return ms.create(Wc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ui(58110);default:return Ui(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ys.create(e.compositeFilter.filters.map((e=>Vc(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ui(1026)}}(e.compositeFilter.op))}(e):Ui(30097,{filter:e})}function Bc(e){return mc[e]}function Uc(e){return yc[e]}function Hc(e){return vc[e]}function qc(e){return{fieldPath:e.canonicalString()}}function Wc(e){return ba.fromServerFormat(e.fieldPath)}function Kc(e){return e instanceof ms?function(e){if("=="===e.op){if(ns(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NAN"}};if(ts(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ns(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NAN"}};if(ts(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(e.field),op:Uc(e.op),value:e.value}}}(e):e instanceof ys?function(e){const t=e.getFilters().map((e=>Kc(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hc(e.op),filters:t}}}(e):Ui(54877,{filter:e})}function Qc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Gc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Yc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pa.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pa.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:So.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xc{constructor(e){this.wt=e}}function $c(e){const t=zc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qs(t,t.limit,"L"):t}class Jc{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Eo(e.integerValue));else if("doubleValue"in e){const n=Eo(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),ja(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=To(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Co(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?os(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):is(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Ui(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const a=Uo,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Eo(o)),this.Nt(a,t),this.Ct(i[a],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),xa.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Jc.Wt=new Jc;class Zc{constructor(){this.Cn=new eu}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ia.resolve()}getCollectionParents(e,t){return Ia.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ia.resolve()}deleteFieldIndex(e,t){return Ia.resolve()}deleteAllFieldIndexes(e){return Ia.resolve()}createTargetIndexes(e,t){return Ia.resolve()}getDocumentsMatchingTarget(e,t){return Ia.resolve(null)}getIndexType(e,t){return Ia.resolve(0)}getFieldIndexes(e,t){return Ia.resolve([])}getNextCollectionGroupToUpdate(e){return Ia.resolve(null)}getMinOffset(e,t){return Ia.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,t){return Ia.resolve(Ta.min())}updateCollectionGroup(e,t,n){return Ia.resolve()}updateIndexEntries(e,t){return Ia.resolve()}}class eu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bo(ya.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bo(ya.comparator)).toArray()}}new Uint8Array(0);const tu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nu=41943040;class ru{static withCacheSize(e){return new ru(e,ru.DEFAULT_COLLECTION_PERCENTILE,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ru.DEFAULT_COLLECTION_PERCENTILE=10,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ru.DEFAULT=new ru(nu,ru.DEFAULT_COLLECTION_PERCENTILE,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ru.DISABLED=new ru(-1,0,0);class iu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new iu(0)}static lr(){return new iu(-1)}}const au="LruGarbageCollector",ou=1048576;function su(e,t){let[n,r]=e,[i,a]=t;const o=oa(n,i);return 0===o?oa(r,a):o}class lu{constructor(e){this.Er=e,this.buffer=new bo(su),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();su(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Fi(au,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ma(e)?Fi(au,"Ignoring IndexedDB error during garbage collection: ",e):await Na(e)}await this.mr(3e5)}))}}class uu{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ia.resolve(Oa.le);const n=new lu(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; disabled"),Ia.resolve(tu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),tu):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Fi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ri()<=$n.DEBUG&&Fi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ia.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function hu(e,t){return new uu(e,t)}class du{constructor(){this.changes=new tl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ia.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&jl(n.mutation,e,wo.empty(),fa.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,dl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dl();const r=sl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=al();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=sl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,dl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=rl();const a=cl(),o=cl();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Vl)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),jl(o.mutation,t,o.mutation.getFieldMask(),fa.now())):a.set(t.key,wo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new fu(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=cl();let r=new mo(((e,t)=>e-t)),i=dl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||wo.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||dl()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=ll();l.forEach((e=>{if(!i.has(e)){const r=Pl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ia.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ia.resolve(sl());let o=wa,s=i;return a.next((t=>Ia.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ia.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,dl()))).next((e=>({batchId:o,changes:ol(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xa(t)).next((e=>{let t=al();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=al();return this.indexManager.getCollectionParents(e,i).next((o=>Ia.forEach(o,(o=>{const s=function(e,t){return new Rs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cs.newInvalidDocument(r)))}));let n=al();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&jl(a.mutation,r,wo.empty(),fa.now()),$s(t,r)&&(n=n.insert(e,r))})),n}))}}class gu{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ia.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:kc(e.createTime)}}(t)),Ia.resolve()}getNamedQuery(e,t){return Ia.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:$c(e.bundledQuery),readTime:kc(e.readTime)}}(t)),Ia.resolve()}}class mu{constructor(){this.overlays=new mo(xa.comparator),this.Qr=new Map}getOverlay(e,t){return Ia.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sl();return Ia.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Ia.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),Ia.resolve()}getOverlaysForCollection(e,t,n){const r=sl(),i=t.length+1,a=new xa(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ia.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new mo(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=sl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=sl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Ia.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gl(t,n));let i=this.Qr.get(t);void 0===i&&(i=dl(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class yu{constructor(){this.sessionToken=So.EMPTY_BYTE_STRING}getSessionToken(e){return Ia.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ia.resolve()}}class vu{constructor(){this.$r=new bo(bu.Ur),this.Kr=new bo(bu.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new bu(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new bu(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new xa(new ya([])),n=new bu(t,e),r=new bu(t,e+1),i=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),i.push(e.key)})),i}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new xa(new ya([])),n=new bu(t,e),r=new bu(t,e+1);let i=dl();return this.Kr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new bu(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class bu{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return xa.comparator(e.key,t.key)||oa(e.Zr,t.Zr)}static Wr(e,t){return oa(e.Zr,t.Zr)||xa.comparator(e.key,t.key)}}class xu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new bo(bu.Ur)}checkEmpty(e){return Ia.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Kl(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Xr=this.Xr.add(new bu(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ia.resolve(a)}lookupMutationBatch(e,t){return Ia.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return Ia.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ia.resolve(0===this.mutationQueue.length?Pa:this.nr-1)}getAllMutationBatches(e){return Ia.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new bu(t,0),r=new bu(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);i.push(t)})),Ia.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bo(oa);return t.forEach((e=>{const t=new bu(e,0),r=new bu(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),Ia.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xa.isDocumentKey(i)||(i=i.child(""));const a=new bu(new xa(i),0);let o=new bo(oa);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Zr)),!0)}),a),Ia.resolve(this.ni(o))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){qi(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Ia.forEach(t.mutations,(r=>{const i=new bu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new bu(t,0),r=this.Xr.firstAfterOrEqual(n);return Ia.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ia.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wu{constructor(e){this.ii=e,this.docs=new mo(xa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ia.resolve(n?n.document.mutableCopy():cs.newInvalidDocument(t))}getEntries(e,t){let n=rl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cs.newInvalidDocument(e))})),Ia.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=rl();const a=t.path,o=new xa(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ea(ka(o),n)<=0||(r.has(o.key)||$s(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ia.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ui(9500)}si(e,t){return Ia.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new _u(this)}getSize(e){return Ia.resolve(this.size)}}class _u extends du{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),Ia.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Su{constructor(e){this.persistence=e,this.oi=new tl((e=>Ps(e)),Ls),this.lastRemoteSnapshotVersion=pa.min(),this.highestTargetId=0,this._i=0,this.ai=new vu,this.targetCount=0,this.ui=iu.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),Ia.resolve()}getLastRemoteSnapshotVersion(e){return Ia.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ia.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ia.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Ia.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new iu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ia.resolve()}updateTargetData(e,t){return this.Tr(t),Ia.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ia.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach(((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ia.waitFor(i).next((()=>r))}getTargetCount(e){return Ia.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Ia.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Ia.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ia.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ia.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Ia.resolve(n)}containsKey(e,t){return Ia.resolve(this.ai.containsKey(t))}}class ku{constructor(e,t){this.ci={},this.overlays={},this.li=new Oa(0),this.hi=!1,this.hi=!0,this.Pi=new yu,this.referenceDelegate=e(this),this.Ti=new Su(this),this.indexManager=new Zc,this.remoteDocumentCache=function(e){return new wu(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Xc(t),this.Ei=new gu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new xu(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Fi("MemoryPersistence","Starting transaction:",e);const r=new Tu(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return Ia.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class Tu extends Da{constructor(e){super(),this.currentSequenceNumber=e}}class Eu{constructor(e){this.persistence=e,this.Vi=new vu,this.mi=null}static fi(e){return new Eu(e)}get gi(){if(this.mi)return this.mi;throw Ui(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Ia.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Ia.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ia.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ia.forEach(this.gi,(n=>{const r=xa.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,pa.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return Ia.or([()=>Ia.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Cu{constructor(e,t){this.persistence=e,this.yi=new tl((e=>za(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=hu(this,t)}static fi(e,t){return new Cu(e,t)}di(){}Ai(e){return Ia.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return Ia.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?Ia.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,pa.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ia.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Ia.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Ia.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ia.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$o(e.data.value)),t}Dr(e,t,n){return Ia.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Ia.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Du{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=dl(),r=dl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Du(e,t.fromCache,n,r)}}class Nu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Iu{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=jn()?8:Aa(Pn())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.bs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Nu;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>i.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Ri()<=$n.DEBUG&&Fi("QueryEngine","SDK will not create cache indexes for query:",Xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ia.resolve()):(Ri()<=$n.DEBUG&&Fi("QueryEngine","Query:",Xs(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Ri()<=$n.DEBUG&&Fi("QueryEngine","The SDK decides to create cache indexes for query:",Xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(t))):Ia.resolve())}ws(e,t){if(Vs(t))return Ia.resolve(null);let n=Hs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qs(t,null,"F"),n=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=dl(...r);return this.ys.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.vs(t,r);return this.Cs(t,a,i,n.readTime)?this.ws(e,Qs(t,null,"F")):this.Fs(e,a,t,n)}))))})))))}bs(e,t,n,r){return Vs(t)||r.isEqual(pa.min())?Ia.resolve(null):this.ys.getDocuments(e,n).next((i=>{const a=this.vs(t,i);return this.Cs(t,a,n,r)?Ia.resolve(null):(Ri()<=$n.DEBUG&&Fi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xs(t)),this.Fs(e,a,t,Sa(r,wa)).next((e=>e)))}))}vs(e,t){let n=new bo(Zs(e));return t.forEach(((t,r)=>{$s(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Ri()<=$n.DEBUG&&Fi("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.ys.getDocumentsMatchingQuery(e,t,Ta.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Au="LocalStore";class Mu{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new mo(oa),this.Os=new tl((e=>Ps(e)),Ls),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pu(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function Ou(e,t,n,r){return new Mu(e,t,n,r)}async function Pu(e,t){const n=Wi(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let o=dl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ks:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Lu(e){const t=Wi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function ju(e,t,n){let r=dl(),i=dl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=rl();return n.forEach(((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(pa.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Fi(Au,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{qs:r,Qs:i}}))}function Ru(e,t){const n=Wi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Pa),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Fu(e,t){const n=Wi(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((i=>i?(r=i,Ia.resolve(r)):n.Ti.allocateTargetId(e).next((i=>(r=new Yc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function zu(e,t,n){const r=Wi(e),i=r.xs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ma(e))throw e;Fi(Au,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Vu(e,t,n){const r=Wi(e);let i=pa.min(),a=dl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Wi(e),i=r.Os.get(n);return void 0!==i?Ia.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,Hs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:pa.min(),n?a:dl()))).next((e=>(Bu(r,Js(t),e),{documents:e,$s:a})))))}function Bu(e,t,n){let r=e.Ns.get(t)||pa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class Uu{constructor(){this.activeTargetIds=pl()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hu{constructor(){this.xo=new Uu,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Uu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qu{No(e){}shutdown(){}}const Wu="ConnectivityMonitor";class Ku{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Fi(Wu,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Fi(Wu,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qu=null;function Gu(){return null===Qu?Qu=268435456+Math.round(2147483648*Math.random()):Qu++,"0x"+Qu.toString(16)}const Yu="RestConnection",Xu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $u{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===jo?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const a=Gu(),o=this.jo(e,t.toUriEncodedString());Fi(Yu,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,r,i);const{host:l}=new URL(o),c=In(l);return this.Jo(e,o,s,n,c).then((t=>(Fi(Yu,"Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw Vi(Yu,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}Yo(e,t,n,r,i,a){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Xu[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ju{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Zu="WebChannelConnection";class eh extends $u{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Gu();return new Promise(((i,o)=>{const s=new _i;s.setWithCredentials(!0),s.listenOnce(ki.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Ti.NO_ERROR:const t=s.getResponseJson();Fi(Zu,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case Ti.TIMEOUT:Fi(Zu,"RPC '".concat(e,"' ").concat(a," timed out")),o(new Qi(Ki.DEADLINE_EXCEEDED,"Request time out"));break;case Ti.HTTP_ERROR:const n=s.getStatus();if(Fi(Zu,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ki).indexOf(t)>=0?t:Ki.UNKNOWN}(t.status);o(new Qi(e,t.message))}else o(new Qi(Ki.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Qi(Ki.UNAVAILABLE,"Connection failed."));break;default:Ui(9055,{h_:e,streamId:a,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{Fi(Zu,"RPC '".concat(e,"' ").concat(a," completed."))}}));const l=JSON.stringify(r);Fi(Zu,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=Gu(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ni(),o=Di(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Fi(Zu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.E_(u);let h=!1,d=!1;const f=new Ju({Zo:t=>{d?Fi(Zu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Fi(Zu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Si.EventType.OPEN,(()=>{d||(Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),p(u,Si.EventType.CLOSE,(()=>{d||(d=!0,Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),p(u,Si.EventType.ERROR,(t=>{d||(d=!0,Vi(Zu,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Qi(Ki.UNAVAILABLE,"The operation could not be completed")))})),p(u,Si.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];qi(!!i,16349);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=$l[e];if(void 0!==t)return ec(t)}(t),i=o.message;void 0===n&&(n=Ki.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.u_(new Qi(n,i)),u.close()}else Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}})),p(o,Ci.STAT_EVENT,(t=>{t.stat===Ei.PROXY?Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ei.NOPROXY&&Fi(Zu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function th(){return"undefined"!=typeof document?document:null}function nh(e){return new bc(e,!0)}class rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&Fi("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const ih="PersistentStream";class ah{constructor(e,t,n,r,i,a,o,s){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rh(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===Ki.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ki.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Qi(Ki.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return Fi(ih,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(Fi(ih,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oh extends ah{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ui(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(qi(void 0===t||"string"==typeof t,58123),So.fromBase64String(t||"")):(qi(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),So.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Ki.UNKNOWN:ec(e.code);return new Qi(t,e.message||"")}(o);n=new hc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nc(e,r.document.name),a=kc(r.document.updateTime),o=r.document.createTime?kc(r.document.createTime):pa.min(),s=new ss({mapValue:{fields:r.document.fields}}),l=cs.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Nc(e,r.document),a=r.readTime?kc(r.readTime):pa.min(),o=cs.newNoDocument(i,a),s=r.removedTargetIds||[];n=new cc([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Nc(e,r.document),a=r.removedTargetIds||[];n=new cc([],a,i,null)}else{if(!("filter"in t))return Ui(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Xl(r,i),o=e.targetId;n=new uc(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return pa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?pa.min():t.readTime?kc(t.readTime):pa.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Mc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=js(r)?{documents:jc(e,r)}:{query:Rc(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_c(e,t.resumeToken);const r=xc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(pa.min())>0){n.readTime=wc(e,t.snapshotVersion.toTimestamp());const r=xc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ui(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Mc(this.serializer),t.removeTarget=e,this.Q_(t)}}class sh extends ah{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return qi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qi(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){qi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(qi(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?kc(e.updateTime):kc(t);return n.isEqual(pa.min())&&(n=kc(t)),new Il(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=kc(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Mc(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Lc(this.serializer,e)))};this.Q_(t)}}class lh{}class ch extends lh{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Qi(Ki.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.zo(e,Ec(t,n),r,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ki.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qi(Ki.UNKNOWN,e.toString())}))}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[o,s]=a;return this.connection.Yo(e,Ec(t,n),r,o,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ki.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qi(Ki.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class uh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(zi(t),this.ua=!1):Fi("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const hh="RemoteStore";class dh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No((e=>{n.enqueueAndForget((async()=>{wh(this)&&(Fi(hh,"Restarting streams for network reachability change."),await async function(e){const t=Wi(e);t.da.add(4),await ph(t),t.Va.set("Unknown"),t.da.delete(4),await fh(t)}(this))}))})),this.Va=new uh(n,r)}}async function fh(e){if(wh(e))for(const t of e.Aa)await t(!0)}async function ph(e){for(const t of e.Aa)await t(!1)}function gh(e,t){const n=Wi(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),xh(n)?bh(n):Vh(n).N_()&&yh(n,t))}function mh(e,t){const n=Wi(e),r=Vh(n);n.Ea.delete(t),r.N_()&&vh(n,t),0===n.Ea.size&&(r.N_()?r.k_():wh(n)&&n.Va.set("Unknown"))}function yh(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vh(e).Z_(t)}function vh(e,t){e.ma.Ke(t),Vh(e).X_(t)}function bh(e){e.ma=new fc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Vh(e).start(),e.Va.ca()}function xh(e){return wh(e)&&!Vh(e).O_()&&e.Ea.size>0}function wh(e){return 0===Wi(e).da.size}function _h(e){e.ma=void 0}async function Sh(e){e.Va.set("Online")}async function kh(e){e.Ea.forEach(((t,n)=>{yh(e,t)}))}async function Th(e,t){_h(e),xh(e)?(e.Va.Pa(t),bh(e)):e.Va.set("Unknown")}async function Eh(e,t,n){if(e.Va.set("Online"),t instanceof hc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){Fi(hh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ch(e,n)}else if(t instanceof cc?e.ma.Xe(t):t instanceof uc?e.ma.ot(t):e.ma.nt(t),!n.isEqual(pa.min()))try{const t=await Lu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(So.EMPTY_BYTE_STRING,r.snapshotVersion)),vh(e,t);const i=new Yc(r.target,t,n,r.sequenceNumber);yh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Fi(hh,"Failed to raise snapshot:",t),await Ch(e,t)}}async function Ch(e,t,n){if(!Ma(t))throw t;e.da.add(1),await ph(e),e.Va.set("Offline"),n||(n=()=>Lu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Fi(hh,"Retrying IndexedDB access"),await n(),e.da.delete(1),await fh(e)}))}function Dh(e,t){return t().catch((n=>Ch(e,n,t)))}async function Nh(e){const t=Wi(e),n=Bh(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Pa;for(;Ih(t);)try{const e=await Ru(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Ah(t,e)}catch(e){await Ch(t,e)}Mh(t)&&Oh(t)}function Ih(e){return wh(e)&&e.Ia.length<10}function Ah(e,t){e.Ia.push(t);const n=Bh(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Mh(e){return wh(e)&&!Bh(e).O_()&&e.Ia.length>0}function Oh(e){Bh(e).start()}async function Ph(e){Bh(e).ia()}async function Lh(e){const t=Bh(e);for(const n of e.Ia)t.ta(n.mutations)}async function jh(e,t,n){const r=e.Ia.shift(),i=Ql.from(r,t,n);await Dh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Nh(e)}async function Rh(e,t){t&&Bh(e).ea&&await async function(e,t){if(function(e){return Zl(e)&&e!==Ki.ABORTED}(t.code)){const n=e.Ia.shift();Bh(e).L_(),await Dh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Nh(e)}}(e,t),Mh(e)&&Oh(e)}async function Fh(e,t){const n=Wi(e);n.asyncQueue.verifyOperationInProgress(),Fi(hh,"RemoteStore received new credentials");const r=wh(n);n.da.add(3),await ph(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await fh(n)}async function zh(e,t){const n=Wi(e);t?(n.da.delete(2),await fh(n)):t||(n.da.add(2),await ph(n),n.Va.set("Unknown"))}function Vh(e){return e.fa||(e.fa=function(e,t,n){const r=Wi(e);return r.oa(),new oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Sh.bind(null,e),n_:kh.bind(null,e),i_:Th.bind(null,e),Y_:Eh.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),xh(e)?bh(e):e.Va.set("Unknown")):(await e.fa.stop(),_h(e))}))),e.fa}function Bh(e){return e.ga||(e.ga=function(e,t,n){const r=Wi(e);return r.oa(),new sh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Ph.bind(null,e),i_:Rh.bind(null,e),na:Lh.bind(null,e),ra:jh.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await Nh(e)):(await e.ga.stop(),e.Ia.length>0&&(Fi(hh,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class Uh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Uh(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qi(Ki.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hh(e,t){if(zi("AsyncQueue","".concat(t,": ").concat(e)),Ma(e))return new Qi(Ki.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class qh{static emptySet(e){return new qh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||xa.comparator(t.key,n.key):(e,t)=>xa.comparator(e.key,t.key),this.keyedMap=al(),this.sortedSet=new mo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wh{constructor(){this.pa=new mo(xa.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ui(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Kh{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Kh(e,t,qh.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qh{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Gh{constructor(){this.queries=Yh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Wi(e),r=n.queries;n.queries=Yh(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Qi(Ki.ABORTED,"Firestore shutting down"))}}function Yh(){return new tl((e=>Ys(e)),Gs)}async function Xh(e,t){const n=Wi(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Da()&&t.va()&&(r=2):(a=new Qh,r=t.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Hh(e,"Initialization of query '".concat(Xs(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.Fa(n.onlineState),a.ba&&t.Ma(a.ba)&&ed(n)}async function $h(e,t){const n=Wi(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.va()?0:1:!a.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jh(e,t){const n=Wi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&ed(n)}function Zh(e,t,n){const r=Wi(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function ed(e){e.Ca.forEach((e=>{e.next()}))}var td,nd;(nd=td||(td={})).xa="default",nd.Cache="cache";class rd{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Kh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==td.Cache}}class id{constructor(e){this.key=e}}class ad{constructor(e){this.key=e}}class od{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dl(),this.mutatedKeys=dl(),this.Za=Zs(e),this.Xa=new qh(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Wh,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=$s(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Za(u,s)>0||l&&this.Za(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:a,nu:n,Cs:o,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ui(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const o=t&&!r?this.su():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Ja;return this.Ja=s,0!==a.length||l?{snapshot:new Kh(this.query,e.Xa,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Wh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=dl(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new ad(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new id(n))})),t}au(e){this.Ha=e.$s,this.Ya=dl();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Kh.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const sd="SyncEngine";class ld{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cd{constructor(e){this.key=e,this.cu=!1}}class ud{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new tl((e=>Ys(e)),Gs),this.Pu=new Map,this.Tu=new Set,this.Iu=new mo(xa.comparator),this.Eu=new Map,this.du=new vu,this.Au={},this.Ru=new Map,this.Vu=iu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function hd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Md(e);let i;const a=r.hu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await fd(r,t,n,!0),i}async function dd(e,t){const n=Md(e);await fd(n,t,!0,!1)}async function fd(e,t,n,r){const i=await Fu(e.localStore,Hs(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await pd(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&gh(e.remoteStore,i),s}async function pd(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await Vu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,i)})));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Ed(e,t.targetId,s.ou),s.snapshot}(e,t,n,r);const a=await Vu(e.localStore,t,!0),o=new od(t,a.$s),s=o.tu(a.documents),l=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);Ed(e,n,c.ou);const u=new ld(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function gd(e,t,n){const r=Wi(e),i=r.hu.get(t),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter((e=>!Gs(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mh(r.remoteStore,i.targetId),kd(r,i.targetId)})).catch(Na)):(kd(r,i.targetId),await zu(r.localStore,i.targetId,!0))}async function md(e,t){const n=Wi(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mh(n.remoteStore,r.targetId))}async function yd(e,t){const n=Wi(e);try{const e=await function(e,t){const n=Wi(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const o=[];t.targetChanges.forEach(((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Ti.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(So.EMPTY_BYTE_STRING,pa.min()).withLastLimboFreeSnapshotVersion(pa.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Ti.updateTargetData(e,c))}));let s=rl(),l=dl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ju(e,a,t.documentUpdates).next((e=>{s=e.qs,l=e.Qs}))),!r.isEqual(pa.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ia.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.xs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(qi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?qi(r.cu,14607):e.removedDocuments.size>0&&(qi(r.cu,42227),r.cu=!1))})),await Nd(n,e,t)}catch(e){await Na(e)}}function vd(e,t,n){const r=Wi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Wi(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)})),r&&ed(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bd(e,t,n){const r=Wi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),a=i&&i.key;if(a){let e=new mo(xa.comparator);e=e.insert(a,cs.newNoDocument(a,pa.min()));const n=dl().add(a),i=new sc(pa.min(),new Map,new mo(oa),e,n);await yd(r,i),r.Iu=r.Iu.remove(a),r.Eu.delete(t),Dd(r)}else await zu(r.localStore,t,!1).then((()=>kd(r,t,n))).catch(Na)}async function xd(e,t){const n=Wi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Wi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=Ia.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);qi(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=dl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Sd(n,r,null),_d(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nd(n,e)}catch(e){await Na(e)}}async function wd(e,t,n){const r=Wi(e);try{const e=await function(e,t){const n=Wi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(qi(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Sd(r,t,n),_d(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Nd(r,e)}catch(n){await Na(n)}}function _d(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function Sd(e,t,n){const r=Wi(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function kd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||Td(e,t)}))}function Td(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(mh(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Dd(e))}function Ed(e,t,n){for(const r of n)r instanceof id?(e.du.addReference(r.key,t),Cd(e,r)):r instanceof ad?(Fi(sd,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Td(e,r.key)):Ui(19791,{pu:r})}function Cd(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(Fi(sd,"New document in limbo: "+n),e.Tu.add(r),Dd(e))}function Dd(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new xa(ya.fromString(t)),r=e.Vu.next();e.Eu.set(r,new cd(n)),e.Iu=e.Iu.insert(n,r),gh(e.remoteStore,new Yc(Hs(zs(n.path)),r,"TargetPurposeLimboResolution",Oa.le))}}async function Nd(e,t,n){const r=Wi(e),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach(((e,s)=>{o.push(r.fu(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Du.Rs(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.lu.Y_(i),await async function(e,t){const n=Wi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ia.forEach(t,(t=>Ia.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ia.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ma(e))throw e;Fi(Au,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,a))}async function Id(e,t){const n=Wi(e);if(!n.currentUser.isEqual(t)){Fi(sd,"User change. New user:",t.toKey());const e=await Pu(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Qi(Ki.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Nd(n,e.ks)}}function Ad(e,t){const n=Wi(e),r=n.Eu.get(t);if(r&&r.cu)return dl().add(r.key);{let e=dl();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Md(e){const t=Wi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ad.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bd.bind(null,t),t.lu.Y_=Jh.bind(null,t.eventManager),t.lu.gu=Zh.bind(null,t.eventManager),t}function Od(e){const t=Wi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wd.bind(null,t),t}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Ou(this.persistence,new Iu,e.initialUser,this.serializer)}Su(e){return new ku(Eu.fi,this.serializer)}bu(e){return new Hu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class Ld extends Pd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){qi(this.persistence.referenceDelegate instanceof Cu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new cu(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?ru.withCacheSize(this.cacheSizeBytes):ru.DEFAULT;return new ku((e=>Cu.fi(e,t)),this.serializer)}}class jd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Id.bind(null,this.syncEngine),await zh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Gh}createDatastore(e){const t=nh(e.databaseInfo.databaseId),n=function(e){return new eh(e)}(e.databaseInfo);return function(e,t,n,r){return new ch(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>vd(this.syncEngine,e,0)),Ku.C()?new Ku:new qu)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new ud(e,t,n,r,i,a);return o&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Wi(e);Fi(hh,"RemoteStore shutting down."),t.da.add(5),await ph(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}jd.provider={build:()=>new jd};class Rd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Fd="FirestoreClient";class zd{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pi.UNAUTHENTICATED,this.clientId=aa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Fi(Fd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Fi(Fd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Vd(e,t){e.asyncQueue.verifyOperationInProgress(),Fi(Fd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Bd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ud(e);Fi(Fd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Fh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fh(t.remoteStore,n))),e._onlineComponents=t}async function Ud(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Fi(Fd,"Using user provided OfflineComponentProvider");try{await Vd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ki.FAILED_PRECONDITION||e.code===Ki.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await Vd(e,new Pd)}}else Fi(Fd,"Using default OfflineComponentProvider"),await Vd(e,new Ld(void 0));return e._offlineComponents}async function Hd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Fi(Fd,"Using user provided OnlineComponentProvider"),await Bd(e,e._uninitializedComponentsProvider._online)):(Fi(Fd,"Using default OnlineComponentProvider"),await Bd(e,new jd))),e._onlineComponents}function qd(e){return Hd(e).then((e=>e.syncEngine))}function Wd(e){return Hd(e).then((e=>e.datastore))}async function Kd(e){const t=await Hd(e),n=t.eventManager;return n.onListen=hd.bind(null,t.syncEngine),n.onUnlisten=gd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=md.bind(null,t.syncEngine),n}function Qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Rd({next:s=>{a.xu(),t.enqueueAndForget((()=>$h(e,o)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Qi(Ki.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Qi(Ki.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new rd(zs(n.path),a,{includeMetadataChanges:!0,Qa:!0});return Xh(e,o)}(await Kd(e),e.asyncQueue,t,n,r))),r.promise}function Gd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Rd({next:n=>{a.xu(),t.enqueueAndForget((()=>$h(e,o))),n.fromCache&&"server"===r.source?i.reject(new Qi(Ki.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new rd(n,a,{includeMetadataChanges:!0,Qa:!0});return Xh(e,o)}(await Kd(e),e.asyncQueue,t,n,r))),r.promise}function Yd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xd=new Map;function $d(e,t,n){if(!n)throw new Qi(Ki.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Jd(e){if(!xa.isDocumentKey(e))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zd(e){if(xa.isDocumentKey(e))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ef(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ui(12329,{type:typeof e})}function tf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qi(Ki.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(e);throw new Qi(Ki.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function nf(e,t){if(t<=0)throw new Qi(Ki.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}const rf="firestore.googleapis.com",af=!0;class of{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Qi(Ki.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rf,this.ssl=af}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:af;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=nu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ou)throw new Qi(Ki.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Qi(Ki.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Qi(Ki.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Qi(Ki.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Qi(Ki.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new of({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qi(Ki.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qi(Ki.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new of(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xi;switch(e.type){case"firstParty":return new ea(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Qi(Ki.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xd.get(e);t&&(Fi("ComponentProvider","Removing Datastore"),Xd.delete(e),t.terminate())}(this),Promise.resolve()}}function lf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=tf(e,sf);const a=In(t),o=e._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);a&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(l)),On("Firestore",!0)),o.host!==rf&&o.host!==l&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:r});if(!Un(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pi.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sn(JSON.stringify({alg:"none",type:"JWT"})),Sn(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Qi(Ki.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pi(a)}e._authCredentials=new $i(new Yi(t,n))}}class cf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cf(this.firestore,e,this._query)}}class uf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uf(this.firestore,e,this._key)}}class hf extends cf{constructor(e,t,n){super(e,t,zs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uf(this.firestore,null,new xa(e))}withConverter(e){return new hf(this.firestore,e,this._path)}}function df(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wn(e),$d("collection","path",t),e instanceof sf){const n=ya.fromString(t,...r);return Zd(n),new hf(e,null,n)}{if(!(e instanceof uf||e instanceof hf))throw new Qi(Ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ya.fromString(t,...r));return Zd(n),new hf(e.firestore,null,n)}}function ff(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wn(e),1===arguments.length&&(t=aa.newId()),$d("doc","path",t),e instanceof sf){const n=ya.fromString(t,...r);return Jd(n),new uf(e,null,new xa(n))}{if(!(e instanceof uf||e instanceof hf))throw new Qi(Ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ya.fromString(t,...r));return Jd(n),new uf(e.firestore,e instanceof hf?e.converter:null,new xa(n))}}const pf="AsyncQueue";class gf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rh(this,"async_queue_retry"),this.rc=()=>{const e=th();e&&Fi(pf,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=th();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new Gi;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(yE){if(!Ma(yE))throw yE;Fi(pf,"Operation failed with retryable error: "+yE)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,zi("INTERNAL UNHANDLED ERROR: ",mf(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Uh.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&Ui(47125,{cc:mf(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function mf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class yf extends sf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gf(e),this._firestoreClient=void 0,await e}}}function vf(e){if(e._terminated)throw new Qi(Ki.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bf(e),e._firestoreClient}function bf(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Lo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yd(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zd(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class xf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class wf{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class _f{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _f(So.fromBase64String(e))}catch(e){throw new Qi(Ki.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new _f(So.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ba(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kf{constructor(e){this._methodName=e}}class Tf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qi(Ki.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qi(Ki.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oa(this._lat,e._lat)||oa(this._long,e._long)}}class Ef{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Cf=/^__.*__$/;class Df{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class Nf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function If(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ui(40011,{Ic:e})}}class Af{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Kf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(If(this.Ic)&&Cf.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Mf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||nh(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Af({Ic:e,methodName:t,wc:n,path:ba.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(e){const t=e._freezeSettings(),n=nh(e._databaseId);return new Mf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pf(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.bc(a.merge||a.mergeFields?2:0,t,n,i);Uf("Data must be an object, but it was:",o,r);const s=Vf(r,o);let l,c;if(a.merge)l=new wo(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Hf(t,r,n);if(!o.contains(i))throw new Qi(Ki.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Qf(e,i)||e.push(i)}l=new wo(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Df(new ss(s),l,c)}class Lf extends kf{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function jf(e,t,n,r){const i=e.bc(1,t,n);Uf("Data must be an object, but it was:",i,r);const a=[],o=ss.empty();fo(r,((e,r)=>{const s=Wf(t,e,n);r=Wn(r);const l=i.mc(s);if(r instanceof Lf)a.push(s);else{const e=zf(r,l);null!=e&&(a.push(s),o.set(s,e))}}));const s=new wo(a);return new Nf(o,s,i.fieldTransforms)}function Rf(e,t,n,r,i,a){const o=e.bc(1,t,n),s=[Hf(t,r,n)],l=[i];if(a.length%2!=0)throw new Qi(Ki.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<a.length;d+=2)s.push(Hf(t,a[d])),l.push(a[d+1]);const c=[],u=ss.empty();for(let d=s.length-1;d>=0;--d)if(!Qf(c,s[d])){const e=s[d];let t=l[d];t=Wn(t);const n=o.mc(e);if(t instanceof Lf)c.push(e);else{const r=zf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new wo(c);return new Nf(u,h,o.fieldTransforms)}function Ff(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zf(n,e.bc(r?4:3,t))}function zf(e,t){if(Bf(e=Wn(e)))return Uf("Unsupported field value:",t,e),Vf(e,t);if(e instanceof kf)return function(e,t){if(!If(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zf(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Wn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fa.fromDate(e);return{timestampValue:wc(t.serializer,n)}}if(e instanceof fa){const n=new fa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wc(t.serializer,n)}}if(e instanceof Tf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _f)return{bytesValue:_c(t.serializer,e._byteString)};if(e instanceof uf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Tc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ef)return function(e,t){return{mapValue:{fields:{[Fo]:{stringValue:Bo},[Uo]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return gl(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(ef(e)))}(e,t)}function Vf(e,t){const n={};return go(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fo(e,((e,r)=>{const i=zf(r,t.Ac(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fa||e instanceof Tf||e instanceof _f||e instanceof uf||e instanceof kf||e instanceof Ef)}function Uf(e,t,n){if(!Bf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ef(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Hf(e,t,n){if((t=Wn(t))instanceof Sf)return t._internalPath;if("string"==typeof t)return Wf(e,t);throw Kf("Field path arguments must be of type string or ",e,!1,void 0,n)}const qf=new RegExp("[~\\*/\\[\\]]");function Wf(e,t,n){if(t.search(qf)>=0)throw Kf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Sf(...t.split("."))._internalPath}catch(Dt){throw Kf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Kf(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Qi(Ki.INVALID_ARGUMENT,s+e+l)}function Qf(e,t){return e.some((e=>e.isEqual(t)))}class Gf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yf extends Gf{data(){return super.data()}}function Xf(e,t){return"string"==typeof t?Wf(e,t):t instanceof Sf?t._internalPath:t._delegate._internalPath}function $f(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Qi(Ki.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jf{}class Zf extends Jf{}function ep(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Jf&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof rp)).length,n=e.filter((e=>e instanceof tp)).length;if(t>1||t>0&&n>0)throw new Qi(Ki.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class tp extends Zf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new tp(e,t,n)}_apply(e){const t=this._parse(e);return dp(e._query,t),new cf(e.firestore,e.converter,Ks(e._query,t))}_parse(e){const t=Of(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hp(o,a);const t=[];for(const n of o)t.push(up(r,e,n));s={arrayValue:{values:t}}}else s=up(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hp(o,a),s=Ff(n,t,o,"in"===a||"not-in"===a);return ms.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function np(e,t,n){const r=t,i=Xf("where",e);return tp._create(i,r,n)}class rp extends Jf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rp(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)dp(n,i),n=Ks(n,i)}(e._query,t),new cf(e.firestore,e.converter,Ks(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ip extends Zf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ip(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fs(t,n)}(e._query,this._field,this._direction);return new cf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Rs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ap(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Xf("orderBy",e);return ip._create(n,t)}class op extends Zf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new op(e,t,n)}_apply(e){return new cf(e.firestore,e.converter,Qs(e._query,this._limit,this._limitType))}}function sp(e){return nf("limit",e),op._create("limit",e,"F")}class lp extends Zf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new lp(e,t,n)}_apply(e){const t=cp(e,this.type,this._docOrFields,this._inclusive);return new cf(e.firestore,e.converter,function(e,t){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function cp(e,t,n,r){if(n[0]=Wn(n[0]),n[0]instanceof Gf)return function(e,t,n,r,i){if(!r)throw new Qi(Ki.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const a=[];for(const o of Us(e))if(o.field.isKeyField())a.push(Jo(t,r.key));else{const e=r.data.field(o.field);if(Mo(e))throw new Qi(Ki.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}a.push(e)}return new us(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Of(e.firestore);return function(e,t,n,r,i,a){const o=e.explicitOrderBy;if(i.length>o.length)throw new Qi(Ki.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let l=0;l<i.length;l++){const a=i[l];if(o[l].field.isKeyField()){if("string"!=typeof a)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof a));if(!Bs(e)&&-1!==a.indexOf("/"))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(a,"' contains a slash."));const n=e.path.child(ya.fromString(a));if(!xa.isDocumentKey(n))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new xa(n);s.push(Jo(t,i))}else{const e=Ff(n,r,a);s.push(e)}}return new us(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}}function up(e,t,n){if("string"==typeof(n=Wn(n))){if(""===n)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bs(t)&&-1!==n.indexOf("/"))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ya.fromString(n));if(!xa.isDocumentKey(r))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Jo(e,new xa(r))}if(n instanceof uf)return Jo(e,n._key);throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ef(n),"."))}function hp(e,t){if(!Array.isArray(e)||0===e.length)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class fp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Eo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ui(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return fo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Uo].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Eo(e.doubleValue)));return new Ef(i)}convertGeoPoint(e){return new Tf(Eo(e.latitude),Eo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const t=To(e);return new fa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ya.fromString(e);qi(Gc(n),9688,{name:e});const r=new Ro(n.get(1),n.get(3)),i=new xa(n.popFirst(5));return r.isEqual(t)||zi("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function pp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mp extends Gf{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Xf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yp extends mp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new yp(this._firestore,this._userDataWriter,n.key,n,new gp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qi(Ki.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new yp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new yp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:bp(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ui(61501,{type:e})}}class xp extends fp{constructor(e){super(),this.firestore=e}convertBytes(e){return new _f(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uf(this.firestore,null,t)}}function wp(e){e=tf(e,cf);const t=tf(e.firestore,yf),n=vf(t),r=new xp(t);return $f(e._query),Gd(n,e._query).then((n=>new vp(t,r,e,n)))}function _p(e,t,n){e=tf(e,uf);const r=tf(e.firestore,yf),i=pp(e.converter,t,n);return Tp(r,[Pf(Of(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Al.none())])}function Sp(e,t,n){e=tf(e,uf);const r=tf(e.firestore,yf),i=Of(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=Wn(t))||t instanceof Sf?Rf(i,"updateDoc",e._key,t,n,s):jf(i,"updateDoc",e._key,t),Tp(r,[a.toMutation(e._key,Al.exists(!0))])}function kp(e){return Tp(tf(e.firestore,yf),[new ql(e._key,Al.none())])}function Tp(e,t){return function(e,t){const n=new Gi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Od(e);try{const e=await function(e,t){const n=Wi(e),r=fa.now(),i=t.reduce(((e,t)=>e.add(t.key)),dl());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=rl(),l=dl();return n.Bs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;const o=[];for(const e of t){const t=Rl(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new Vl(e.key,t,ls(t.value.mapValue),Al.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:ol(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new mo(oa)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Nd(r,e.changes),await Nh(r.remoteStore)}catch(e){const t=Hh(e,"Failed to persist write");n.reject(t)}}(await qd(e),t,n))),n.promise}(vf(e),t)}function Ep(e,t,n){const r=n.docs.get(t._key),i=new xp(e);return new mp(e,i,t._key,r,new gp(n.hasPendingWrites,n.fromCache),t.converter)}function Cp(e){return function(e,t){const n=tf(e.firestore,yf),r=vf(n),i=po(t,((e,t)=>new Yl(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new Gi;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await Wd(e);r.resolve(async function(e,t,n){var r;const i=Wi(e),{request:a,yt:o,parent:s}=Fc(i.serializer,qs(t),n);i.connection.Uo||delete a.parent;const l=(await i.Yo("RunAggregationQuery",i.serializer.databaseId,s,a,1)).filter((e=>!!e.result));qi(1===l.length,64727);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[o[t]]=c[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new xp(e);return new wf(t,r,n)}(n,e,t)))}(e,{count:new xf("count")})}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Li=e}("11.9.0"),ni(new Kn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new yf(new Ji(e.getProvider("auth-internal")),new na(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qi(Ki.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),si(Mi,Oi,e),si(Mi,Oi,"esm2017")}();si("firebase","11.9.1","app");const Dp="@firebase/installations",Np="0.6.17",Ip=1e4,Ap="w:".concat(Np),Mp="FIS_v2",Op=36e5,Pp=new Vn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lp(e){return e instanceof zn&&e.code.includes("request-failed")}function jp(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Rp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Fp(e,t){const n=(await t.json()).error;return Pp.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function zp(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vp(e,t){let{refreshToken:n}=t;const r=zp(e);return r.append("Authorization",function(e){return"".concat(Mp," ").concat(e)}(n)),r}async function Bp(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Up(e){return new Promise((t=>{setTimeout(t,e)}))}const Hp=/^[cdef][\w-]{21}$/;function qp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Hp.test(t)?t:""}catch(e){return""}}function Wp(e){return"".concat(e.appName,"!").concat(e.appId)}const Kp=new Map;function Qp(e,t){const n=Wp(e);Gp(n,t),function(e,t){const n=Xp();n&&n.postMessage({key:e,fid:t});$p()}(n,t)}function Gp(e,t){const n=Kp.get(e);if(n)for(const r of n)r(t)}let Yp=null;function Xp(){return!Yp&&"BroadcastChannel"in self&&(Yp=new BroadcastChannel("[Firebase] FID Change"),Yp.onmessage=e=>{Gp(e.data.key,e.data.fid)}),Yp}function $p(){0===Kp.size&&Yp&&(Yp.close(),Yp=null)}const Jp="firebase-installations-store";let Zp=null;function eg(){return Zp||(Zp=gr("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Jp)}})),Zp}async function tg(e,t){const n=Wp(e),r=(await eg()).transaction(Jp,"readwrite"),i=r.objectStore(Jp),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Qp(e,t.fid),t}async function ng(e){const t=Wp(e),n=(await eg()).transaction(Jp,"readwrite");await n.objectStore(Jp).delete(t),await n.done}async function rg(e,t){const n=Wp(e),r=(await eg()).transaction(Jp,"readwrite"),i=r.objectStore(Jp),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Qp(e,o.fid),o}async function ig(e){let t;const n=await rg(e.appConfig,(n=>{const r=function(e){const t=e||{fid:qp(),registrationStatus:0};return sg(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Pp.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=jp(n),o=zp(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Mp,appId:n.appId,sdkVersion:Ap},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Bp((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Rp(e.authToken)}}throw await Fp("Create Installation",u)}(e,t);return tg(e.appConfig,n)}catch(yE){throw Lp(yE)&&409===yE.customData.serverCode?await ng(e.appConfig):await tg(e.appConfig,{fid:t.fid,registrationStatus:0}),yE}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ag(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ag(e){let t=await og(e.appConfig);for(;1===t.registrationStatus;)await Up(100),t=await og(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ig(e);return n||t}return t}function og(e){return rg(e,(e=>{if(!e)throw Pp.create("installation-not-found");return sg(e)}))}function sg(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ip<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function lg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(jp(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Vp(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:Ap,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await Bp((()=>fetch(i,l)));if(c.ok){return Rp(await c.json())}throw await Fp("Generate Auth Token",c)}async function cg(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await rg(e.appConfig,(r=>{if(!hg(r))throw Pp.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Op}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ug(e.appConfig);for(;1===n.authToken.requestStatus;)await Up(100),n=await ug(e.appConfig);const r=n.authToken;return 0===r.requestStatus?cg(e,t):r}(e,n),r;{if(!navigator.onLine)throw Pp.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await lg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await tg(e.appConfig,r),n}catch(yE){if(!Lp(yE)||401!==yE.customData.serverCode&&404!==yE.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await tg(e.appConfig,n)}else await ng(e.appConfig);throw yE}}(e,n),n}}));return t?await t:r.authToken}function ug(e){return rg(e,(e=>{if(!hg(e))throw Pp.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ip<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function hg(e){return void 0!==e&&2===e.registrationStatus}async function dg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ig(e);t&&await t}(n);return(await cg(n,t)).token}function fg(e){return Pp.create("missing-app-config-values",{valueName:e})}const pg="installations",gg=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw fg("App Configuration");if(!e.name)throw fg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw fg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ri(t,"heartbeat"),_delete:()=>Promise.resolve()}},mg=e=>{const t=ri(e.getProvider("app").getImmediate(),pg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ig(t);return r?r.catch(console.error):cg(t).catch(console.error),n.fid}(t),getToken:e=>dg(t,e)}};ni(new Kn(pg,gg,"PUBLIC")),ni(new Kn("installations-internal",mg,"PRIVATE")),si(Dp,Np),si(Dp,Np,"esm2017");const yg="analytics",vg="https://www.googletagmanager.com/gtag/js",bg=new nr("@firebase/analytics"),xg=new Vn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function wg(e){if(!e.startsWith(vg)){const t=xg.create("invalid-gtag-resource",{gtagURL:e});return bg.warn(t.message),""}return e}function _g(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Sg(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:wg}),r=document.createElement("script"),i="".concat(vg,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kg(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await _g(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(yE){bg.error(yE)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await _g(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(yE){bg.error(yE)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(yE){bg.error(yE)}}}const Tg=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Eg(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tg,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw xg.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw xg.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Ng;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),Dg({appId:r,apiKey:i,measurementId:a},o,s,t)}async function Dg(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tg;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(xg.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(yE){if(l)return bg.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===yE||void 0===yE?void 0:yE.message,"]")),{appId:s,measurementId:l};throw yE}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Eg(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw xg.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return a.deleteThrottleMetadata(s),t}catch(yE){const r=yE;if(!function(e){if(!(e instanceof zn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),l)return bg.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:l};throw yE}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?qn(i,a.intervalMillis,30):qn(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(s,u),bg.debug("Calling attemptFetch again in ".concat(c," millis")),Dg(e,u,n,a)}}class Ng{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Ig,Ag;function Mg(e){Ag=e}function Og(e){Ig=e}async function Pg(e,t,n,r,i,a,o){var s;const l=Cg(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&bg.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>bg.error(e))),t.push(l);const c=async function(){if(!Rn())return bg.warn(xg.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Fn()}catch(yE){return bg.warn(xg.create("indexeddb-unavailable",{errorInfo:null===yE||void 0===yE?void 0:yE.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(vg)&&n.src.includes(e))return n;return null})(a)||Sg(a,u.measurementId),Ag&&(i("consent","default",Ag),Mg(void 0)),i("js",new Date);const d=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),Ig&&(i("set",Ig),Og(void 0)),u.measurementId}class Lg{constructor(e){this.app=e}_delete(){return delete jg[this.app.options.appId],Promise.resolve()}}let jg={},Rg=[];const Fg={};let zg,Vg,Bg="dataLayer",Ug="gtag",Hg=!1;function qg(){const e=[];if(function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=xg.create("invalid-analytics-context",{errorInfo:t});bg.warn(n.message)}}function Wg(e,t,n){qg();const r=e.options.appId;if(!r)throw xg.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw xg.create("no-api-key");bg.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jg[r])throw xg.create("already-exists",{id:r});if(!Hg){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Bg);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=kg(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(jg,Rg,Fg,Bg,Ug);Vg=e,zg=t,Hg=!0}jg[r]=Pg(e,Rg,Fg,t,zg,Bg,n);return new Lg(e)}function Kg(e,t,n,r){e=Wn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Vg,jg[e.app.options.appId],t,n,r).catch((e=>bg.error(e)))}const Qg="@firebase/analytics",Gg="0.10.16";ni(new Kn(yg,((e,t)=>{let{options:n}=t;return Wg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ni(new Kn("analytics-internal",(function(e){try{const t=e.getProvider(yg).getImmediate();return{logEvent:(e,n,r)=>Kg(t,e,n,r)}}catch(yE){throw xg.create("interop-component-reg-failed",{reason:yE})}}),"PRIVATE")),si(Qg,Gg),si(Qg,Gg,"esm2017");const Yg=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;const t=Jr.get(e);if(!t&&e===Xr&&Dn())return oi();if(!t)throw ii.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||jo,i=ri(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Cn("firestore");e&&lf(i,...e)}return i}(oi({apiKey:"AIzaSyCmQ28yB0uCBOPa9dKbyWIYpH2gieJ3tWI",authDomain:"unicinema-80396.firebaseapp.com",projectId:"unicinema-80396",storageBucket:"unicinema-80396.firebasestorage.app",messagingSenderId:"503641676608",appId:"1:503641676608:web:f35437aacdbef9c4c2f8a5",measurementId:"G-N8SHR5E70L"}));function Xg(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[u,h]=(0,r.useState)(1),[d]=(0,r.useState)(10),[f,p]=(0,r.useState)("");fe();(0,r.useEffect)((()=>{(async()=>{o(""),l(!0);try{const e=(await wp(df(Yg,"users"))).docs.map((e=>{const t=e.data();return t.dateEnd&&t.dateEnd instanceof fa&&(t.dateEnd=t.dateEnd.toDate()),t.dateStart&&t.dateStart instanceof fa&&(t.dateStart=t.dateStart.toDate()),c({id:e.id},t)}));t(e);const n=(await wp(df(Yg,"memberShip"))).docs.map((e=>{const t=e.data();return c({id:e.id},t)}));i(n)}catch(e){console.error("Error fetching data:",e),o("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i danh s\xe1ch."),an.error("L\u1ed7i k\u1ebft n\u1ed1i Firestore.")}finally{l(!1)}})()}),[]);const g=e.filter((e=>{var t;return null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase())})),m=u*d,y=m-d,v=g.slice(y,m),b=Math.ceil(g.length/d),x=e=>{e>=1&&e<=b&&h(e)};return s?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{className:"manage-user-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsxs)("div",{style:{display:"flex"},children:[(0,kt.jsx)("h2",{children:"Qu\u1ea3n L\xfd Ng\u01b0\u1eddi D\xf9ng"}),(0,kt.jsx)("div",{className:"search-container",children:(0,kt.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo Gmail...",value:f,onChange:e=>{p(e.target.value),h(1)},className:"search-input"})})]}),a&&(0,kt.jsx)("div",{className:"error",children:a}),0!==g.length||a?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("table",{className:"user-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"STT"}),(0,kt.jsx)("th",{children:"H\u1ecd v\xe0 t\xean"}),(0,kt.jsx)("th",{children:"Ng\xe0y h\u1ebft h\u1ea1n th\xe0nh vi\xean"}),(0,kt.jsx)("th",{children:"Ng\xe0y b\u1eaft \u0111\u1ea7u th\xe0nh vi\xean"}),(0,kt.jsx)("th",{children:"Email"}),(0,kt.jsx)("th",{children:"\u0110\u1ecba ch\u1ec9"}),(0,kt.jsx)("th",{children:"H\u1ea1ng Th\xe0nh Vi\xean"})]})}),(0,kt.jsx)("tbody",{children:v.map(((e,t)=>{const r=n.find((t=>t.id===e.idMemberShip)),i=r?r.nameMemberShip:"N/A";return(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:y+t+1}),(0,kt.jsx)("td",{children:e.full_name||"N/A"}),(0,kt.jsx)("td",{children:e.dateEnd?new Date(e.dateEnd).toLocaleString():"N/A"}),(0,kt.jsx)("td",{children:e.dateStart?new Date(e.dateStart).toLocaleString():"N/A"}),(0,kt.jsx)("td",{children:e.email||"N/A"}),(0,kt.jsx)("td",{children:e.address||"N/A"}),(0,kt.jsx)("td",{children:i})]},e.id)}))})]}),(0,kt.jsxs)("div",{className:"pagination",children:[(0,kt.jsx)("button",{onClick:()=>x(u-1),disabled:1===u,className:"pagination-button",children:"Tr\u01b0\u1edbc"}),(0,kt.jsxs)("span",{className:"pagination-info",children:["Trang ",u," / ",b]}),(0,kt.jsx)("button",{onClick:()=>x(u+1),disabled:u===b,className:"pagination-button",children:"Sau"})]})]}):(0,kt.jsx)("p",{children:"Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi d\xf9ng n\xe0o."}),(0,kt.jsx)("style",{children:"\n                .manage-user-container {\n                    background: #FFFFFF;\n                    border-radius: 10px;\n                    max-width: 1200px;\n                    margin: 20px auto;\n                    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                }\n\n                h2 {\n                    color: #002856;\n                    margin-bottom: 20px;\n                    text-align: center;\n                }\n\n                .error {\n                    color: red;\n                    text-align: center;\n                    margin-bottom: 20px;\n                }\n\n                .search-container {\n                    margin-left: 300px;\n                    margin-bottom: 20px;\n                    text-align: center;\n                }\n\n                .search-input {\n                    padding: 10px;\n                    width: 300px;\n                    border: 1px solid #ddd;\n                    border-radius: 5px;\n                    font-size: 16px;\n                }\n\n                .search-input:focus {\n                    outline: none;\n                    border-color: #002856;\n                }\n\n                .user-table {\n                    width: 100%;\n                    border-collapse: collapse;\n                    background: #FFFFFF;\n                    border-radius: 5px;\n                    overflow: hidden;\n                }\n\n                .user-table th,\n                .user-table td {\n                    padding: 12px 15px;\n                    text-align: left;\n                    border-bottom: 1px solid #ddd;\n                }\n\n                .user-table th {\n                    background: #002856;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                }\n\n                .user-table tr:hover {\n                    background: #f5f5f5;\n                }\n\n                .pagination {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    margin-top: 20px;\n                    gap: 10px;\n                }\n\n                .pagination-button {\n                    padding: 8px 16px;\n                    border: 1px solid #002856;\n                    background: #FFFFFF;\n                    color: #002856;\n                    border-radius: 5px;\n                    cursor: pointer;\n                }\n\n                .pagination-button:disabled {\n                    background: #f5f5f5;\n                    color: #aaa;\n                    cursor: not-allowed;\n                }\n\n                .pagination-button:hover:not(:disabled) {\n                    background: #002856;\n                    color: #FFFFFF;\n                }\n\n                .pagination-info {\n                    font-size: 16px;\n                    color: #002856;\n                }\n            "})]})}function $g(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),s=fe();(0,r.useEffect)((()=>{(async()=>{i(""),o(!0);try{const e=(await wp(df(Yg,"movies"))).docs.map((e=>{const t=e.data();return c({id:e.id},t)}));t(e)}catch(e){console.error("Error fetching users:",e),an.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i danh s\xe1ch phim."),an.error("L\u1ed7i k\u1ebft n\u1ed1i Firestore.")}finally{o(!1)}})()}),[]);return a?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{className:"manage-user-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{children:"Qu\u1ea3n L\xfd phim"}),n&&(0,kt.jsx)("div",{className:"error",children:n}),0!==e.length||n?(0,kt.jsxs)("table",{className:"user-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"STT"}),(0,kt.jsx)("th",{children:"T\xean phim"}),(0,kt.jsx)("th",{children:"T\xe1c gi\u1ea3"}),(0,kt.jsx)("th",{children:"Th\u1eddi l\u01b0\u1ee3ng"}),(0,kt.jsx)("th",{})]})}),(0,kt.jsx)("tbody",{children:e.map(((e,t)=>(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:t+1}),(0,kt.jsx)("td",{children:e.nameMovie||"N/A"}),(0,kt.jsx)("td",{children:e.actor||"N/A"}),(0,kt.jsx)("td",{children:e.timeMovie||"N/A"}),(0,kt.jsx)("td",{children:(0,kt.jsx)("button",{onClick:()=>{return t=e.id,void s("/admin/product_details/".concat(t));var t},children:"Chi ti\u1ebft phim"})})]},e.id)))})]}):(0,kt.jsx)("p",{children:"Kh\xf4ng c\xf3 phim n\xe0o."}),(0,kt.jsx)("style",{children:"\n        .manage-user-container {\n          background: #FFFFFF;\n          border-radius: 10px;\n          max-width: 1200px;\n          margin: 20px auto;\n          font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n        }\n\n        h2 {\n          color: #002856;\n          margin-bottom: 20px;\n          text-align: center;\n        }\n\n        .error {\n          color: red;\n          text-align: center;\n          margin-bottom: 20px;\n        }\n\n        .user-table {\n          width: 100%;\n          border-collapse: collapse;\n          background: #FFFFFF;\n          border-radius: 5px;\n          overflow: hidden;\n        }\n\n        .user-table th,\n        .user-table td {\n          padding: 12px 15px;\n          text-align: left;\n          border-bottom: 1px solid #ddd;\n        }\n\n        .user-table th {\n          background: #002856;\n          color: #FFFFFF;\n          font-weight: bold;\n        }\n\n        .user-table tr:hover {\n          background: #f5f5f5;\n        }\n\n        /* X\xf3a style kh\xf4ng c\u1ea7n thi\u1ebft cho loading-container v\xe0 spinner */\n      "})]})}function Jg(){return(0,kt.jsx)("div",{})}const Zg=()=>{const[e,t]=(0,r.useState)({id:0,actor:"",ageMovie:0,descriptionMovie:"",idCategory:"",imageMovie1:"",imageMovie2:"",imageMovie3:"",languageMovie:"",nameMovie:"",performer:"",timeMovie:"",trailer:"",dateTimeStart:"",dateTimeEnd:""}),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[s,l]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=ep(df(Yg,"movies"),ap("id","desc"),sp(1)),n=await wp(e);let r="idMovie0000000000008";if(!n.empty){const e=n.docs[0].data().id,t=parseInt(e.replace("idMovie",""),10);if(!isNaN(t)){r="idMovie".concat((t+1).toString().padStart(13,"0"))}}t((e=>c(c({},e),{},{id:r})))}catch(e){console.error("L\u1ed7i l\u1ea5y d\u1eef li\u1ec7u:",e),t((e=>c(c({},e),{},{id:"idMovie000000000008"})))}finally{o(!1)}})(),(async()=>{try{const e=df(Yg,"categories"),t=(await wp(e)).docs.map((e=>({id:e.id,name:e.data().nameCategory||"Kh\xf4ng t\xean"})));i(t)}catch(e){console.error("L\u1ed7i l\u1ea5y th\u1ec3 lo\u1ea1i:",e)}})()}),[]);const u=e=>{const{name:n,value:r}=e.target;let i;console.log("Changing ".concat(n," to ").concat(r)),i="dateTimeStart"===n||"dateTimeEnd"===n?r:"ageMovie"===n||"timeMovie"===n?r&&parseInt(r,10)||0:r,t((e=>c(c({},e),{},{[n]:i})))};return a||s?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{className:"app-container",children:[(0,kt.jsx)("style",{children:"\n          body {\n            margin: 0;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n              'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n              sans-serif;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n          }\n\n          .app-container {\n            min-height: 100vh;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n          }\n\n          .form-card {\n            background-color: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            width: 100%;\n            max-width: 500px;\n          }\n\n          .form-title {\n            font-size: 2rem;\n            font-weight: bold;\n            text-align: center;\n            color: #1e40af;\n            margin-bottom: 20px;\n          }\n\n          .movie-form {\n            display: flex;\n            flex-direction: column;\n            gap: 15px;\n          }\n\n          .form-input, .form-select {\n            padding: 10px;\n            border: 1px solid #d1d5db;\n            border-radius: 5px;\n            font-size: 1rem;\n            outline: none;\n            transition: border-color 0.3s;\n          }\n\n          .form-input:focus, .form-select:focus {\n            border-color: #1e40af;\n            box-shadow: 0 0 5px rgba(30, 64, 175, 0.3);\n          }\n\n          .form-textarea {\n            height: 100px;\n            resize: vertical;\n          }\n\n          .form-button {\n            padding: 12px;\n            background-color: #1e40af;\n            color: white;\n            border: none;\n            border-radius: 5px;\n            font-size: 1rem;\n            cursor: pointer;\n            transition: background-color 0.3s;\n          }\n\n          .form-button:hover {\n            background-color: #1e3a8a;\n          }\n        "}),(0,kt.jsxs)("div",{className:"form-card",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h1",{className:"form-title",children:"TH\xcaM PHIM"}),(0,kt.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e.id){l(!0);try{const n=c(c({},e),{},{ageMovie:e.ageMovie||0,dateTimeStart:e.dateTimeStart?new Date(e.dateTimeStart):null,dateTimeEnd:e.dateTimeEnd?new Date(e.dateTimeEnd):null});await _p(ff(Yg,"movies",e.id.toString()),n),an.success("Phim \u0111\u01b0\u1ee3c th\xeam th\xe0nh c\xf4ng!");const r=ep(df(Yg,"movies"),ap("id","desc"),sp(1)),i=await wp(r);let a=9;if(!i.empty){const e=i.docs[0];a=e.data().id+1}t((e=>c(c({},e),{},{id:a,actor:"",ageMovie:0,descriptionMovie:"",idCategory:"",imageMovie1:"",imageMovie2:"",imageMovie3:"",languageMovie:"",nameMovie:"",performer:"",timeMovie:"",trailer:"",dateTimeStart:"",dateTimeEnd:"",point:0})))}catch(r){console.error("Error uploading data: ",r),an.error("Th\xeam phim th\u1ea5t b\u1ea1i! Vui l\xf2ng th\u1eed l\u1ea1i!")}finally{l(!1)}}else an.error("L\u1ed7i h\u1ec7 th\u1ed1ng t\u1ea1o phim. Vui l\xf2ng li\xean h\u1ec7 admin!")},className:"movie-form",children:[(0,kt.jsx)("span",{className:"span",children:"ID Phim"}),(0,kt.jsx)("input",{type:"text",name:"id",value:e.id,onChange:u,placeholder:"Auto-generated ID",className:"form-input",readOnly:!0}),(0,kt.jsx)("span",{className:"span",children:"Th\u1ec3 lo\u1ea1i phim"}),(0,kt.jsxs)("select",{name:"idCategory",value:e.idCategory,onChange:u,className:"form-input form-select",children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn th\u1ec3 lo\u1ea1i phim"}),n.map((e=>(0,kt.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,kt.jsx)("span",{className:"span",children:"T\xean phim"}),(0,kt.jsx)("input",{type:"text",name:"nameMovie",value:e.nameMovie,onChange:u,placeholder:"T\xean phim",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"T\xe1c gi\u1ea3"}),(0,kt.jsx)("input",{type:"text",name:"actor",value:e.actor,onChange:u,placeholder:"T\xe1c gi\u1ea3",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"\u0110\u1ed9 tu\u1ed5i"}),(0,kt.jsx)("input",{type:"number",name:"ageMovie",value:e.ageMovie,onChange:u,placeholder:"\u0110\u1ed9 tu\u1ed5i",className:"form-input",min:"0"}),(0,kt.jsx)("span",{className:"span",children:"M\xf4 t\u1ea3"}),(0,kt.jsx)("textarea",{name:"descriptionMovie",value:e.descriptionMovie,onChange:u,placeholder:"M\xf4 t\u1ea3 phim",className:"form-input form-textarea"}),(0,kt.jsx)("span",{className:"span",children:"H\xecnh b\xeca"}),(0,kt.jsx)("input",{type:"text",name:"imageMovie1",value:e.imageMovie1,onChange:u,placeholder:"Url",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"H\xecnh \u1ea3nh 2 (n\u1ebfu c\xf3)"}),(0,kt.jsx)("input",{type:"text",name:"imageMovie2",value:e.imageMovie2,onChange:u,placeholder:"Url",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"H\xecnh \u1ea3nh 3 (n\u1ebfu c\xf3)"}),(0,kt.jsx)("input",{type:"text",name:"imageMovie3",value:e.imageMovie3,onChange:u,placeholder:"Url",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"Ng\xf4n ng\u1eef"}),(0,kt.jsx)("input",{type:"text",name:"languageMovie",value:e.languageMovie,onChange:u,placeholder:"Ng\xf4n ng\u1eef",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"Di\u1ec5n vi\xean"}),(0,kt.jsx)("input",{type:"text",name:"performer",value:e.performer,onChange:u,placeholder:"Di\u1ec5n vi\xean",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"Th\u1eddi l\u01b0\u1ee3ng"}),(0,kt.jsx)("input",{type:"number",name:"timeMovie",value:e.timeMovie,onChange:u,placeholder:"Th\u1eddi l\u01b0\u1ee3ng",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"Trailer"}),(0,kt.jsx)("input",{type:"text",name:"trailer",value:e.trailer,onChange:u,placeholder:"Trailer",className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,kt.jsx)("input",{type:"datetime-local",name:"dateTimeStart",value:e.dateTimeStart,onChange:u,className:"form-input"}),(0,kt.jsx)("span",{className:"span",children:"Ng\xe0y k\u1ebft th\xfac"}),(0,kt.jsx)("input",{type:"datetime-local",name:"dateTimeEnd",value:e.dateTimeEnd,onChange:u,className:"form-input"}),(0,kt.jsx)("button",{type:"submit",className:"form-button",disabled:s,children:s?"\u0110ang th\xeam...":"Th\xeam"})]})]})]})};function em(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)("");fe();(0,r.useEffect)((()=>{(async()=>{o(""),i(!0);try{const e=(await wp(df(Yg,"theaters"))).docs.map((e=>{const t=e.data();return{id:e.id,nameTheater:t.nameTheater||"N/A",nameProvince:t.nameProvince||"N/A",addressTheater:t.addressTheater||"N/A",latitude:t.latitudeTheater||null,longitude:t.longtitudeTheater||null}}));t(e)}catch(e){console.error("Error fetching theaters:",e),o("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i danh s\xe1ch r\u1ea1p phim."),an.error("L\u1ed7i k\u1ebft n\u1ed1i Firestore.")}finally{i(!1)}})()}),[]);return n?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{className:"manage-user-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h1",{children:"Qu\u1ea3n L\xfd r\u1ea1p"}),a&&(0,kt.jsx)("div",{className:"error",children:a}),0!==e.length||a?(0,kt.jsxs)("table",{className:"user-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"STT"}),(0,kt.jsx)("th",{children:"T\xean r\u1ea1p"}),(0,kt.jsx)("th",{children:"T\u1ec9nh/Th\xe0nh ph\u1ed1"}),(0,kt.jsx)("th",{children:"\u0110\u1ecba ch\u1ec9"}),(0,kt.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,kt.jsx)("tbody",{children:e.map(((n,r)=>(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("td",{children:r+1}),(0,kt.jsx)("td",{children:n.nameTheater}),(0,kt.jsx)("td",{children:n.nameProvince}),(0,kt.jsx)("td",{children:n.addressTheater}),(0,kt.jsxs)("td",{style:{display:"flex"},children:[(0,kt.jsx)("button",{onClick:()=>((e,t)=>{if(e&&t){const n="https://www.google.com/maps?q=".concat(e,",").concat(t);window.open(n,"_blank")}else an.error("Kh\xf4ng c\xf3 t\u1ecda \u0111\u1ed9 kinh \u0111\u1ed9 v\u0129 \u0111\u1ed9 cho r\u1ea1p n\xe0y.")})(n.latitude,n.longitude),style:{marginRight:"10px"},children:"Chi ti\u1ebft r\u1ea1p"}),(0,kt.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a r\u1ea1p n\xe0y?")){i(!0);try{await kp(ff(Yg,"theaters",n)),t(e.filter((e=>e.id!==n))),an.success("X\xf3a r\u1ea1p th\xe0nh c\xf4ng!")}catch(r){console.error("Error deleting theater:",r),an.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi x\xf3a r\u1ea1p.")}finally{i(!1)}}})(n.id),style:{backgroundColor:"#dc3545"},children:"X\xf3a"})]})]},n.id)))})]}):(0,kt.jsx)("p",{children:"Kh\xf4ng c\xf3 r\u1ea1p n\xe0o."}),(0,kt.jsx)("style",{children:"\n                .manage-user-container {\n                    background: #FFFFFF;\n                    border-radius: 10px;\n                    max-width: 1200px;\n                    margin: 20px auto;\n                    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n                }\n\n                h1 {\n                    color: #002856;\n                    margin-bottom: 20px;\n                    text-align: center;\n                }\n\n                .error {\n                    color: red;\n                    text-align: center;\n                    margin-bottom: 20px;\n                }\n\n                .user-table {\n                    width: 100%;\n                    border-collapse: collapse;\n                    background: #FFFFFF;\n                    border-radius: 5px;\n                    overflow: hidden;\n                }\n\n                .user-table th,\n                .user-table td {\n                    padding: 12px 15px;\n                    text-align: left;\n                    border-bottom: 1px solid #ddd;\n                }\n\n                .user-table th {\n                    background: #002856;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                }\n\n                .user-table tr:hover {\n                    background: #f5f5f5;\n                }\n\n                .user-table button {\n                    padding: 8px 12px;\n                    background-color: #007bff;\n                    color: #FFFFFF;\n                    border: none;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    font-size: 0.9rem;\n                }\n\n                .user-table button:hover {\n                    background-color: #0056b3;\n                }\n\n                .user-table button[style*='background-color: #dc3545'] {\n                    background-color: #dc3545;\n                }\n\n                .user-table button[style*='background-color: #dc3545']:hover {\n                    background-color: #c82333;\n                }\n            "})]})}function tm(){const[e,t]=(0,r.useState)({idTheater:"",addressTheater:"",latitudeTheater:"",longitudeTheater:"",nameProvince:"",nameTheater:""}),[n,i]=(0,r.useState)(!1);(0,r.useEffect)((()=>{i(!0);(async()=>{try{const e=df(Yg,"theaters"),n=(await Cp(e)).data().count+1,r="idTheater".concat(String(n).padStart(3,"0"));t((e=>c(c({},e),{},{idTheater:r})))}catch(e){console.error("Error fetching count:",e)}finally{i(!1)}})()}),[]);const a=e=>{const{name:n,value:r}=e.target;t((e=>c(c({},e),{},{[n]:r})))};return n?(0,kt.jsx)(yn,{}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("style",{children:"\n                    .create-theater-container {\n                        max-width: 500px;\n                        margin: 0 auto;\n                    }\n\n                    h2 {\n                        text-align: center;\n                        margin-bottom: 20px;\n                    }\n\n                    .form-group {\n                        margin-bottom: 15px;\n                    }\n\n                    .form-group label {\n                        display: block;\n                        margin-bottom: 5px;\n                    }\n\n                    .form-group input, .form-group select {\n                        width: 100%;\n                        padding: 8px;\n                        box-sizing: border-box;\n                    }\n\n                    button {\n                        width: 100%;\n                        padding: 10px;\n                        background-color: #1da1f2;\n                        color: white;\n                        border: none;\n                        cursor: pointer;\n                    }\n\n                    button:hover {\n                        background-color: #1a91da;\n                    }\n                "}),(0,kt.jsxs)("div",{className:"create-theater-container",children:[(0,kt.jsx)("h2",{children:"TH\xcaM R\u1ea0P PHIM"}),(0,kt.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),i(!0),e.addressTheater&&e.latitudeTheater&&e.longitudeTheater&&e.nameProvince&&e.nameTheater)try{const n=c({},e);console.log("Submitting data with ID:",n.idTheater),await _p(ff(Yg,"theaters",n.idTheater),n),console.log("Document written with ID: ",n.idTheater),alert("Th\xeam r\u1ea1p th\xe0nh c\xf4ng");const r=df(Yg,"theaters"),i=(await Cp(r)).data().count+1,a="idTheater".concat(String(i).padStart(3,"0"));t({idTheater:a,addressTheater:"",latitudeTheater:"",longitudeTheater:"",nameProvince:"",nameTheater:""})}catch(r){console.error("Error adding theater: ",r.message),alert("Failed to add theater. Check console for details: "+r.message)}finally{i(!1)}else alert("Please fill all fields.")},children:[(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"\u0110\u1ecba ch\u1ec9:"}),(0,kt.jsx)("input",{type:"text",name:"addressTheater",value:e.addressTheater,onChange:a})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Kinh \u0111\u1ed9:"}),(0,kt.jsx)("input",{type:"text",name:"latitudeTheater",value:e.latitudeTheater,onChange:a})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"V\u0129 \u0111\u1ed9:"}),(0,kt.jsx)("input",{type:"text",name:"longitudeTheater",value:e.longitudeTheater,onChange:a})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"T\u1ec9nh/Th\xe0nh ph\u1ed1:"}),(0,kt.jsxs)("select",{name:"nameProvince",value:e.nameProvince,onChange:a,children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn t\u1ec9nh/th\xe0nh ph\u1ed1"}),["An Giang","B\xe0 R\u1ecba - V\u0169ng T\xe0u","B\u1eafc Giang","B\u1eafc K\u1ea1n","B\u1ea1c Li\xeau","B\u1eafc Ninh","B\u1ebfn Tre","B\xecnh \u0110\u1ecbnh","B\xecnh D\u01b0\u01a1ng","B\xecnh Ph\u01b0\u1edbc","B\xecnh Thu\u1eadn","C\xe0 Mau","C\u1ea7n Th\u01a1","Cao B\u1eb1ng","\u0110\xe0 N\u1eb5ng","\u0110\u1eafk L\u1eafk","\u0110\u1eafk N\xf4ng","\u0110i\u1ec7n Bi\xean","\u0110\u1ed3ng Nai","\u0110\u1ed3ng Th\xe1p","Gia Lai","H\xe0 Giang","H\xe0 Nam","H\xe0 N\u1ed9i","H\xe0 T\u0129nh","H\u1ea3i D\u01b0\u01a1ng","H\u1ea3i Ph\xf2ng","H\u1eadu Giang","H\xf2a B\xecnh","H\u01b0ng Y\xean","Kh\xe1nh H\xf2a","Ki\xean Giang","Kon Tum","Lai Ch\xe2u","L\xe2m \u0110\u1ed3ng","L\u1ea1ng S\u01a1n","L\xe0o Cai","Long An","Nam \u0110\u1ecbnh","Ngh\u1ec7 An","Ninh B\xecnh","Ninh Thu\u1eadn","Ph\xfa Th\u1ecd","Ph\xfa Y\xean","Qu\u1ea3ng B\xecnh","Qu\u1ea3ng Nam","Qu\u1ea3ng Ng\xe3i","Qu\u1ea3ng Ninh","Qu\u1ea3ng Tr\u1ecb","S\xf3c Tr\u0103ng","S\u01a1n La","T\xe2y Ninh","Th\xe1i B\xecnh","Th\xe1i Nguy\xean","Thanh H\xf3a","Th\u1eeba Thi\xean Hu\u1ebf","Ti\u1ec1n Giang","Tr\xe0 Vinh","Tuy\xean Quang","V\u0129nh Long","V\u0129nh Ph\xfac","Y\xean B\xe1i","TP. H\u1ed3 Ch\xed Minh"].map(((e,t)=>(0,kt.jsx)("option",{value:e,children:e},t)))]})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"T\xean R\u1ea1p:"}),(0,kt.jsx)("input",{type:"text",name:"nameTheater",value:e.nameTheater,onChange:a})]}),(0,kt.jsx)("button",{type:"submit",children:"Th\xeam R\u1ea1p"})]})]})]})}const nm=()=>{const[e,t]=(0,r.useState)({idScreening:"",dateTimeStart:"",dateTimeEnd:"",idMovie:"",idScreenRoom:""}),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[m,y]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{h(!0);try{const e=(await wp(df(Yg,"movies"))).docs.map((e=>c({id:e.id},e.data())));o(e);const t=(await wp(df(Yg,"theaters"))).docs.map((e=>c({id:e.id},e.data())));i(t);const n=(await wp(df(Yg,"screeningRoom"))).docs.map((e=>{const n=c({id:e.id},e.data()),r=t.find((e=>e.id===n.idTheater));return c(c({},n),{},{nameTheater:(null===r||void 0===r?void 0:r.nameTheater)||"Kh\xf4ng x\xe1c \u0111\u1ecbnh",nameProvince:(null===r||void 0===r?void 0:r.nameProvince)||""})}));l(n)}catch(e){console.error("L\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u:",e),an.error("Kh\xf4ng th\u1ec3 l\u1ea5y d\u1eef li\u1ec7u!")}finally{h(!1)}})()}),[]);const v=e=>{const{name:n,value:r}=e.target;t((e=>c(c({},e),{},{[n]:r})))};return u?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"T\u1ea0O SU\u1ea4T CHI\u1ebeU M\u1edaI"}),(0,kt.jsxs)("form",{onSubmit:async n=>{if(h(!0),n.preventDefault(),!e.dateTimeStart||!e.dateTimeEnd||!e.idMovie||!e.idScreenRoom)return void an.success("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!");const r=await(async()=>{try{const e=(await wp(df(Yg,"screening"))).size;return"idScreening".concat((e+1).toString().padStart(23,"0"))}catch(e){return console.error("Error generating screening ID:",e),an.error("L\u1ed7i h\u1ec7 th\u1ed1ng, vui l\xf2ng th\u1eed l\u1ea1i!"),"idScreening000000000000000000000001"}})();try{const n=ff(Yg,"screening",r);await _p(n,{dateTimeStart:e.dateTimeStart?new Date(e.dateTimeStart):null,dateTimeEnd:e.dateTimeEnd?new Date(e.dateTimeEnd):null,idMovie:e.idMovie,idScreenRoom:e.idScreenRoom,stateScreening:!0}),an.success("Su\u1ea5t chi\u1ebfu \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o th\xe0nh c\xf4ng!"),t({idScreening:"",dateTimeStart:"",dateTimeEnd:"",idMovie:"",idScreenRoom:""})}catch(i){console.error("L\u1ed7i khi t\u1ea1o su\u1ea5t chi\u1ebfu:",i),an.error("Kh\xf4ng th\u1ec3 t\u1ea1o su\u1ea5t chi\u1ebfu. Vui l\xf2ng th\u1eed l\u1ea1i!")}finally{h(!1)}},children:[(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Ng\xe0y gi\u1edd b\u1eaft \u0111\u1ea7u:"}),(0,kt.jsx)("input",{type:"datetime-local",name:"dateTimeStart",value:e.dateTimeStart,onChange:v,style:{width:"100%",padding:"8px",boxSizing:"border-box"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Ng\xe0y gi\u1edd k\u1ebft th\xfac:"}),(0,kt.jsx)("input",{type:"datetime-local",name:"dateTimeEnd",value:e.dateTimeEnd,onChange:v,style:{width:"100%",padding:"8px",boxSizing:"border-box"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Ch\u1ecdn Phim:"}),(0,kt.jsxs)("select",{name:"idMovie",value:e.idMovie,onChange:v,style:{width:"100%",padding:"8px",boxSizing:"border-box"},required:!0,children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn phim"}),a.map((e=>(0,kt.jsx)("option",{value:e.id,children:e.nameMovie},e.id)))]})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Ch\u1ecdn T\u1ec9nh/Th\xe0nh:"}),(0,kt.jsxs)("select",{value:d,onChange:e=>{const r=e.target.value;f(r);const i=n.filter((e=>e.nameProvince===r));g(i);const a=i.map((e=>e.id)),o=s.filter((e=>a.includes(e.idTheater)));y(o),t((e=>c(c({},e),{},{idScreenRoom:"",idMovie:""})))},style:{width:"100%",padding:"8px",boxSizing:"border-box"},children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn t\u1ec9nh/th\xe0nh"}),[...new Set(n.map((e=>e.nameProvince)))].map(((e,t)=>(0,kt.jsx)("option",{value:e,children:e},t)))]})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Ch\u1ecdn Ph\xf2ng Chi\u1ebfu:"}),(0,kt.jsxs)("select",{name:"idScreenRoom",value:e.idScreenRoom,onChange:v,style:{width:"100%",padding:"8px",boxSizing:"border-box"},required:!0,children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn ph\xf2ng chi\u1ebfu"}),m.map((e=>(0,kt.jsxs)("option",{value:e.idScreenRoom,children:[e.nameScreenRoom," - ",e.nameTheater]},e.id)))]})]}),(0,kt.jsx)("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#1da1f2",color:"white",border:"none",cursor:"pointer"},onMouseOver:e=>e.target.style.backgroundColor="#1a91da",onMouseOut:e=>e.target.style.backgroundColor="#1da1f2",children:"T\u1ea1o Su\u1ea5t Chi\u1ebfu"})]})]})},rm=()=>{const[e,t]=(0,r.useState)({idScreenRoom:"",idTheater:"",nameScreenRoom:"",quantityDesk:140,stateScreenRoom:"",active:!0}),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1);(0,r.useEffect)((()=>{o(!0);(async()=>{try{const e=(await wp(df(Yg,"theaters"))).docs.map((e=>c({id:e.id},e.data())));i(e)}catch(e){console.error("L\u1ed7i l\u1ea5y d\u1eef li\u1ec7u r\u1ea1p:",e)}finally{o(!1)}})()}),[]);const s=e=>{const{name:n,value:r}=e.target;t((e=>c(c({},e),{},{[n]:r})))};return a?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"T\u1ea0O PH\xd2NG CHI\u1ebeU M\u1edaI"}),(0,kt.jsxs)("form",{onSubmit:async n=>{if(o(!0),n.preventDefault(),!e.idTheater||!e.nameScreenRoom||!e.stateScreenRoom)return void an.error("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!!");const r=await(async()=>{try{const e=(await wp(df(Yg,"screeningRoom"))).size;return"idScreenRoom".concat((e+1).toString().padStart(6,"0"))}catch(e){return console.error("Error generating sequential ID:",e),an.error("L\u1ed7i h\u1ec7 th\u1ed1ng. Vui l\xf2ng th\u1eed l\u1ea1i!"),"idScreenRoom000001"}})(),i=c(c({},e),{},{idScreenRoom:r});try{const n=ff(Yg,"screeningRoom",r);await _p(n,i);const a=df(Yg,"screeningRoom",r,"desk"),o=(()=>{const e=[];return["A","B","C","D","E","F","G","H","I"].forEach((t=>{for(let n=1;n<=14;n++){const r="idDesk".concat(t).concat(n.toString().padStart(2,"0"));e.push({id:r,available:!0})}})),e})();for(const e of o)await _p(ff(a,e.id),{available:e.available});an.success("Ph\xf2ng chi\u1ebfu \u0111\u01b0\u1ee3c t\u1ea1o th\xe0nh c\xf4ng!"),t({idScreenRoom:"",idTheater:e.idTheater,nameScreenRoom:"",quantityDesk:140,stateScreenRoom:"",active:!0})}catch(a){console.error("L\u1ed7i khi t\u1ea1o ph\xf2ng chi\u1ebfu ho\u1eb7c gh\u1ebf:",a),an.error("Kh\xf4ng th\u1ec3 t\u1ea1o ph\xf2ng chi\u1ebfu ho\u1eb7c gh\u1ebf. Vui l\xf2ng th\u1eed l\u1ea1i!")}finally{o(!1)}},children:[(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Ch\u1ecdn R\u1ea1p:"}),(0,kt.jsxs)("select",{name:"idTheater",value:e.idTheater,onChange:s,required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"},children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn r\u1ea1p"}),n.map((e=>(0,kt.jsxs)("option",{value:e.id,children:[e.nameTheater," (",e.nameProvince,")"]},e.id)))]})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"T\xean Ph\xf2ng Chi\u1ebfu:"}),(0,kt.jsx)("input",{type:"text",name:"nameScreenRoom",value:e.nameScreenRoom,onChange:s,placeholder:"Nh\u1eadp t\xean ph\xf2ng chi\u1ebfu (v\xed d\u1ee5: H1)",required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"S\u1ed1 Gh\u1ebf:"}),(0,kt.jsx)("input",{type:"number",name:"quantityDesk",value:e.quantityDesk,readOnly:!0,placeholder:"140 (c\u1ed1 \u0111\u1ecbnh)",style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),(0,kt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,kt.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Tr\u1ea1ng Th\xe1i:"}),(0,kt.jsx)("input",{type:"text",name:"stateScreenRoom",value:e.stateScreenRoom,onChange:s,placeholder:"Nh\u1eadp tr\u1ea1ng th\xe1i (v\xed d\u1ee5: \u0110ang ho\u1ea1t \u0111\u1ed9ng)",required:!0,style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),(0,kt.jsx)("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#1da1f2",color:"white",border:"none",cursor:"pointer",marginLeft:"220px"},onMouseOver:e=>e.target.style.backgroundColor="#1a91da",onMouseOut:e=>e.target.style.backgroundColor="#1da1f2",children:"T\u1ea1o Ph\xf2ng Chi\u1ebfu"})]})]})};function im(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)({idScreenRoom:"",idTheater:"",nameScreenRoom:"",quantityDesk:"",stateScreenRoom:"",active:!0}),[s,l]=(0,r.useState)(null),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[m,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(""),[x,w]=(0,r.useState)(!0),[_,S]=(0,r.useState)(null),k=fe();(0,r.useEffect)((()=>{(async()=>{try{w(!0),S(null);const e=(await wp(df(Yg,"theaters"))).docs.map((e=>c({id:e.id},e.data())));g(e);const t=[...new Set(e.map((e=>e.nameProvince)))];y(t)}catch(_){console.error("Error fetching theaters:",_),S("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch r\u1ea1p. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{w(!1)}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{w(!0),S(null);let e=df(Yg,"screeningRoom");if(d)e=ep(e,np("idTheater","==",d));else if(u){const n=p.filter((e=>e.nameProvince===u)).map((e=>e.id));if(!(n.length>0))return void t([]);e=ep(e,np("idTheater","in",n))}const n=(await wp(e)).docs.map((e=>c({id:e.id},e.data())));t(n)}catch(_){console.error("L\u1ed7i l\u1ea5y ph\xf2ng chi\u1ebfu:",_),S("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch ph\xf2ng chi\u1ebfu. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{w(!1)}})()}),[u,d,p]),(0,r.useEffect)((()=>{(async()=>{if(v)try{w(!0),S(null);const e=ep(df(Yg,"screening"),np("idScreenRoom","==",v)),t=(await wp(e)).docs.map((e=>c({id:e.id},e.data())));i(t)}catch(_){console.error("L\u1ed7i l\u1ea5y d\u1eef li\u1ec7u su\u1ea5t chi\u1ebfu:",_),S("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch su\u1ea5t chi\u1ebfu. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{w(!1)}else i([])})()}),[v]);return x?(0,kt.jsx)(yn,{}):_?(0,kt.jsxs)("div",{className:"manage-screen-room-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{children:"QU\u1ea2N L\xdd PH\xd2NG CHI\u1ebeU"}),(0,kt.jsx)("p",{style:{color:"red",textAlign:"center"},children:_}),(0,kt.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"#1da1f2",color:"white",border:"none",cursor:"pointer",margin:"0 auto",display:"block"},onClick:()=>window.location.reload(),onMouseOver:e=>e.target.style.backgroundColor="#1a91da",onMouseOut:e=>e.target.style.backgroundColor="#1da1f2",children:"Th\u1eed l\u1ea1i"})]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("style",{children:"\n                    .manage-screen-room-container { \n                        max-width: 800px;\n                        margin: 0 auto;\n                    }\n\n                    h2 {\n                        text-align: center;\n                        margin-bottom: 20px;\n                    }\n\n                    .form-group {\n                        margin-bottom: 15px;\n                    }\n\n                    .form-group label {\n                        display: block;\n                        margin-bottom: 5px;\n                    }\n\n                    .form-group input, .form-group select {\n                        width: 100%;\n                        padding: 8px;\n                        box-sizing: border-box;\n                    }\n\n                    button {\n                        padding: 10px 20px;\n                        background-color: #1da1f2;\n                        color: white;\n                        border: none;\n                        cursor: pointer;\n                        margin-right: 10px;\n                    }\n\n                    button:hover {\n                        background-color: #1a91da;\n                    }\n\n                    .room-list, .screening-list {\n                        margin-top: 20px;\n                    }\n\n                    .room-item, .screening-item {\n                        border: 1px solid #ddd;\n                        padding: 10px;\n                        margin-bottom: 10px;\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                    }\n                "}),(0,kt.jsxs)("div",{className:"manage-screen-room-container",children:[(0,kt.jsx)("h2",{children:"QU\u1ea2N L\xdd PH\xd2NG CHI\u1ebeU"}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Ch\u1ecdn T\u1ec9nh/Th\xe0nh ph\u1ed1:"}),(0,kt.jsxs)("select",{value:u,onChange:e=>{h(e.target.value),f("")},children:[(0,kt.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3"}),m.map(((e,t)=>(0,kt.jsx)("option",{value:e,children:e},t)))]})]}),u&&(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Ch\u1ecdn R\u1ea1p:"}),(0,kt.jsxs)("select",{value:d,onChange:e=>{const t=e.target.value;f(t)},children:[(0,kt.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 r\u1ea1p"}),p.filter((e=>e.nameProvince===u)).map((e=>(0,kt.jsx)("option",{value:e.id,children:e.nameTheater},e.id)))]})]}),(0,kt.jsxs)("div",{className:"room-list",children:[(0,kt.jsx)("h3",{children:"Danh S\xe1ch Ph\xf2ng Chi\u1ebfu"}),0===e.length&&(0,kt.jsx)("p",{children:"Kh\xf4ng c\xf3 ph\xf2ng chi\u1ebfu n\xe0o."}),e.map((n=>(0,kt.jsxs)("div",{className:"room-item",children:[(0,kt.jsxs)("span",{children:[n.nameScreenRoom," - ",n.stateScreenRoom]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("button",{onClick:()=>{return e=n.id,sessionStorage.setItem("idScreen",e),b(e),void k("".concat(e));var e},children:"Xem Su\u1ea5t Chi\u1ebfu"}),(0,kt.jsx)("button",{onClick:()=>(e=>{l(e),o(c({},e))})(n),children:"S\u1eeda"}),(0,kt.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ph\xf2ng chi\u1ebfu "+n))try{w(!0),S(null),await kp(ff(Yg,"screeningRoom",n)),t(e.filter((e=>e.id!==n))),an.success("X\xf3a ph\xf2ng chi\u1ebfu th\xe0nh c\xf4ng!")}catch(_){console.error("L\u1ed7i x\xf3a ph\xf2ng chi\u1ebfu:",_),an.error("X\xf3a ph\xf2ng chi\u1ebfu th\u1ea5t b\u1ea1i!")}finally{w(!1)}})(n.id),children:"X\xf3a"})]})]},n.id)))]}),v&&(0,kt.jsxs)("div",{className:"screening-list",children:[(0,kt.jsx)("h3",{children:"Danh S\xe1ch Su\u1ea5t Chi\u1ebfu"}),0===n.length&&(0,kt.jsx)("p",{children:"Kh\xf4ng c\xf3 su\u1ea5t chi\u1ebfu n\xe0o."}),n.map((e=>(0,kt.jsx)("div",{className:"screening-item",children:(0,kt.jsxs)("span",{children:["ID: ",e.id," - Start: ",e.dateTimeStart," - End: ",e.dateTimeEnd]})},e.id)))]})]})]})}function am(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{h(!0),f(null);try{const e=(await wp(df(Yg,"users"))).docs.map((e=>({uid:e.data().uid||e.id,email:e.data().email||"N/A"})));l(e)}catch(d){console.error("L\u1ed7i khi l\u1ea5y danh s\xe1ch ng\u01b0\u1eddi d\xf9ng:",d),f("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{h(!1)}})()}),[]);const p=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!n||isNaN(n)||parseFloat(n)<=0)return an.error("Vui l\xf2ng nh\u1eadp gi\xe1 ti\u1ec1n gi\u1ea3m h\u1ee3p l\u1ec7!"),null;const r="Z".concat(Math.random().toString(36).substr(2,6).toUpperCase()),i=new Date,a=new Date(i),o=new Date(i.setDate(i.getDate()+30));let l=t;if(!l&&e){const t=s.find((t=>t.email===e));if(l=t?t.uid:null,!l)return an.error("Email kh\xf4ng t\u1ed3n t\u1ea1i!"),null}const u={code:r,dateTimeEnd:fa.fromDate(o),dateTimeStart:fa.fromDate(a),idUser:l||"all",priceDiscount:parseFloat(n),stateDiscount:!0};try{const e="idDiscount".concat(Date.now(),"_").concat(r);return await _p(ff(Yg,"discounts",e),u),console.log("Created voucher:",c(c({},u),{},{docId:e})),c(c({},u),{},{dateTimeStart:a,dateTimeEnd:o})}catch(d){return console.error("L\u1ed7i khi t\u1ea1o voucher:",d),f("Kh\xf4ng th\u1ec3 t\u1ea1o voucher. Vui l\xf2ng th\u1eed l\u1ea1i."),null}},g=e=>!e||isNaN(new Date(e))?"N/A":new Date(e).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return u?(0,kt.jsx)(yn,{}):d?(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsx)(gn,{style:{zIndex:"100"}}),(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"T\u1ea1o Gift Code"}),(0,kt.jsx)("p",{style:{color:"red",textAlign:"center"},children:d}),(0,kt.jsx)("div",{style:{textAlign:"center"},children:(0,kt.jsx)("button",{className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>window.location.reload(),children:"Th\u1eed l\u1ea1i"})})]}):(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsx)("style",{children:"\n          .p-4 {\n            min-height: 100vh;\n            font-family: Arial, sans-serif;\n          }\n\n          .text-xl {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #333;\n            margin-bottom: 20px;\n          }\n\n          .space-y-4 > * + * {\n            margin-top: 1rem;\n          }\n\n          .p-2 {\n            padding: 8px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            font-size: 1rem;\n            width: 100%;\n            box-sizing: border-box;\n          }\n\n          .border {\n            border: 1px solid #ccc;\n          }\n\n          .rounded {\n            border-radius: 4px;\n          }\n\n          .w-full {\n            width: 100%;\n          }\n\n          .bg-blue-500 {\n            background-color: #007bff;\n            color: #fff;\n            padding: 8px 16px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 1rem;\n          }\n\n          .bg-blue-500:hover:not(:disabled) {\n            background-color: #0056b3;\n          }\n\n          .bg-green-500 {\n            background-color: #28a745;\n            color: #fff;\n            padding: 8px 16px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 1rem;\n          }\n\n          .bg-green-500:hover:not(:disabled) {\n            background-color: #218838;\n          }\n\n          .mr-2 {\n            margin-right: 8px;\n          }\n\n          .bg-gray-100 {\n            background-color: #e9ecef;\n            padding: 10px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            margin-top: 16px;\n          }\n\n          .font-semibold {\n            font-weight: 600;\n          }\n        "}),(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"T\u1ea1o Gift Code"}),(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Nh\u1eadp email ng\u01b0\u1eddi d\xf9ng (t\xf9y ch\u1ecdn)",className:"p-2 border rounded w-full"}),(0,kt.jsx)("input",{type:"number",value:n,onChange:e=>i(e.target.value),placeholder:"Nh\u1eadp gi\xe1 ti\u1ec1n gi\u1ea3m (VND)",className:"p-2 border rounded w-full",min:"1",step:"100"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("button",{onClick:async()=>{if(e&&n){h(!0),f(null);try{const e=await p();e&&(o(e),an.success("Voucher \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o v\xe0 l\u01b0u cho ng\u01b0\u1eddi d\xf9ng c\u1ee5 th\u1ec3!"))}catch(d){console.error("L\u1ed7i khi g\u1eedi voucher cho ng\u01b0\u1eddi d\xf9ng c\u1ee5 th\u1ec3:",d),an.error("Kh\xf4ng th\u1ec3 g\u1eedi voucher. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{h(!1)}}else an.error("Vui l\xf2ng nh\u1eadp email v\xe0 gi\xe1 ti\u1ec1n gi\u1ea3m!")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 mr-2",disabled:!e||!n||u,children:"G\u1eedi cho ng\u01b0\u1eddi d\xf9ng c\u1ee5 th\u1ec3"}),(0,kt.jsx)("br",{}),(0,kt.jsx)("br",{}),(0,kt.jsx)("button",{onClick:async()=>{if(n)if(0!==s.length){h(!0),f(null);try{const e=s.map((e=>p(e.uid))),t=(await Promise.all(e)).filter((e=>!e));t.length>0?f("C\xf3 ".concat(t.length," voucher kh\xf4ng t\u1ea1o \u0111\u01b0\u1ee3c. Vui l\xf2ng ki\u1ec3m tra console.")):an.success("Voucher \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi cho t\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng!")}catch(d){console.error("L\u1ed7i khi g\u1eedi voucher cho t\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng:",d),an.error("Kh\xf4ng th\u1ec3 g\u1eedi voucher cho t\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{h(!1)}}else f("Kh\xf4ng c\xf3 ng\u01b0\u1eddi d\xf9ng n\xe0o \u0111\u1ec3 g\u1eedi!");else an.error("Vui l\xf2ng nh\u1eadp gi\xe1 ti\u1ec1n gi\u1ea3m!")},className:"p-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:0===s.length||!n||u,children:"G\u1eedi cho t\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng"})]})]}),a&&(0,kt.jsxs)("div",{className:"mt-4 p-2 border rounded bg-gray-100",children:[(0,kt.jsx)("h3",{className:"font-semibold",children:"Th\xf4ng tin Voucher:"}),(0,kt.jsxs)("p",{children:["Code: ",a.code||"N/A"]}),(0,kt.jsxs)("p",{children:["Ng\xe0y b\u1eaft \u0111\u1ea7u: ",g(a.dateTimeStart)]}),(0,kt.jsxs)("p",{children:["Ng\xe0y k\u1ebft th\xfac: ",g(a.dateTimeEnd)]}),(0,kt.jsxs)("p",{children:["ID User: ",a.idUser||"N/A"]}),(0,kt.jsxs)("p",{children:["Gi\u1ea3m gi\xe1: ",a.priceDiscount||"N/A"," VND"]}),(0,kt.jsxs)("p",{children:["Tr\u1ea1ng th\xe1i: ",a.stateDiscount?"Ho\u1ea1t \u0111\u1ed9ng":"H\u1ebft hi\u1ec7u l\u1ef1c"]})]})]})}function om(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)("all"),[s,l]=(0,r.useState)(1),[u,h]=(0,r.useState)(1),[d,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[m,y]=(0,r.useState)(null);(0,r.useEffect)((()=>{v()}),[a,s]);const v=async()=>{f(!0),y(null);try{const e=20*(s-1);let n=ep(df(Yg,"discounts"),ap("dateTimeEnd"),sp(20));if(e>0){const t=ep(df(Yg,"discounts"),ap("dateTimeEnd"),sp(e)),r=await wp(t);if(r.docs.length>0){const e=r.docs[r.docs.length-1];n=ep(df(Yg,"discounts"),ap("dateTimeEnd"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lp._create("startAfter",t,!1)}(e),sp(20))}}if("expired"===a){n=ep(n,np("dateTimeEnd","<",new Date),np("stateDiscount","==",!1))}const r=(await wp(n)).docs.map((e=>{const t=e.data();return c(c({id:e.id},t),{},{dateTimeStart:t.dateTimeStart instanceof Object?t.dateTimeStart.toDate():new Date(t.dateTimeStart),dateTimeEnd:t.dateTimeEnd instanceof Object?t.dateTimeEnd.toDate():new Date(t.dateTimeEnd)})})),o=ep(df(Yg,"discounts")),l=(await wp(o)).size,u=Math.ceil(l/20);t(r),i(r),h(u)}catch(m){console.error("L\u1ed7i khi l\u1ea5y gift code:",m),an.error("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch gift code. Vui l\xf2ng th\u1eed l\u1ea1i."),y("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch gift code.")}finally{f(!1)}},b=e=>{e>=1&&e<=u&&e!==s&&(l(e),g(null))},x=e=>{const t=new Date;return new Date(e)<t},w=e=>!e||isNaN(new Date(e))?"N/A":new Date(e).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return d?(0,kt.jsx)(yn,{}):m?(0,kt.jsxs)("div",{className:"manage-gift-container",children:[(0,kt.jsx)("h2",{className:"manage-gift-title",children:"Qu\u1ea3n L\xfd Gift Code"}),(0,kt.jsx)("p",{style:{color:"red",textAlign:"center"},children:m}),(0,kt.jsx)("div",{style:{textAlign:"center"},children:(0,kt.jsx)("button",{className:"load-more-btn",onClick:()=>window.location.reload(),children:"Th\u1eed l\u1ea1i"})})]}):(0,kt.jsxs)("div",{children:[(0,kt.jsx)("style",{children:"\n          .manage-gift-container {\n            min-height: 100vh;\n            font-family: Arial, sans-serif;\n          }\n\n          .manage-gift-title {\n            text-align: center;\n            font-size: 2.5rem;\n            font-weight: bold;\n            color: #333;\n            margin-bottom: 20px;\n          }\n\n          .filter-section {\n            text-align: right;\n            margin-bottom: 20px;\n          }\n\n          .filter-select {\n            padding: 8px 12px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            font-size: 1rem;\n            cursor: pointer;\n            background-color: #fff;\n          }\n\n          .filter-select:focus {\n            outline: none;\n            border-color: #007bff;\n            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n          }\n\n          .gift-table-container {\n            overflow-x: auto;\n          }\n\n          .gift-table {\n            width: 100%;\n            border-collapse: collapse;\n            background-color: #fff;\n            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n          }\n\n          .gift-table th,\n          .gift-table td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n          }\n\n          .gift-table th {\n            background-color: #f8f9fa;\n            font-weight: bold;\n            color: #555;\n            text-transform: uppercase;\n            font-size: 0.9rem;\n          }\n\n          .gift-table td {\n            font-size: 1rem;\n            color: #333;\n          }\n\n          .gift-table tr:hover {\n            background-color: #f0f0f0;\n          }\n\n          .details {\n            margin-top: 10px;\n            padding: 10px;\n            background-color: #e9ecef;\n            border-radius: 4px;\n          }\n\n          .no-data {\n            text-align: center;\n            padding: 20px;\n            color: #666;\n          }\n\n          .delete-btn {\n            padding: 8px 12px;\n            background-color: #dc3545;\n            color: #fff;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 0.9rem;\n          }\n\n          .delete-btn:hover {\n            background-color: #c82333;\n          }\n\n          /* Pagination Styles */\n          .pagination-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin-top: 20px;\n            gap: 10px;\n          }\n\n          .pagination-info {\n            font-size: 0.9rem;\n            color: #666;\n            margin-right: 20px;\n          }\n\n          .pagination-controls {\n            display: flex;\n            gap: 5px;\n          }\n\n          .pagination-btn {\n            padding: 8px 12px;\n            border: 1px solid #ddd;\n            background-color: #fff;\n            color: #007bff;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 0.9rem;\n            transition: all 0.2s;\n          }\n\n          .pagination-btn:hover {\n            background-color: #f8f9fa;\n            border-color: #007bff;\n          }\n\n          .pagination-btn.active {\n            background-color: #007bff;\n            color: #fff;\n            border-color: #007bff;\n          }\n\n          .pagination-btn:disabled {\n            background-color: #f8f9fa;\n            color: #6c757d;\n            border-color: #ddd;\n            cursor: not-allowed;\n          }\n\n          .pagination-btn:disabled:hover {\n            background-color: #f8f9fa;\n            border-color: #ddd;\n          }\n\n          .pagination-ellipsis {\n            padding: 8px 12px;\n            color: #6c757d;\n            font-size: 0.9rem;\n          }\n\n          @media (max-width: 768px) {\n            .pagination-container {\n              flex-direction: column;\n              gap: 15px;\n            }\n\n            .pagination-info {\n              margin-right: 0;\n            }\n\n            .pagination-controls {\n              flex-wrap: wrap;\n              justify-content: center;\n            }\n          }\n        "}),(0,kt.jsxs)("div",{className:"manage-gift-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{className:"manage-gift-title",children:"Qu\u1ea3n L\xfd Gift Code"}),(0,kt.jsx)("div",{className:"filter-section",children:(0,kt.jsxs)("select",{value:a,onChange:e=>{o(e.target.value),l(1),g(null),y(null)},className:"filter-select",children:[(0,kt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3"}),(0,kt.jsx)("option",{value:"false",children:"\u0110\xe3 h\u1ebft h\u1ea1n"})]})}),(0,kt.jsxs)("div",{className:"gift-table-container",children:[(0,kt.jsxs)("table",{className:"gift-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"STT"}),(0,kt.jsx)("th",{children:"M\xe3 Code"}),(0,kt.jsx)("th",{children:"Ng\xe0y B\u1eaft \u0110\u1ea7u"}),(0,kt.jsx)("th",{children:"Ng\xe0y K\u1ebft Th\xfac"}),(0,kt.jsx)("th",{children:"Tr\u1ea1ng Th\xe1i"}),(0,kt.jsx)("th",{})]})}),(0,kt.jsx)("tbody",{children:n.map(((e,t)=>(0,kt.jsxs)("tr",{onClick:()=>{return t=e.id,void g(p===t?null:t);var t},children:[(0,kt.jsx)("td",{children:20*(s-1)+t+1}),(0,kt.jsx)("td",{children:e.code||"N/A"}),(0,kt.jsx)("td",{children:w(e.dateTimeStart)}),(0,kt.jsx)("td",{children:w(e.dateTimeEnd)}),(0,kt.jsx)("td",{children:x(e.dateTimeEnd)?"H\u1ebft h\u1ea1n":"Ho\u1ea1t \u0111\u1ed9ng"}),(0,kt.jsx)("td",{children:(0,kt.jsx)("button",{className:"delete-btn",onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a gift code ".concat(e,"?")))try{f(!0),y(null),await kp(ff(Yg,"discounts",e)),await v(),g(null),an.success("X\xf3a gift code th\xe0nh c\xf4ng!")}catch(m){console.error("L\u1ed7i khi x\xf3a gift code:",m),an.error("X\xf3a gift code th\u1ea5t b\u1ea1i! L\u1ed7i: "+m.message)}finally{f(!1)}})(e.id)},children:"X\xf3a"})})]},e.id)))})]}),!d&&0===n.length&&(0,kt.jsx)("div",{className:"no-data",children:"Kh\xf4ng c\xf3 gift code."}),p&&n.find((e=>e.id===p))&&(0,kt.jsxs)("div",{className:"details",children:[(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"ID User:"})," ",n.find((e=>e.id===p)).idUser||"N/A"]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Ng\xe0y B\u1eaft \u0110\u1ea7u:"})," ",w(n.find((e=>e.id===p)).dateTimeStart)]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Ng\xe0y K\u1ebft Th\xfac:"})," ",w(n.find((e=>e.id===p)).dateTimeEnd)]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Gi\u1ea3m Gi\xe1:"})," ",n.find((e=>e.id===p)).priceDiscount||"N/A"," VND"]})]})]}),!d&&n.length>0&&u>1&&(0,kt.jsxs)("div",{className:"pagination-container",children:[(0,kt.jsxs)("div",{className:"pagination-info",children:["Trang ",s," / ",u," (T\u1ed5ng: ",e.length," gift code)"]}),(0,kt.jsxs)("div",{className:"pagination-controls",children:[(0,kt.jsx)("button",{className:"pagination-btn",onClick:()=>b(s-1),disabled:1===s,children:"\xab Tr\u01b0\u1edbc"}),(()=>{const e=[];if(u<=5)for(let t=1;t<=u;t++)e.push(t);else{const t=Math.max(1,s-Math.floor(2.5)),n=Math.min(u,t+5-1);t>1&&(e.push(1),t>2&&e.push("..."));for(let r=t;r<=n;r++)e.push(r);n<u&&(n<u-1&&e.push("..."),e.push(u))}return e})().map(((e,t)=>"..."===e?(0,kt.jsx)("span",{className:"pagination-ellipsis",children:"..."},t):(0,kt.jsx)("button",{className:"pagination-btn ".concat(s===e?"active":""),onClick:()=>b(e),children:e},t))),(0,kt.jsx)("button",{className:"pagination-btn",onClick:()=>b(s+1),disabled:s===u,children:"Ti\u1ebfp \xbb"})]})]})]})]})}function sm(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(!0),[s,l]=(0,r.useState)(null),[u,h]=(0,r.useState)({title:"",description:"",bannerImage:"",startDate:"",endDate:""}),d=fe();(0,r.useEffect)((()=>{(async()=>{try{o(!0),l(null);const e=await wp(df(Yg,"promotionNews"));if(e.empty)return void t([]);const n=e.docs.map((e=>{const t=e.data();return c(c({id:e.id},t),{},{startDate:t.startDate?new Date(t.startDate.toDate()).toISOString().split("T")[0]:"",endDate:t.endDate?new Date(t.endDate.toDate()).toISOString().split("T")[0]:""})}));t(n)}catch(s){console.error("Error fetching promotions: ",s),an.error("Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u khuy\u1ebfn m\xe3i. Vui l\xf2ng ki\u1ec3m tra k\u1ebft n\u1ed1i ho\u1eb7c th\u1eed l\u1ea1i sau.")}finally{o(!1)}})()}),[]);const f=async r=>{r.preventDefault();try{o(!0),l(null);const r=ff(Yg,"promotionNews",n);await Sp(r,{title:u.title,description:u.description,bannerImage:u.bannerImage,startDate:u.startDate?new Date(u.startDate):null,endDate:u.endDate?new Date(u.endDate):null}),t(e.map((e=>e.id===n?c(c({},e),u):e))),i(null),an.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!")}catch(s){console.error("Error updating promotion: ",s),an.error("L\u1ed7i khi c\u1eadp nh\u1eadt khuy\u1ebfn m\xe3i!")}finally{o(!1)}},p=()=>{i(null),l(null)};return a?(0,kt.jsx)(yn,{}):s?(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{style:{textAlign:"center"},children:"Qu\u1ea3n l\xfd Khuy\u1ebfn m\xe3i"}),(0,kt.jsx)("p",{style:{color:"red"},children:s}),(0,kt.jsx)("button",{style:{marginBottom:"20px"},onClick:()=>window.location.reload(),children:"Th\u1eed l\u1ea1i"})]}):(0,kt.jsxs)("div",{children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h1",{style:{textAlign:"center"},children:"Qu\u1ea3n l\xfd Khuy\u1ebfn m\xe3i"}),(0,kt.jsx)("button",{style:{marginBottom:"20px",width:"200px",height:"40px"},onClick:()=>d("../create_promotion"),children:"T\u1ea1o khuy\u1ebfn m\xe3i"}),0===e.length&&(0,kt.jsx)("p",{children:"Kh\xf4ng c\xf3 khuy\u1ebfn m\xe3i n\xe0o."}),e.map((r=>(0,kt.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px"},children:[(0,kt.jsx)("a",{href:r.bannerImage,style:{color:"red",textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",children:"H\xecnh \u1ea3nh (Vui l\xf2ng click v\xe0o \u0111\u1ec3 xem!)"}),(0,kt.jsxs)("p",{children:["Ti\xeau \u0111\u1ec1: ",r.title||"N/A"]}),(0,kt.jsxs)("p",{children:["M\xf4 t\u1ea3: ",r.description||"N/A"]}),(0,kt.jsxs)("p",{children:["Ng\xe0y b\u1eaft \u0111\u1ea7u: ",r.startDate||"N/A"]}),(0,kt.jsxs)("p",{children:["Ng\xe0y k\u1ebft th\xfac: ",r.endDate||"N/A"]}),(0,kt.jsxs)("div",{style:{marginTop:"10px"},children:[(0,kt.jsx)("button",{style:{backgroundColor:"#4CAF50",color:"white",padding:"5px 10px",border:"none",cursor:"pointer",marginRight:"10px"},onClick:()=>(e=>{i(e.id),h({title:e.title||"",description:e.description||"",bannerImage:e.bannerImage||"",startDate:e.startDate||"",endDate:e.endDate||""})})(r),children:"Ch\u1ec9nh s\u1eeda"}),(0,kt.jsx)("button",{style:{backgroundColor:"#ff0000",color:"white",padding:"5px 10px",border:"none",cursor:"pointer"},onClick:()=>(async n=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a khuy\u1ebfn m\xe3i n\xe0y?"))try{o(!0),l(null),await kp(ff(Yg,"promotionNews",n)),t(e.filter((e=>e.id!==n))),i(null),an.success("X\xf3a th\xe0nh c\xf4ng!")}catch(s){console.error("Error deleting promotion: ",s),an.error("L\u1ed7i khi x\xf3a khuy\u1ebfn m\xe3i!")}finally{o(!1)}})(r.id),children:"X\xf3a"})]}),n===r.id&&(0,kt.jsxs)("div",{style:{marginTop:"20px",padding:"10px",border:"1px solid #ddd"},children:[(0,kt.jsx)("h4",{children:"Ch\u1ec9nh s\u1eeda Khuy\u1ebfn m\xe3i"}),(0,kt.jsxs)("form",{onSubmit:f,children:[(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"Ti\xeau \u0111\u1ec1: "}),(0,kt.jsx)("input",{type:"text",value:u.title,onChange:e=>h(c(c({},u),{},{title:e.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"M\xf4 t\u1ea3: "}),(0,kt.jsx)("textarea",{value:u.description,onChange:e=>h(c(c({},u),{},{description:e.target.value})),style:{width:"100%",padding:"5px",height:"150px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"URL h\xecnh banner: "}),(0,kt.jsx)("input",{type:"text",value:u.bannerImage,onChange:e=>h(c(c({},u),{},{bannerImage:e.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"Ng\xe0y b\u1eaft \u0111\u1ea7u: "}),(0,kt.jsx)("input",{type:"date",value:u.startDate,onChange:e=>h(c(c({},u),{},{startDate:e.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"Ng\xe0y k\u1ebft th\xfac: "}),(0,kt.jsx)("input",{type:"date",value:u.endDate,onChange:e=>h(c(c({},u),{},{endDate:e.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginTop:"10px"},children:[(0,kt.jsx)("button",{type:"submit",style:{backgroundColor:"#4CAF50",color:"white",padding:"5px 10px",border:"none",cursor:"pointer",marginRight:"10px"},children:"L\u01b0u"}),(0,kt.jsx)("button",{type:"button",style:{backgroundColor:"#ccc",color:"black",padding:"5px 10px",border:"none",cursor:"pointer"},onClick:p,children:"H\u1ee7y"})]})]})]})]},r.id)))]})}function lm(){const[e,t]=(0,r.useState)({title:"",description:"",bannerImage:"",startDate:"",endDate:""}),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),s=fe();return n?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("h2",{children:"T\u1ea1o Khuy\u1ebfn M\xe3i"}),a&&(0,kt.jsx)("p",{style:{color:"red"},children:a}),(0,kt.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{i(!0),o(null),await function(e,t){const n=tf(e.firestore,yf),r=ff(e),i=pp(e.converter,t);return Tp(n,[Pf(Of(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Al.exists(!1))]).then((()=>r))}(df(Yg,"promotionNews"),{title:e.title,description:e.description,bannerImage:e.bannerImage,startDate:e.startDate?new Date(e.startDate):null,endDate:e.endDate?new Date(e.endDate):null}),an.success("T\u1ea1o khuy\u1ebfn m\xe3i th\xe0nh c\xf4ng!"),s("../manage_promotion")}catch(a){console.error("Error creating promotion: ",a),an.error("L\u1ed7i khi t\u1ea1o khuy\u1ebfn m\xe3i!")}finally{i(!1)}},children:[(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"Ti\xeau \u0111\u1ec1: "}),(0,kt.jsx)("input",{type:"text",value:e.title,onChange:n=>t(c(c({},e),{},{title:n.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"M\xf4 t\u1ea3: "}),(0,kt.jsx)("textarea",{value:e.description,onChange:n=>t(c(c({},e),{},{description:n.target.value})),style:{width:"100%",padding:"5px",height:"150px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"URL h\xecnh banner: "}),(0,kt.jsx)("input",{type:"text",value:e.bannerImage,onChange:n=>t(c(c({},e),{},{bannerImage:n.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"Ng\xe0y b\u1eaft \u0111\u1ea7u: "}),(0,kt.jsx)("input",{type:"date",value:e.startDate,onChange:n=>t(c(c({},e),{},{startDate:n.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("label",{children:"Ng\xe0y k\u1ebft th\xfac: "}),(0,kt.jsx)("input",{type:"date",value:e.endDate,onChange:n=>t(c(c({},e),{},{endDate:n.target.value})),style:{width:"100%",padding:"5px"},required:!0})]}),(0,kt.jsxs)("div",{style:{marginTop:"10px"},children:[(0,kt.jsx)("button",{type:"submit",style:{backgroundColor:"#4CAF50",color:"white",padding:"5px 10px",border:"none",cursor:"pointer",marginRight:"10px"},children:"T\u1ea1o"}),(0,kt.jsx)("button",{type:"button",style:{backgroundColor:"#ccc",color:"black",padding:"5px 10px",border:"none",cursor:"pointer"},onClick:()=>s("../manage_promotion"),children:"H\u1ee7y"})]})]})]})}const cm=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const i=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!um(i,a)&&r||Object.defineProperty(e,n,a)},um=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},hm=(e,t)=>"/* Wrapped ".concat(e,"*/\n").concat(t),dm=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),fm=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function pm(e,t){let{ignoreNonConfigurable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:r}=e;for(const i of Reflect.ownKeys(t))cm(e,t,i,n);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":"with ".concat(n.trim(),"() "),i=hm.bind(null,r,t.toString());Object.defineProperty(i,"name",fm);const{writable:a,enumerable:o,configurable:s}=dm;Object.defineProperty(e,"toString",{value:i,writable:a,enumerable:o,configurable:s})})(e,t,r),e}const gm=new WeakMap,mm=new WeakMap;function ym(e){let{cacheKey:t,cache:n=new Map,maxAge:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===r)return e;if("number"===typeof r){const e=2147483647;if(r>e)throw new TypeError("The `maxAge` option cannot exceed ".concat(e,"."));if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];const s=t?t(a):a[0],l=n.get(s);if(l)return l.data;const c=e.apply(this,a),u="function"===typeof r?r(...a):r;if(n.set(s,{data:c,maxAge:u?Date.now()+u:Number.POSITIVE_INFINITY}),u&&u>0&&u!==Number.POSITIVE_INFINITY){var h,d;const t=setTimeout((()=>{n.delete(s)}),u);null===(h=t.unref)||void 0===h||h.call(t);const r=null!==(d=mm.get(e))&&void 0!==d?d:new Set;r.add(t),mm.set(e,r)}return c};return pm(i,e,{ignoreNonConfigurable:!0}),gm.set(i,n),i}function vm(e){return"string"===typeof e}function bm(e,t,n){return n.indexOf(e)===t}function xm(e){return-1===e.indexOf(",")?e:e.split(",")}function wm(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return wm(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return wm(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,i=e.split("-"),a=i[0],o=i[1],s=void 0===o?"":o;return"".concat(a,"-").concat(s.toUpperCase())}var _m=ym((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,a=void 0===i?"en-US":i,o=[];if("undefined"!==typeof navigator){for(var s=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];s=s.concat(xm(u))}var h=navigator.language,d=h?xm(h):h;o=o.concat(s,d)}return r&&o.push(a),o.filter(vm).map(wm).filter(bm)}),{cacheKey:JSON.stringify});var Sm=ym((function(e){return _m(e)[0]||null}),{cacheKey:JSON.stringify});const km=Sm;function Tm(e,t,n){return function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a=e(r)+i;return t(a)}}function Em(e){return function(t){return new Date(e(t).getTime()-1)}}function Cm(e,t){return function(n){return[e(n),t(n)]}}function Dm(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;const t=Number.parseInt(e,10);if("string"===typeof e&&!Number.isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Nm(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Im(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Am(e){const t=Dm(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const Mm=Tm(Dm,Am,-100),Om=Tm(Dm,Am,100),Pm=Em(Om),Lm=Tm(Dm,Pm,-100),jm=(Tm(Dm,Pm,100),Cm(Am,Pm));function Rm(e){const t=Dm(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const Fm=Tm(Dm,Rm,-10),zm=Tm(Dm,Rm,10),Vm=Em(zm),Bm=Tm(Dm,Vm,-10),Um=(Tm(Dm,Vm,10),Cm(Rm,Vm));function Hm(e){const t=Dm(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}const qm=Tm(Dm,Hm,-1),Wm=Tm(Dm,Hm,1),Km=Em(Wm),Qm=Tm(Dm,Km,-1),Gm=(Tm(Dm,Km,1),Cm(Hm,Km));function Ym(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const i=Dm(n),a=Nm(n)+r,o=new Date;return o.setFullYear(i,a,1),o.setHours(0,0,0,0),e(o)}}function Xm(e){const t=Dm(e),n=Nm(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}const $m=Ym(Xm,-1),Jm=Ym(Xm,1),Zm=Em(Jm),ey=Ym(Zm,-1),ty=(Ym(Zm,1),Cm(Xm,Zm));function ny(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const i=Dm(n),a=Nm(n),o=Im(n)+r,s=new Date;return s.setFullYear(i,a,o),s.setHours(0,0,0,0),e(s)}}function ry(e){const t=Dm(e),n=Nm(e),r=Im(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}ny(ry,-1);const iy=Em(ny(ry,1)),ay=(ny(iy,-1),ny(iy,1),Cm(ry,iy));function oy(e){return Im(Zm(e))}var sy="gregory",ly="hebrew",cy="islamic",uy="iso8601",hy={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},dy=[0,1,2,3,4,5,6],fy=new Map;function py(e){return function(t,n){return function(e){return function(t,n){var r=t||km();fy.has(r)||fy.set(r,new Map);var i=fy.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}py({day:"numeric",month:"numeric",year:"numeric"});var gy=py({day:"numeric"}),my=py({day:"numeric",month:"long",year:"numeric"}),yy=py({month:"long"}),vy=py({month:"long",year:"numeric"}),by=py({weekday:"short"}),xy=py({weekday:"long"}),wy=py({year:"numeric"}),_y=dy[0],Sy=dy[5],ky=dy[6];function Ty(e,t){void 0===t&&(t=uy);var n=e.getDay();switch(t){case uy:return(n+6)%7;case cy:return(n+1)%7;case ly:case sy:return n;default:throw new Error("Unsupported calendar type.")}}function Ey(e,t){void 0===t&&(t=uy);var n=Dm(e),r=Nm(e),i=e.getDate()-Ty(e,t);return new Date(n,r,i)}function Cy(e,t){switch(e){case"century":return Am(t);case"decade":return Rm(t);case"year":return Hm(t);case"month":return Xm(t);case"day":return ry(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Dy(e,t){switch(e){case"century":return Om(t);case"decade":return zm(t);case"year":return Wm(t);case"month":return Jm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ny(e,t){switch(e){case"century":return Pm(t);case"decade":return Vm(t);case"year":return Km(t);case"month":return Zm(t);case"day":return iy(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Iy(e,t){switch(e){case"century":return jm(t);case"decade":return Um(t);case"year":return Gm(t);case"month":return ty(t);case"day":return ay(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ay(e,t,n){return n.map((function(n){return(t||wy)(e,n)})).join(" \u2013 ")}function My(e,t,n){return Ay(e,t,Um(n))}function Oy(e,t){void 0===t&&(t=uy);var n=e.getDay();switch(t){case cy:case ly:return n===Sy||n===ky;case uy:case sy:return n===ky||n===_y;default:throw new Error("Unsupported calendar type.")}}var Py="react-calendar__navigation";function Ly(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?vy:r,a=e.formatYear,o=void 0===a?wy:a,s=e.locale,l=e.maxDate,c=e.minDate,u=e.navigationAriaLabel,h=void 0===u?"":u,d=e.navigationAriaLive,f=e.navigationLabel,p=e.next2AriaLabel,g=void 0===p?"":p,m=e.next2Label,y=void 0===m?"\xbb":m,v=e.nextAriaLabel,b=void 0===v?"":v,x=e.nextLabel,w=void 0===x?"\u203a":x,_=e.prev2AriaLabel,S=void 0===_?"":_,k=e.prev2Label,T=void 0===k?"\xab":k,E=e.prevAriaLabel,C=void 0===E?"":E,D=e.prevLabel,N=void 0===D?"\u2039":D,I=e.setActiveStartDate,A=e.showDoubleView,M=e.view,O=e.views.indexOf(M)>0,P="century"!==M,L=function(e,t){switch(e){case"century":return Mm(t);case"decade":return Fm(t);case"year":return qm(t);case"month":return $m(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t),j=P?function(e,t){switch(e){case"decade":return Fm(t,-100);case"year":return qm(t,-10);case"month":return $m(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t):void 0,R=Dy(M,t),F=P?function(e,t){switch(e){case"decade":return zm(t,100);case"year":return Wm(t,10);case"month":return Jm(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t):void 0,z=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Lm(t);case"decade":return Bm(t);case"year":return Qm(t);case"month":return ey(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t);return c&&c>=e}(),V=P&&function(){if(j.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Bm(t,-100);case"year":return Qm(t,-10);case"month":return ey(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t);return c&&c>=e}(),B=l&&l<R,U=P&&l&&l<F;function H(e){var t=function(){switch(M){case"century":return function(e,t,n){return Ay(e,t,jm(n))}(s,o,e);case"decade":return My(s,o,e);case"year":return o(s,e);case"month":return i(s,e);default:throw new Error("Invalid view: ".concat(M,"."))}}();return f?f({date:e,label:t,locale:s||Sm()||void 0,view:M}):t}return(0,kt.jsxs)("div",{className:Py,children:[null!==T&&P?(0,kt.jsx)("button",{"aria-label":S,className:"".concat(Py,"__arrow ").concat(Py,"__prev2-button"),disabled:V,onClick:function(){I(j,"prev2")},type:"button",children:T}):null,null!==N&&(0,kt.jsx)("button",{"aria-label":C,className:"".concat(Py,"__arrow ").concat(Py,"__prev-button"),disabled:z,onClick:function(){I(L,"prev")},type:"button",children:N}),function(){var e="".concat(Py,"__label");return(0,kt.jsxs)("button",{"aria-label":h,"aria-live":d,className:e,disabled:!O,onClick:n,style:{flexGrow:1},type:"button",children:[(0,kt.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:H(t)}),A?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,kt.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:H(R)})]}):null]})}(),null!==w&&(0,kt.jsx)("button",{"aria-label":b,className:"".concat(Py,"__arrow ").concat(Py,"__next-button"),disabled:B,onClick:function(){I(R,"next")},type:"button",children:w}),null!==y&&P?(0,kt.jsx)("button",{"aria-label":g,className:"".concat(Py,"__arrow ").concat(Py,"__next2-button"),disabled:U,onClick:function(){I(F,"next2")},type:"button",children:y}):null]})}var jy=function(){return jy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jy.apply(this,arguments)},Ry=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Fy(e){return"".concat(e,"%")}function zy(e){var t=e.children,n=e.className,i=e.count,a=e.direction,o=e.offset,s=e.style,l=e.wrap,c=Ry(e,["children","className","count","direction","offset","style","wrap"]);return(0,kt.jsx)("div",jy({className:n,style:jy({display:"flex",flexDirection:a,flexWrap:l?"wrap":"nowrap"},s)},c,{children:r.Children.map(t,(function(e,t){var n=o&&0===t?Fy(100*o/i):null;return(0,r.cloneElement)(e,jy(jy({},e.props),{style:{flexBasis:Fy(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))}))}))}function Vy(e,t){return t[0]<=e&&t[1]>=e}function By(e,t){return Vy(e[0],t)||Vy(e[1],t)}function Uy(e,t,n){var r=[];if(By(t,e)){r.push(n);var i=Vy(e[0],t),a=Vy(e[1],t);i&&r.push("".concat(n,"Start")),a&&r.push("".concat(n,"End")),i&&a&&r.push("".concat(n,"BothEnds"))}return r}function Hy(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",a=[i];if(!n)return a;var o=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Iy(t,n)}();if(Vy(o,s)&&a.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return a;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Iy(n,t)}();c=s,(l=u)[0]<=c[0]&&l[1]>=c[1]?a.push("".concat(i,"--active")):By(u,s)&&a.push("".concat(i,"--hasActive"));var h=Uy(u,s,"".concat(i,"--range"));a.push.apply(a,h);var d=Array.isArray(t)?t:[t];if(r&&1===d.length){var f=Uy(r>u[0]?[u[0],r]:[r,u[0]],s,"".concat(i,"--hover"));a.push.apply(a,f)}return a}function qy(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,a=e.dateType,o=e.end,s=e.hover,l=e.offset,c=e.renderTile,u=e.start,h=e.step,d=void 0===h?1:h,f=e.value,p=e.valueType,g=[],m=u;m<=o;m+=d){var y=i(m);g.push(c({classes:Hy({date:y,dateType:a,hover:s,value:f,valueType:p}),date:y}))}return(0,kt.jsx)(zy,{className:t,count:r,offset:l,wrap:!0,children:g})}function Wy(e){var t=e.activeStartDate,n=e.children,i=e.classes,a=e.date,o=e.formatAbbr,s=e.locale,l=e.maxDate,c=e.maxDateTransform,u=e.minDate,h=e.minDateTransform,d=e.onClick,f=e.onMouseOver,p=e.style,g=e.tileClassName,m=e.tileContent,y=e.tileDisabled,v=e.view,b=(0,r.useMemo)((function(){return"function"===typeof g?g({activeStartDate:t,date:a,view:v}):g}),[t,a,g,v]),x=(0,r.useMemo)((function(){return"function"===typeof m?m({activeStartDate:t,date:a,view:v}):m}),[t,a,m,v]);return(0,kt.jsxs)("button",{className:Nt(i,b),disabled:u&&h(u)>a||l&&c(l)<a||(null===y||void 0===y?void 0:y({activeStartDate:t,date:a,view:v})),onClick:d?function(e){return d(a,e)}:void 0,onFocus:f?function(){return f(a)}:void 0,onMouseOver:f?function(){return f(a)}:void 0,style:p,type:"button",children:[o?(0,kt.jsx)("abbr",{"aria-label":o(s,a),children:n}):n,x]})}var Ky=function(){return Ky=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ky.apply(this,arguments)},Qy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gy="react-calendar__century-view__decades__decade";function Yy(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,i=e.formatYear,a=void 0===i?wy:i,o=Qy(e,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),Gy&&c.push(Gy),Am(s).getFullYear()!==r&&c.push("".concat(Gy,"--neighboringCentury")),(0,kt.jsx)(Wy,Ky({},o,{classes:c,maxDateTransform:Vm,minDateTransform:Rm,view:"century",children:My(l,a,s)}))}var Xy=function(){return Xy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xy.apply(this,arguments)},$y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Jy(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,a=e.valueType,o=$y(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=Dm(Am(t)),l=s+(r?119:99);return(0,kt.jsx)(qy,{className:"react-calendar__century-view__decades",dateTransform:Rm,dateType:"decade",end:l,hover:n,renderTile:function(e){var n=e.date,r=$y(e,["date"]);return(0,kt.jsx)(Yy,Xy({},o,r,{activeStartDate:t,currentCentury:s,date:n}),n.getTime())},start:s,step:10,value:i,valueType:a})}var Zy=function(){return Zy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zy.apply(this,arguments)};function ev(e){return(0,kt.jsx)("div",{className:"react-calendar__century-view",children:(0,kt.jsx)(Jy,Zy({},e))})}var tv=function(){return tv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tv.apply(this,arguments)},nv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rv="react-calendar__decade-view__years__year";function iv(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,i=e.formatYear,a=void 0===i?wy:i,o=nv(e,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),rv&&c.push(rv),Rm(s).getFullYear()!==r&&c.push("".concat(rv,"--neighboringDecade")),(0,kt.jsx)(Wy,tv({},o,{classes:c,maxDateTransform:Km,minDateTransform:Hm,view:"decade",children:a(l,s)}))}var av=function(){return av=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},av.apply(this,arguments)},ov=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sv(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,a=e.valueType,o=ov(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=Dm(Rm(t)),l=s+(r?11:9);return(0,kt.jsx)(qy,{className:"react-calendar__decade-view__years",dateTransform:Hm,dateType:"year",end:l,hover:n,renderTile:function(e){var n=e.date,r=ov(e,["date"]);return(0,kt.jsx)(iv,av({},o,r,{activeStartDate:t,currentDecade:s,date:n}),n.getTime())},start:s,value:i,valueType:a})}var lv=function(){return lv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lv.apply(this,arguments)};function cv(e){return(0,kt.jsx)("div",{className:"react-calendar__decade-view",children:(0,kt.jsx)(sv,lv({},e))})}var uv=function(){return uv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uv.apply(this,arguments)},hv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dv=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function fv(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,i=void 0===r?yy:r,a=e.formatMonthYear,o=void 0===a?vy:a,s=hv(e,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return(0,kt.jsx)(Wy,uv({},s,{classes:dv(dv([],n,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:o,maxDateTransform:Zm,minDateTransform:Xm,view:"year",children:i(c,l)}))}var pv=function(){return pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pv.apply(this,arguments)},gv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mv(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,a=gv(e,["activeStartDate","hover","value","valueType"]),o=Dm(t);return(0,kt.jsx)(qy,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(o,e,1),Xm(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=gv(e,["date"]);return(0,kt.jsx)(fv,pv({},a,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:i})}var yv=function(){return yv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yv.apply(this,arguments)};function vv(e){return(0,kt.jsx)("div",{className:"react-calendar__year-view",children:(0,kt.jsx)(mv,yv({},e))})}var bv=function(){return bv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bv.apply(this,arguments)},xv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wv="react-calendar__month-view__days__day";function _v(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,i=e.currentMonthIndex,a=e.formatDay,o=void 0===a?gy:a,s=e.formatLongDate,l=void 0===s?my:s,c=xv(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=c.date,h=c.locale,d=[];return r&&d.push.apply(d,r),wv&&d.push(wv),Oy(u,t)&&d.push("".concat(wv,"--weekend")),u.getMonth()!==i&&d.push("".concat(wv,"--neighboringMonth")),(0,kt.jsx)(Wy,bv({},c,{classes:d,formatAbbr:l,maxDateTransform:iy,minDateTransform:ry,view:"month",children:o(h,u)}))}var Sv=function(){return Sv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sv.apply(this,arguments)},kv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Tv(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,s=e.valueType,l=kv(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Dm(t),u=Nm(t),h=i||a,d=Ty(t,n),f=h?0:d,p=1+(h?-d:0),g=function(){if(i)return p+42-1;var e=oy(t);if(a){var r=new Date;return r.setFullYear(c,u,e),r.setHours(0,0,0,0),e+(7-Ty(r,n)-1)}return e}();return(0,kt.jsx)(qy,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,u,e),ry(t)},dateType:"day",hover:r,end:g,renderTile:function(e){var r=e.date,i=kv(e,["date"]);return(0,kt.jsx)(_v,Sv({},l,i,{activeStartDate:t,calendarType:n,currentMonthIndex:u,date:r}),r.getTime())},offset:f,start:p,value:o,valueType:s})}var Ev="react-calendar__month-view__weekdays",Cv="".concat(Ev,"__weekday");function Dv(e){for(var t,n=e.calendarType,r=e.formatShortWeekday,i=void 0===r?by:r,a=e.formatWeekday,o=void 0===a?xy:a,s=e.locale,l=e.onMouseLeave,c=Xm(new Date),u=Dm(c),h=Nm(c),d=[],f=1;f<=7;f+=1){var p=new Date(u,h,f-Ty(c,n)),g=o(s,p);d.push((0,kt.jsx)("div",{className:Nt(Cv,(t=p,t.getDay()===(new Date).getDay()&&"".concat(Cv,"--current")),Oy(p,n)&&"".concat(Cv,"--weekend")),children:(0,kt.jsx)("abbr",{"aria-label":g,title:g,children:i(s,p).replace(".","")})},f))}return(0,kt.jsx)(zy,{className:Ev,count:7,onFocus:l,onMouseOver:l,children:d})}var Nv=function(){return Nv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nv.apply(this,arguments)},Iv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Av="react-calendar__tile";function Mv(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=(0,kt.jsx)("span",{children:n});if(t){var i=e.date,a=e.onClickWeekNumber,o=e.weekNumber,s=Iv(e,["date","onClickWeekNumber","weekNumber"]);return(0,kt.jsx)("button",Nv({},s,{className:Av,onClick:function(e){return a(o,i,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber,s=Iv(e,["date","onClickWeekNumber","weekNumber"]);return(0,kt.jsx)("div",Nv({},s,{className:Av,children:r}))}function Ov(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=function(){if(a)return 6;var e=oy(t)-(7-Ty(t,n));return 1+Math.ceil(e/7)}(),s=function(){for(var e=Dm(t),r=Nm(t),i=Im(t),a=[],s=0;s<o;s+=1)a.push(Ey(new Date(e,r,i+7*s),n));return a}(),l=s.map((function(e){return function(e,t){void 0===t&&(t=uy);var n,r=t===sy?sy:uy,i=Ey(e,t),a=Dm(e)+1;do{n=Ey(new Date(a,0,r===uy?4:1),t),a-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,n)}));return(0,kt.jsx)(zy,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map((function(e,t){var n=s[t];if(!n)throw new Error("date is not defined");return(0,kt.jsx)(Mv,{date:n,onClickWeekNumber:r,weekNumber:e},e)}))})}var Pv=function(){return Pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pv.apply(this,arguments)},Lv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jv(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,o=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(hy);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return uy}(n):a,s=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,u=e.showWeekNumbers,h=Lv(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var d="react-calendar__month-view";return(0,kt.jsx)("div",{className:Nt(d,u?"".concat(d,"--weekNumbers"):""),children:(0,kt.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[u?(0,kt.jsx)(Ov,{activeStartDate:t,calendarType:o,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,(0,kt.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,kt.jsx)(Dv,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),(0,kt.jsx)(Tv,Pv({calendarType:o},h))]})]})})}var Rv=function(){return Rv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rv.apply(this,arguments)},Fv="react-calendar",zv=["century","decade","year","month"],Vv=["decade","year","month","day"],Bv=new Date;Bv.setFullYear(1,0,1),Bv.setHours(0,0,0,0);var Uv=new Date(864e13);function Hv(e){return e instanceof Date?e:new Date(e)}function qv(e,t){return zv.slice(zv.indexOf(e),zv.indexOf(t)+1)}function Wv(e,t,n){return e&&function(e,t,n){return-1!==qv(t,n).indexOf(e)}(e,t,n)?e:n}function Kv(e){var t=zv.indexOf(e);return Vv[t]}function Qv(e,t){var n=e.value,r=e.minDate,i=e.maxDate,a=e.maxDetail,o=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Hv(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!o)return null;var s=Kv(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Cy(s,o);case 1:return Ny(s,o);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var Gv=function(e){return Qv(e,0)},Yv=function(e){return Qv(e,1)},Xv=function(e){return[Gv,Yv].map((function(t){return t(e)}))};function $v(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,a=e.value;return Cy(Wv(e.view,i,n),Gv({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date)}function Jv(e){return e&&(!Array.isArray(e)||1===e.length)}function Zv(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var eb=(0,r.forwardRef)((function(e,t){var n=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,o=e.className,s=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,u=e.formatDay,h=e.formatLongDate,d=e.formatMonth,f=e.formatMonthYear,p=e.formatShortWeekday,g=e.formatWeekday,m=e.formatYear,y=e.goToRangeStartOnSelect,v=void 0===y||y,b=e.inputRef,x=e.locale,w=e.maxDate,_=void 0===w?Uv:w,S=e.maxDetail,k=void 0===S?"month":S,T=e.minDate,E=void 0===T?Bv:T,C=e.minDetail,D=void 0===C?"century":C,N=e.navigationAriaLabel,I=e.navigationAriaLive,A=e.navigationLabel,M=e.next2AriaLabel,O=e.next2Label,P=e.nextAriaLabel,L=e.nextLabel,j=e.onActiveStartDateChange,R=e.onChange,F=e.onClickDay,z=e.onClickDecade,V=e.onClickMonth,B=e.onClickWeekNumber,U=e.onClickYear,H=e.onDrillDown,q=e.onDrillUp,W=e.onViewChange,K=e.prev2AriaLabel,Q=e.prev2Label,G=e.prevAriaLabel,Y=e.prevLabel,X=e.returnValue,$=void 0===X?"start":X,J=e.selectRange,Z=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringCentury,ie=e.showNeighboringDecade,ae=e.showNeighboringMonth,oe=void 0===ae||ae,se=e.showWeekNumbers,le=e.tileClassName,ce=e.tileContent,ue=e.tileDisabled,he=e.value,de=e.view,fe=(0,r.useState)(s),pe=fe[0],ge=fe[1],me=(0,r.useState)(null),ye=me[0],ve=me[1],be=(0,r.useState)(Array.isArray(l)?l.map((function(e){return null!==e?Hv(e):null})):null!==l&&void 0!==l?Hv(l):null),xe=be[0],we=be[1],_e=(0,r.useState)(c),Se=_e[0],ke=_e[1],Te=n||pe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,a=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,c=e.value,u=e.view,h=Wv(u,l,o),d=t||n;return d?Cy(h,d):$v({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:c||r,view:u||i})}({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:c,maxDate:_,maxDetail:k,minDate:E,minDetail:D,value:he,view:de}),Ee=function(){var e=J&&Jv(xe)?xe:void 0!==he?he:xe;return e?Array.isArray(e)?e.map((function(e){return null!==e?Hv(e):null})):null!==e?Hv(e):null:null}(),Ce=Kv(k),De=Wv(de||Se,D,k),Ne=qv(D,k),Ie=J?ye:null,Ae=Ne.indexOf(De)<Ne.length-1,Me=Ne.indexOf(De)>0,Oe=(0,r.useCallback)((function(e){return function(){switch($){case"start":return Gv;case"end":return Yv;case"range":return Xv;default:throw new Error("Invalid returnValue.")}}()({maxDate:_,maxDetail:k,minDate:E,value:e})}),[_,k,E,$]),Pe=(0,r.useCallback)((function(e,t){ge(e);var n={action:t,activeStartDate:e,value:Ee,view:De};j&&!Zv(Te,e)&&j(n)}),[Te,j,Ee,De]),Le=(0,r.useCallback)((function(e,t){var n=function(){switch(De){case"century":return z;case"decade":return U;case"year":return V;case"month":return F;default:throw new Error("Invalid view: ".concat(De,"."))}}();n&&n(e,t)}),[F,z,V,U,De]),je=(0,r.useCallback)((function(e,t){if(Ae){Le(e,t);var n=Ne[Ne.indexOf(De)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");ge(e),ke(n);var r={action:"drillDown",activeStartDate:e,value:Ee,view:n};j&&!Zv(Te,e)&&j(r),W&&De!==n&&W(r),H&&H(r)}}),[Te,Ae,j,Le,H,W,Ee,De,Ne]),Re=(0,r.useCallback)((function(){if(Me){var e=Ne[Ne.indexOf(De)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Cy(e,Te);ge(t),ke(e);var n={action:"drillUp",activeStartDate:t,value:Ee,view:e};j&&!Zv(Te,t)&&j(n),W&&De!==e&&W(n),q&&q(n)}}),[Te,Me,j,q,W,Ee,De,Ne]),Fe=(0,r.useCallback)((function(e,t){var n=Ee;Le(e,t);var r,a=J&&!Jv(n);if(J)if(a)r=Cy(Ce,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[Cy(e,r[0]),Ny(e,r[1])]}(Ce,n,e)}else r=Oe(e);var o=!J||a||v?$v({maxDate:_,maxDetail:k,minDate:E,minDetail:D,value:r,view:De}):null;t.persist(),ge(o),we(r);var s={action:"onChange",activeStartDate:o,value:r,view:De};if(j&&!Zv(Te,o)&&j(s),R)if(J)if(Jv(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");R([r||null,null],t)}}else R(r||null,t);else R(r||null,t)}),[Te,i,Oe,v,_,k,E,D,j,R,Le,J,Ee,Ce,De]);function ze(e){ve(e)}function Ve(){ve(null)}function Be(e){var t={activeStartDate:e?Dy(De,Te):Cy(De,Te),hover:Ie,locale:x,maxDate:_,minDate:E,onClick:Ae?je:Fe,onMouseOver:J?ze:void 0,tileClassName:le,tileContent:ce,tileDisabled:ue,value:Ee,valueType:Ce};switch(De){case"century":return(0,kt.jsx)(ev,Rv({formatYear:m,showNeighboringCentury:re},t));case"decade":return(0,kt.jsx)(cv,Rv({formatYear:m,showNeighboringDecade:ie},t));case"year":return(0,kt.jsx)(vv,Rv({formatMonth:d,formatMonthYear:f},t));case"month":return(0,kt.jsx)(jv,Rv({calendarType:a,formatDay:u,formatLongDate:h,formatShortWeekday:p,formatWeekday:g,onClickWeekNumber:B,onMouseLeave:J?Ve:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Z,showNeighboringMonth:oe,showWeekNumbers:se},t));default:throw new Error("Invalid view: ".concat(De,"."))}}(0,r.useImperativeHandle)(t,(function(){return{activeStartDate:Te,drillDown:je,drillUp:Re,onChange:Fe,setActiveStartDate:Pe,value:Ee,view:De}}),[Te,je,Re,Fe,Pe,Ee,De]);var Ue=Array.isArray(Ee)?Ee:[Ee];return(0,kt.jsxs)("div",{className:Nt(Fv,J&&1===Ue.length&&"".concat(Fv,"--selectRange"),Z&&"".concat(Fv,"--doubleView"),o),ref:b,children:[ne?(0,kt.jsx)(Ly,{activeStartDate:Te,drillUp:Re,formatMonthYear:f,formatYear:m,locale:x,maxDate:_,minDate:E,navigationAriaLabel:N,navigationAriaLive:I,navigationLabel:A,next2AriaLabel:M,next2Label:O,nextAriaLabel:P,nextLabel:L,prev2AriaLabel:K,prev2Label:Q,prevAriaLabel:G,prevLabel:Y,setActiveStartDate:Pe,showDoubleView:Z,view:De,views:Ne}):null,(0,kt.jsxs)("div",{className:"".concat(Fv,"__viewContainer"),onBlur:J?Ve:void 0,onMouseLeave:J?Ve:void 0,children:[Be(),Z?Be(!0):null]})]})}));const tb=eb;function nb(){var e;const[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)([]),[l,u]=(0,r.useState)([]),[h,d]=(0,r.useState)(new Date),[f,p]=(0,r.useState)((new Date).getMonth()),[g,m]=(0,r.useState)((new Date).getFullYear()),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)(""),[w,_]=(0,r.useState)(""),[S,k]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{v(!0);try{const e=(await wp(df(Yg,"movies"))).docs.map((e=>c({id:e.id},e.data())));a(e);const t=(await wp(df(Yg,"theaters"))).docs.map((e=>c({id:e.id},e.data())));s(t);const r=(await wp(df(Yg,"screeningRoom"))).docs.map((e=>c({id:e.id},e.data())));u(r);const i=(await wp(df(Yg,"screening"))).docs.map((e=>{var t,n;const r=e.data();return c(c({id:e.id},r),{},{dateTimeStart:null!==(t=r.dateTimeStart)&&void 0!==t&&t.toDate?r.dateTimeStart.toDate():new Date(r.dateTimeStart),dateTimeEnd:null!==(n=r.dateTimeEnd)&&void 0!==n&&n.toDate?r.dateTimeEnd.toDate():new Date(r.dateTimeEnd)})})),o=i.map((n=>{const i=e.find((e=>e.id===n.idMovie)),a=r.find((e=>e.idScreenRoom===n.idScreenRoom)),o=t.find((e=>e.id===(null===a||void 0===a?void 0:a.idTheater)));return c(c({},n),{},{movieName:(null===i||void 0===i?void 0:i.nameMovie)||"Phim kh\xf4ng x\xe1c \u0111\u1ecbnh",movieGenre:(null===i||void 0===i?void 0:i.genreMovie)||"",movieDuration:(null===i||void 0===i?void 0:i.durationMovie)||0,theaterName:(null===o||void 0===o?void 0:o.nameTheater)||"R\u1ea1p kh\xf4ng x\xe1c \u0111\u1ecbnh",theaterProvince:(null===o||void 0===o?void 0:o.nameProvince)||"",screenRoomName:(null===a||void 0===a?void 0:a.nameScreenRoom)||"Ph\xf2ng kh\xf4ng x\xe1c \u0111\u1ecbnh",theaterId:(null===o||void 0===o?void 0:o.id)||""})}));n(o),k(o)}catch(e){console.error("L\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u:",e)}finally{v(!1)}})()}),[]),(0,r.useEffect)((()=>{let e=t.filter((e=>e.stateScreening));b&&(e=e.filter((e=>e.theaterProvince===b))),w&&(e=e.filter((e=>e.theaterId===w))),k(e)}),[t,b,w]);const T=e=>{const t=new Date(e);return t.setHours(0,0,0,0),S.filter((e=>{const n=new Date(e.dateTimeStart);return n.setHours(0,0,0,0),n.getTime()===t.getTime()}))},E=()=>T(h);return y?(0,kt.jsx)(yn,{}):(0,kt.jsxs)("div",{style:{maxWidth:"1200px",margin:"auto"},children:[(0,kt.jsx)("style",{children:"\n        .has-screenings {\n          background-color: #f0f8ff !important;\n          border: 2px solid #1976d2 !important;\n        }\n        .react-calendar__tile {\n          position: relative;\n          height: 80px !important;\n          padding: 2px !important;\n        }\n        .react-calendar__tile--active {\n          background-color: #1976d2 !important;\n          color: white !important;\n        }\n        .react-calendar__tile--active:hover {\n          background-color: #1565c0 !important;\n        }\n        .react-calendar {\n          border: 1px solid #ddd;\n          border-radius: 8px;\n          box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n      "}),(0,kt.jsx)("h1",{style:{textAlign:"center",marginBottom:"20px",color:"#333",borderBottom:"2px solid #1976d2",paddingBottom:"10px"},children:"L\u1ecbch Chi\u1ebfu Phim"}),(0,kt.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{style:{marginRight:"5px",fontWeight:"bold"},children:"T\u1ec9nh/Th\xe0nh:"}),(0,kt.jsxs)("select",{value:b,onChange:e=>{const t=e.target.value;x(t),_("")},style:{padding:"5px 10px",borderRadius:"4px",border:"1px solid #ddd",minWidth:"150px"},children:[(0,kt.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 t\u1ec9nh/th\xe0nh"}),[...new Set(o.map((e=>e.nameProvince)))].map(((e,t)=>(0,kt.jsx)("option",{value:e,children:e},t)))]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{style:{marginRight:"5px",fontWeight:"bold"},children:"R\u1ea1p chi\u1ebfu:"}),(0,kt.jsxs)("select",{value:w,onChange:e=>{_(e.target.value)},style:{padding:"5px 10px",borderRadius:"4px",border:"1px solid #ddd",minWidth:"150px"},disabled:!b,children:[(0,kt.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 r\u1ea1p"}),(b?o.filter((e=>e.nameProvince===b)):[]).map((e=>(0,kt.jsx)("option",{value:e.id,children:e.nameTheater},e.id)))]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{style:{marginRight:"5px",fontWeight:"bold"},children:"Th\xe1ng:"}),(0,kt.jsx)("select",{value:f,onChange:e=>{const t=Number(e.target.value);p(t),d(new Date(g,t,1))},style:{padding:"5px 10px",borderRadius:"4px",border:"1px solid #ddd"},children:Array.from({length:12}).map(((e,t)=>(0,kt.jsx)("option",{value:t,children:"Th\xe1ng ".concat(t+1)},t)))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{style:{marginRight:"5px",fontWeight:"bold"},children:"N\u0103m:"}),(0,kt.jsx)("select",{value:g,onChange:e=>{const t=Number(e.target.value);m(t),d(new Date(t,f,1))},style:{padding:"5px 10px",borderRadius:"4px",border:"1px solid #ddd"},children:Array.from({length:15}).map(((e,t)=>{const n=(new Date).getFullYear()-2+t;return(0,kt.jsx)("option",{value:n,children:n},n)}))})]})]}),(0,kt.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,kt.jsx)("div",{style:{flex:1},children:(0,kt.jsx)(tb,{value:h,onChange:d,tileContent:e=>{let{date:t,view:n}=e;if("month"===n){const e=T(t),n=2,r=e.slice(0,n);return 0===e.length?null:(0,kt.jsxs)("div",{style:{fontSize:"10px",padding:"2px",minHeight:"30px"},children:[r.map(((e,t)=>(0,kt.jsxs)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"#e3f2fd",margin:"1px 0",padding:"1px 3px",borderRadius:"3px",color:"#1976d2"},children:["\ud83c\udfac ",e.movieName]},t))),e.length>n&&(0,kt.jsxs)("div",{style:{color:"#666",fontSize:"9px",textAlign:"center",fontStyle:"italic"},children:["+",e.length-n," su\u1ea5t"]})]})}},tileClassName:e=>{let{date:t,view:n}=e;if("month"===n){if(T(t).length>0)return"has-screenings"}return null},activeStartDate:new Date(g,f,1),locale:"vi-VN"})}),(0,kt.jsxs)("div",{style:{width:"300px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,kt.jsxs)("h3",{style:{marginTop:0,color:"#495057",borderBottom:"1px solid #dee2e6",paddingBottom:"10px"},children:["Su\u1ea5t chi\u1ebfu ng\xe0y ",h.toLocaleDateString("vi-VN")]}),E().length>0?(0,kt.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:E().map(((e,t)=>(0,kt.jsxs)("div",{style:{padding:"10px",marginBottom:"10px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #e9ecef",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,kt.jsx)("div",{style:{fontWeight:"bold",color:"#1976d2",marginBottom:"5px"},children:e.movieName}),(0,kt.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginBottom:"3px"},children:["\ud83c\udfe2 ",e.theaterName]}),(0,kt.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginBottom:"3px"},children:["\ud83c\udfe0 ",e.screenRoomName]}),(0,kt.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:(0,kt.jsxs)("div",{children:["\u23f0 ",e.dateTimeStart.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})," - ",e.dateTimeEnd.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})})]},t)))}):(0,kt.jsx)("div",{style:{textAlign:"center",color:"#6c757d",padding:"20px",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 su\u1ea5t chi\u1ebfu n\xe0o trong ng\xe0y n\xe0y"})]})]}),(0,kt.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"6px",fontSize:"14px"},children:[(0,kt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,kt.jsx)("strong",{children:"Ch\xfa th\xedch:"})," C\xe1c ng\xe0y c\xf3 vi\u1ec1n xanh l\xe0 ng\xe0y c\xf3 su\u1ea5t chi\u1ebfu phim"]}),(0,kt.jsxs)("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[(0,kt.jsxs)("div",{children:["\ud83d\udcca T\u1ed5ng su\u1ea5t chi\u1ebfu: ",(0,kt.jsx)("strong",{children:S.length})]}),(0,kt.jsxs)("div",{children:["\ud83c\udfac Phim \u0111ang chi\u1ebfu: ",(0,kt.jsx)("strong",{children:[...new Set(S.map((e=>e.movieName)))].length})]}),b&&(0,kt.jsxs)("div",{children:["\ud83d\udccd T\u1ec9nh/Th\xe0nh: ",(0,kt.jsx)("strong",{children:b})]}),w&&(0,kt.jsxs)("div",{children:["\ud83c\udfe2 R\u1ea1p: ",(0,kt.jsx)("strong",{children:null===(e=o.find((e=>e.id===w)))||void 0===e?void 0:e.nameTheater})]})]})]})]})}function rb(){return(0,kt.jsx)("div",{})}function ib(e){return e+.5|0}const ab=(e,t,n)=>Math.max(Math.min(e,n),t);function ob(e){return ab(ib(2.55*e),0,255)}function sb(e){return ab(ib(255*e),0,255)}function lb(e){return ab(ib(e/2.55)/100,0,1)}function cb(e){return ab(ib(100*e),0,100)}const ub={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hb=[..."0123456789ABCDEF"],db=e=>hb[15&e],fb=e=>hb[(240&e)>>4]+hb[15&e],pb=e=>(240&e)>>4===(15&e);function gb(e){var t=(e=>pb(e.r)&&pb(e.g)&&pb(e.b)&&pb(e.a))(e)?db:fb;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const mb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yb(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function vb(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function bb(e,t,n){const r=yb(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function xb(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o=(i+a)/2;let s,l,c;return i!==a&&(c=i-a,l=o>.5?c/(2-i-a):c/(i+a),s=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),s=60*s+.5),[0|s,l||0,o]}function wb(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(sb)}function _b(e,t,n){return wb(yb,e,t,n)}function Sb(e){return(e%360+360)%360}function kb(e){const t=mb.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?ob(+t[5]):sb(+t[5]));const i=Sb(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return wb(bb,e,t,n)}(i,a,o):"hsv"===t[1]?function(e,t,n){return wb(vb,e,t,n)}(i,a,o):_b(i,a,o),{r:n[0],g:n[1],b:n[2],a:r}}const Tb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Eb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Cb;function Db(e){Cb||(Cb=function(){const e={},t=Object.keys(Eb),n=Object.keys(Tb);let r,i,a,o,s;for(r=0;r<t.length;r++){for(o=s=t[r],i=0;i<n.length;i++)a=n[i],s=s.replace(a,Tb[a]);a=parseInt(Eb[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),Cb.transparent=[0,0,0,0]);const t=Cb[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Nb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ib=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ab=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Mb(e,t,n){if(e){let r=xb(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=_b(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ob(e,t){return e?Object.assign(t||{},e):e}function Pb(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=sb(e[3]))):(t=Ob(e,{r:0,g:0,b:0,a:1})).a=sb(t.a),t}function Lb(e){return"r"===e.charAt(0)?function(e){const t=Nb.exec(e);let n,r,i,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?ob(e):ab(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?ob(n):ab(n,0,255)),r=255&(t[4]?ob(r):ab(r,0,255)),i=255&(t[6]?ob(i):ab(i,0,255)),{r:n,g:r,b:i,a:a}}}(e):kb(e)}class jb{constructor(e){if(e instanceof jb)return e;const t=typeof e;let n;"object"===t?n=Pb(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*ub[e[1]],g:255&17*ub[e[2]],b:255&17*ub[e[3]],a:5===n?17*ub[e[4]]:255}:7!==n&&9!==n||(t={r:ub[e[1]]<<4|ub[e[2]],g:ub[e[3]]<<4|ub[e[4]],b:ub[e[5]]<<4|ub[e[6]],a:9===n?ub[e[7]]<<4|ub[e[8]]:255})),t}(e)||Db(e)||Lb(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ob(this._rgb);return e&&(e.a=lb(e.a)),e}set rgb(e){this._rgb=Pb(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(lb(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?gb(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=xb(e),n=t[0],r=cb(t[1]),i=cb(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(lb(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const a=t===i?.5:t,o=2*a-1,s=n.a-r.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Ab(lb(e.r)),i=Ab(lb(e.g)),a=Ab(lb(e.b));return{r:sb(Ib(r+n*(Ab(lb(t.r))-r))),g:sb(Ib(i+n*(Ab(lb(t.g))-i))),b:sb(Ib(a+n*(Ab(lb(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new jb(this.rgb)}alpha(e){return this._rgb.a=sb(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ib(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mb(this._rgb,2,e),this}darken(e){return Mb(this._rgb,2,-e),this}saturate(e){return Mb(this._rgb,1,e),this}desaturate(e){return Mb(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=xb(e);n[0]=Sb(n[0]+t),n=_b(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Rb(){}const Fb=(()=>{let e=0;return()=>e++})();function zb(e){return null===e||void 0===e}function Vb(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Bb(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ub(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Hb(e,t){return Ub(e)?e:t}function qb(e,t){return"undefined"===typeof e?t:e}const Wb=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Kb(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Qb(e,t,n,r){let i,a,o;if(Vb(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(Bb(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function Gb(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Yb(e){if(Vb(e))return e.map(Yb);if(Bb(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Yb(e[n[i]]);return t}return e}function Xb(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function $b(e,t,n,r){if(!Xb(e))return;const i=t[e],a=n[e];Bb(i)&&Bb(a)?Jb(i,a,r):t[e]=Yb(a)}function Jb(e,t,n){const r=Vb(t)?t:[t],i=r.length;if(!Bb(e))return e;const a=(n=n||{}).merger||$b;let o;for(let s=0;s<i;++s){if(o=r[s],!Bb(o))continue;const t=Object.keys(o);for(let r=0,i=t.length;r<i;++r)a(t[r],e,o,n)}return e}function Zb(e,t){return Jb(e,t,{merger:ex})}function ex(e,t,n){if(!Xb(e))return;const r=t[e],i=n[e];Bb(r)&&Bb(i)?Zb(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Yb(i))}const tx={"":e=>e,x:e=>e.x,y:e=>e.y};function nx(e,t){const n=tx[t]||(tx[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function rx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ix=e=>"undefined"!==typeof e,ax=e=>"function"===typeof e,ox=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const sx=Math.PI,lx=2*sx,cx=lx+sx,ux=Number.POSITIVE_INFINITY,hx=sx/180,dx=sx/2,fx=sx/4,px=2*sx/3,gx=Math.log10,mx=Math.sign;function yx(e,t,n){return Math.abs(e-t)<n}function vx(e){const t=Math.round(e);e=yx(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(gx(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function bx(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function xx(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function wx(e){return e*(sx/180)}function _x(e){return e*(180/sx)}function Sx(e){if(!Ub(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function kx(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*sx&&(a+=lx),{angle:a,distance:i}}function Tx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ex(e,t){return(e-t+cx)%lx-sx}function Cx(e){return(e%lx+lx)%lx}function Dx(e,t,n,r){const i=Cx(e),a=Cx(t),o=Cx(n),s=Cx(a-i),l=Cx(o-i),c=Cx(i-a),u=Cx(i-o);return i===a||i===o||r&&a===o||s>l&&c<u}function Nx(e,t,n){return Math.max(t,Math.min(n,e))}function Ix(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ax(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,a=0;for(;i-a>1;)r=a+i>>1,n(r)?a=r:i=r;return{lo:a,hi:i}}const Mx=(e,t,n,r)=>Ax(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Ox=(e,t,n)=>Ax(e,n,(r=>e[r][t]>=n));const Px=["push","pop","shift","splice","unshift"];function Lx(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Px.forEach((t=>{delete e[t]})),delete e._chartjs)}function jx(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Rx="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Fx(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,r||(r=!0,Rx.call(window,(()=>{r=!1,e.apply(t,n)})))}}const zx=e=>"start"===e?"left":"end"===e?"right":"center",Vx=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Bx(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:o,vScale:s,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(i=Math.min(Mx(l,u,h).lo,n?r:Mx(t,u,o.getPixelForValue(h)).lo),c){const e=l.slice(0,i+1).reverse().findIndex((e=>!zb(e[s.axis])));i-=Math.max(0,e)}i=Nx(i,0,r-1)}if(p){let e=Math.max(Mx(l,o.axis,d,!0).hi+1,n?0:Mx(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!zb(e[s.axis])));e+=Math.max(0,t)}a=Nx(e,i,r)-i}else a=r-i}return{start:i,count:a}}function Ux(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const Hx=e=>0===e||1===e,qx=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*lx/n),Wx=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*lx/n)+1,Kx={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*dx),easeOutSine:e=>Math.sin(e*dx),easeInOutSine:e=>-.5*(Math.cos(sx*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Hx(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Hx(e)?e:qx(e,.075,.3),easeOutElastic:e=>Hx(e)?e:Wx(e,.075,.3),easeInOutElastic(e){const t=.1125;return Hx(e)?e:e<.5?.5*qx(2*e,t,.45):.5+.5*Wx(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Kx.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Kx.easeInBounce(2*e):.5*Kx.easeOutBounce(2*e-1)+.5};function Qx(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Gx(e){return Qx(e)?e:new jb(e)}function Yx(e){return Qx(e)?e:new jb(e).saturate(.5).darken(.1).hexString()}const Xx=["x","y","borderWidth","radius","tension"],$x=["color","borderColor","backgroundColor"];const Jx=new Map;function Zx(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Jx.get(n);return r||(r=new Intl.NumberFormat(e,t),Jx.set(n,r)),r}(t,n).format(e)}const ew={values:e=>Vb(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=gx(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Zx(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(gx(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?ew.numeric.call(this,e,t,n):""}};var tw={formatters:ew};const nw=Object.create(null),rw=Object.create(null);function iw(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function aw(e,t,n){return"string"===typeof t?Jb(iw(e,t),n):Jb(iw(e,""),t)}class ow{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Yx(t.backgroundColor),this.hoverBorderColor=(e,t)=>Yx(t.borderColor),this.hoverColor=(e,t)=>Yx(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return aw(this,e,t)}get(e){return iw(this,e)}describe(e,t){return aw(rw,e,t)}override(e,t){return aw(nw,e,t)}route(e,t,n,r){const i=iw(this,e),a=iw(this,n),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[r];return Bb(e)?Object.assign({},t,e):qb(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var sw=new ow({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:$x},numbers:{type:"number",properties:Xx}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function lw(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function cw(e,t,n,r){let i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,c,u,h,d;for(l=0;l<s;l++)if(h=n[l],void 0===h||null===h||Vb(h)){if(Vb(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||Vb(d)||(o=lw(e,i,a,o,d))}else o=lw(e,i,a,o,h);e.restore();const f=a.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[a[l]];a.splice(0,f)}return o}function uw(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function hw(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function dw(e,t,n,r){fw(e,t,n,r,null)}function fw(e,t,n,r,i){let a,o,s,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*hx;if(f&&"object"===typeof f&&(a=f.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,lx):e.arc(n,r,g,0,lx),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=px,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=px,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+fx)*l,h=Math.cos(m+fx)*(i?i/2-c:l),s=Math.sin(m+fx)*l,d=Math.sin(m+fx)*(i?i/2-c:l),e.arc(n-h,r-s,c,m-sx,m-dx),e.arc(n+d,r-o,c,m-dx,m),e.arc(n+h,r+s,c,m,m+dx),e.arc(n-d,r+o,c,m+dx,m+sx),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=fx;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+d,r-o),e.lineTo(n+h,r+s),e.lineTo(n-d,r+o),e.closePath();break;case"crossRot":m+=fx;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o),m+=fx,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,s=Math.sin(m)*g,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function pw(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function gw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function mw(e){e.restore()}function yw(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function vw(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function bw(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function xw(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ww(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Vb(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),zb(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&xw(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),zb(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,r,a.maxWidth)),e.fillText(c,n,r,a.maxWidth),bw(e,n,r,c,a),r+=Number(i.lineHeight);e.restore()}function _w(e,t){const{x:n,y:r,w:i,h:a,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*sx,sx,!0),e.lineTo(n,r+a-o.bottomLeft),e.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,sx,dx,!0),e.lineTo(n+i-o.bottomRight,r+a),e.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,dx,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-dx,!0),e.lineTo(n+o.topLeft,r)}const Sw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tw(e,t){const n=(""+e).match(Sw);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function Ew(e,t){const n={},r=Bb(t),i=r?Object.keys(t):t,a=Bb(e)?r?n=>qb(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of i)n[o]=+a(o)||0;return n}function Cw(e){return Ew(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Dw(e){return Ew(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Nw(e){const t=Cw(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Iw(e,t){e=e||{},t=t||sw.font;let n=qb(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=qb(e.style,t.style);r&&!(""+r).match(kw)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:qb(e.family,t.family),lineHeight:Tw(qb(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:qb(e.weight,t.weight),string:""};return i.string=function(e){return!e||zb(e.size)||zb(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Aw(e,t,n,r){let i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(o=e[i],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&Vb(o)&&(o=o[n%o.length],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}function Mw(e,t){return Object.assign(Object.create(e),t)}function Ow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=qw("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Ow([r,...e],t,i,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Fw(n,r,(()=>function(e,t,n,r){let i;for(const a of t)if(i=qw(jw(a,e),n),"undefined"!==typeof i)return Rw(e,i)?Uw(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Ww(e).includes(t),ownKeys:e=>Ww(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Pw(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Lw(e,r),setContext:t=>Pw(e,t,n,r),override:i=>Pw(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Fw(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=e;let s=r[t];ax(s)&&o.isScriptable(t)&&(s=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,o||r);s.delete(e),Rw(e,l)&&(l=Uw(i._scopes,i,e,l));return l}(t,s,e,n));Vb(s)&&s.length&&(s=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:o,_descriptors:s}=n;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(Bb(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Uw(r,i,e,l);t.push(Pw(n,a,o&&o[e],s))}}return t}(t,s,e,o.isIndexable));Rw(t,s)&&(s=Pw(s,i,a&&a[t],o));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Lw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ax(n)?n:()=>n,isIndexable:ax(r)?r:()=>r}}const jw=(e,t)=>e?e+rx(t):t,Rw=(e,t)=>Bb(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Fw(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function zw(e,t,n){return ax(e)?e(t,n):e}const Vw=(e,t)=>!0===e?t:"string"===typeof e?nx(t,e):void 0;function Bw(e,t,n,r,i){for(const a of t){const t=Vw(n,a);if(t){e.add(t);const a=zw(t._fallback,n,i);if("undefined"!==typeof a&&a!==n&&a!==r)return a}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Uw(e,t,n,r){const i=t._rootScopes,a=zw(t._fallback,n,r),o=[...e,...i],s=new Set;s.add(r);let l=Hw(s,o,n,a||n,r);return null!==l&&(("undefined"===typeof a||a===n||(l=Hw(s,o,a,l,r),null!==l))&&Ow(Array.from(s),[""],i,a,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Vb(i)&&Bb(n))return n;return i||{}}(t,n,r))))}function Hw(e,t,n,r,i){for(;n;)n=Bw(e,t,n,r,i);return n}function qw(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Ww(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Kw(e,t,n,r){const{iScale:i}=e,{key:a="r"}=this._parsing,o=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=t[c],o[s]={r:i.parse(nx(u,a),c)};return o}const Qw=Number.EPSILON||1e-14,Gw=(e,t)=>t<e.length&&!e[t].skip&&e[t],Yw=e=>"x"===e?"y":"x";function Xw(e,t,n,r){const i=e.skip?t:e,a=t,o=n.skip?t:n,s=Tx(a,i),l=Tx(o,a);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+d*(o.x-i.x),y:a.y+d*(o.y-i.y)}}}function $w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Yw(t),r=e.length,i=Array(r).fill(0),a=Array(r);let o,s,l,c=Gw(e,0);for(o=0;o<r;++o)if(s=l,l=c,c=Gw(e,o+1),l){if(c){const e=c[t]-l[t];i[o]=0!==e?(c[n]-l[n])/e:0}a[o]=s?c?mx(i[o-1])!==mx(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(e,t,n){const r=e.length;let i,a,o,s,l,c=Gw(e,0);for(let u=0;u<r-1;++u)l=c,c=Gw(e,u+1),l&&c&&(yx(t[u],0,Qw)?n[u]=n[u+1]=0:(i=n[u]/t[u],a=n[u+1]/t[u],s=Math.pow(i,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[u]=i*o*t[u],n[u+1]=a*o*t[u])))}(e,i,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Yw(n),i=e.length;let a,o,s,l=Gw(e,0);for(let c=0;c<i;++c){if(o=s,s=l,l=Gw(e,c+1),!s)continue;const i=s[n],u=s[r];o&&(a=(i-o[n])/3,s["cp1".concat(n)]=i-a,s["cp1".concat(r)]=u-a*t[c]),l&&(a=(l[n]-i)/3,s["cp2".concat(n)]=i+a,s["cp2".concat(r)]=u+a*t[c])}}(e,a,t)}function Jw(e,t,n){return Math.max(Math.min(e,n),t)}function Zw(e,t,n,r,i){let a,o,s,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)$w(e,i);else{let n=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=Xw(n,s,e[Math.min(a+1,o-(r?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,r,i,a,o,s=pw(e[0],t);for(n=0,r=e.length;n<r;++n)o=a,a=s,s=n<r-1&&pw(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=Jw(i.cp1x,t.left,t.right),i.cp1y=Jw(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=Jw(i.cp2x,t.left,t.right),i.cp2y=Jw(i.cp2y,t.top,t.bottom)))}(e,n)}function e_(){return"undefined"!==typeof window&&"undefined"!==typeof document}function t_(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function n_(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const r_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const i_=["top","right","bottom","left"];function a_(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=i_[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function o_(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=r_(n),a="border-box"===i.boxSizing,o=a_(i,"padding"),s=a_(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let o,s,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,a,e.target))o=i,s=a;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,s=r.clientY-e.top,l=!0}return{x:o,y:s,box:l}}(e,n),h=o.left+(u&&s.left),d=o.top+(u&&s.top);let{width:f,height:p}=t;return a&&(f-=o.width+s.width,p-=o.height+s.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const s_=e=>Math.round(10*e)/10;function l_(e,t,n,r){const i=r_(e),a=a_(i,"margin"),o=n_(i.maxWidth,e,"clientWidth")||ux,s=n_(i.maxHeight,e,"clientHeight")||ux,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const a=e&&t_(e);if(a){const e=a.getBoundingClientRect(),o=r_(a),s=a_(o,"border","width"),l=a_(o,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,r=n_(o.maxWidth,a,"clientWidth"),i=n_(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||ux,maxHeight:i||ux}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=a_(i,"border","width"),t=a_(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-a.width),u=Math.max(0,r?c/r:u-a.height),c=s_(Math.min(c,o,l.maxWidth)),u=s_(Math.min(u,s,l.maxHeight)),c&&!u&&(u=s_(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=s_(Math.floor(u*r))),{width:c,height:u}}function c_(e,t,n){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}const u_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};e_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(yE){}return e}();function h_(e,t){const n=function(e,t){return r_(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function d_(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function f_(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function p_(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=d_(e,i,n),s=d_(i,a,n),l=d_(a,t,n),c=d_(o,s,n),u=d_(s,l,n);return d_(c,u,n)}function g_(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function m_(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function y_(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function v_(e){return"angle"===e?{between:Dx,compare:Ex,normalize:Cx}:{between:Ix,compare:(e,t)=>e-t,normalize:e=>e}}function b_(e){let{start:t,end:n,count:r,loop:i,style:a}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:a}}function x_(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,o=t.length,{compare:s,between:l,normalize:c}=v_(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:a}=n,{between:o,normalize:s}=v_(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(s(t[h%l][r]),i,a);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,y,v=!1,b=null;const x=()=>v||l(i,y,g)&&0!==s(i,y),w=()=>!v||0===s(a,g)||l(a,y,g);for(let _=u,S=u;_<=h;++_)m=t[_%o],m.skip||(g=c(m[r]),g!==y&&(v=l(g,i,a),null===b&&x()&&(b=0===s(g,i)?_:S),null!==b&&w()&&(p.push(b_({start:b,end:_,loop:d,count:o,style:f})),b=null),S=_,y=g));return null!==b&&p.push(b_({start:b,end:h,loop:d,count:o,style:f})),p}function w_(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=x_(r[i],e.points,t);a.length&&n.push(...a)}return n}function __(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),a=S_(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,c=[];let u=a,h=t[0].start,d=h;function f(e,t,r,i){const a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const p of t){h=s?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const a=n[d%l];e=S_(r.setContext(Mw(i,{type:"segment",p0:t,p1:a,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),k_(e,u)&&f(h,d-1,p.loop,u),t=a,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,r):t}function S_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function k_(e,t){if(!t)return!1;const n=[],r=function(e,t){return Qx(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function T_(e,t,n){return e.options.clip?e[n]:t[n]}function E_(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:T_(n,t,"left"),right:T_(n,t,"right"),top:T_(r,t,"top"),bottom:T_(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class C_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],a=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Rx.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let a,o=i.length-1,s=!1;for(;o>=0;--o)a=i[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(i[o]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var D_=new C_;const N_="transparent",I_={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Gx(e||N_),i=r.valid&&Gx(t||N_);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class A_{constructor(e,t,n,r){const i=t[n];r=Aw([e.to,r,i,e.from]);const a=Aw([e.from,i,r]);this._active=!0,this._fn=e.fn||I_[e.type||typeof a],this._easing=Kx[e.easing]||Kx.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Aw([e.to,t,r,e.from]),this._from=Aw([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,a=this._loop,o=this._to;let s;if(this._active=i!==o&&(a||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=i:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class M_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Bb(e))return;const t=Object.keys(sw.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!Bb(i))return;const a={};for(const e of t)a[e]=i[e];(Vb(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(i[l]=u=new A_(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(D_.add(this._chart,n),!0):void 0}}function O_(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function P_(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function L_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,a="single"===r.mode;let o,s,l,c;if(null===t)return;let u=!1;for(o=0,s=i.length;o<s;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=e.values[l],Ub(c)&&(a||0===t||mx(t)===mx(c))&&(t+=c)}return u||r.all?t:0}function j_(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function R_(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function F_(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function z_(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=r,l=a.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,o,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:a}=e;d=(e._stacks||(e._stacks={}))[c]=R_(i,u,n),d[s]=a,d._top=F_(d,o,!0,r.type),d._bottom=F_(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[s]=a}}function V_(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function B_(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const U_=e=>"reset"===e||"none"===e,H_=(e,t)=>t?e:Object.assign({},e);class q_{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=j_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&B_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=qb(n.xAxisID,V_(e,"x")),a=t.yAxisID=qb(n.yAxisID,V_(e,"y")),o=t.rAxisID=qb(n.rAxisID,V_(e,"r")),s=t.indexAxis,l=t.iAxisID=r(s,i,a,o),c=t.vAxisID=r(s,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lx(this._data,this),e._stacked&&B_(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Bb(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",a="x"===r.axis?"x":"y",o=Object.keys(e),s=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],s[l]={[i]:u,[a]:e[u]};return s}(t,e)}else if(n!==t){if(n){Lx(n,this);const e=this._cachedMeta;B_(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Px.forEach((e=>{const t="_onData"+rx(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];const o=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),o}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=j_(t.vScale,t),t.stack!==n.stack&&(r=!0,B_(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(z_(this,t._parsed),t._stacked=j_(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:a}=n,o=i.axis;let s,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Vb(r[e])?this.parseArrayData(n,r,e,t):Bb(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[o]||h&&l[o]<h[o];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],u&&(i()&&(u=!1),h=l);n._sorted=u}a&&z_(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:a}=e,o=i.axis,s=a.axis,l=i.getLabels(),c=i===a,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[o]:c||i.parse(l[f],f),[s]:a.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:a}=e,o=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=t[c],o[s]={x:i.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(nx(d,o),h),y:a.parse(nx(d,s),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,a=t[e.axis];return L_({keys:P_(r,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let a=null===i?NaN:i;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,a=L_(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,a=r.length,o=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:P_(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const t=d[o.axis];return!Ub(d[e.axis])||c>t||u<t}for(h=0;h<a&&(f()||(this.updateRangeFromParsed(l,e,d,s),!i));++h);if(i)for(h=a-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,a;for(r=0,i=t.length;r<i;++r)a=t[r][e.axis],Ub(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Bb(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(qb(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=O_(e,n),i=O_(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,o,s),c=o;c<o+s;++c){const t=r[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Mw(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Mw(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,a=e+"-"+t,o=i[a],s=this.enableOptionSharing&&ix(n);if(o)return H_(o,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(sw.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=s,i[a]=Object.freeze(H_(f,s))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,a="animation-".concat(t),o=i[a];if(o)return o;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),a=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(a,this.getContext(e,n,t))}const l=new M_(r,s&&s.animations);return s&&s._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||U_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}updateElement(e,t,n,r){U_(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!U_(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,s,l]of this._syncList)this[o](s,l);this._syncList=[];const r=n.length,i=t.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&B_(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function W_(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=jx(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,a,o,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(ix(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(r=0,i=n.length;r<i;++r)a=t.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=t.ticks.length;r<i;++r)a=t.getPixelForTick(r),l();return s}function K_(e,t,n,r){return Vb(e)?function(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),o=Math.min(i,a),s=Math.max(i,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Q_(e,t,n,r){const i=e.iScale,a=e.vScale,o=i.getLabels(),s=i===a,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=s||i.parse(o[c],c),l.push(K_(d,h,a,c));return l}function G_(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Y_(e,t,n,r){let i=t.borderSkipped;const a={};if(!i)return void(e.borderSkipped=a);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(a[X_(u,o,s,l)]=!0,i=c)),a[X_(i,o,s,l)]=!0,e.borderSkipped=a}function X_(e,t,n,r){var i,a,o;return r?(o=n,e=$_(e=(i=e)===(a=t)?o:i===o?a:i,n,t)):e=$_(e,t,n),e}function $_(e,t,n){return"start"===e?t:"end"===e?n:e}function J_(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}s(q_,"defaults",{}),s(q_,"datasetElementType",null),s(q_,"dataElementType",null);class Z_ extends q_{parsePrimitiveData(e,t,n,r){return Q_(e,t,n,r)}parseArrayData(e,t,n,r){return Q_(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l="x"===i.axis?o:s,c="x"===a.axis?o:s,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(nx(p,l),h),u.push(K_(nx(p,c),f,a,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),a=i._custom,o=G_(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:a,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||zb(t[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||G_(t._custom)||a===p._top||a===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const m=g.options||e[d].options;Y_(g,m,p,a),J_(g,m,c.ratio),this.updateElement(e[d],d,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),s=o&&o[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===s)),r=t&&t[e.vScale.axis];if(zb(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===a.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((n=>e[n].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[qb("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,a;for(i=0,a=t.data.length;i<a;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||W_(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:a}}=this,o=i||0,s=this.getParsed(e),l=s._custom,c=G_(l);let u,h,d=s[t.axis],f=0,p=n?this.applyStack(t,s,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&mx(d)!==mx(l.barEnd)&&(f=0),f+=d);const g=zb(i)||c?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<a){h=function(e,t,n){return 0!==e?mx(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*a,d===o&&(m-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(s._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=mx(h)*t.getLineWidthForValue(o)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,a=qb(r.maxBarThickness,1/0);let o,s;const l=this._getAxisCount();if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,a=i[e];let o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const i=n.barThickness;let a,o;return zb(i)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=i*r,o=1),{chunk:a/r,ratio:o,start:t.pixels[e]-a/2}}(e,t,r,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(qb(u,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+h;o=c.start+c.chunk*d+c.chunk/2,s=Math.min(a,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(a,t.min*t.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}s(Z_,"id","bar"),s(Z_,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),s(Z_,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class eS extends q_{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=qb(e[2],this.resolveDataElementOptions(a+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=qb(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,r),c=a.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),p=d[u]=i?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=s||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=qb(n&&n._custom,i),r}}s(eS,"id","bubble"),s(eS,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),s(eS,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class tS extends q_{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,a,o=e=>+n[e];if(Bb(n[e])){const{key:e="value"}=this._parsing;o=t=>+nx(n[t],e)}for(i=e,a=e+t;i<a;++i)r._parsed[i]=o(i)}}_getRotation(){return wx(this.options.rotation-90)}_getCircumference(){return wx(this.options.circumference)}_getRotationExtents(){let e=lx,t=-lx;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let r=1,i=1,a=0,o=0;if(t<lx){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>Dx(e,s,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Dx(e,s,l,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,c,h),m=f(dx,u,d),y=p(sx,c,h),v=p(sx+dx,u,d);r=(g-y)/2,i=(m-v)/2,a=-(g+y)/2,o=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}(d,h,s),y=(n.width-a)/f,v=(n.height-a)/p,b=Math.max(Math.min(y,v)/2,0),x=Wb(this.options.radius,b),w=(x-Math.max(x*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=m*x,r.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/lx)}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,o=a.chartArea,s=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&s.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(a.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,a,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?lx*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Zx(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,a,o,s;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){a=n.getDatasetMeta(r),e=a.data,o=a.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)s=o.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(qb(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}s(tS,"id","doughnut"),s(tS,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),s(tS,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),s(tS,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class nS extends q_{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=Bx(t,r,a);this._drawStart=o,this._drawCount=s,Ux(t)&&(o=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(r,o,s,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=a.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=bx(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<v;++x){const n=e[x],f=m?n:{};if(x<t||x>=y){f.skip=!0;continue}const v=this.getParsed(x),w=zb(v[d]),_=f[h]=a.getPixelForValue(v[h],x),S=f[d]=i||w?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,v,s):v[d],x);f.skip=isNaN(_)||isNaN(S)||w,f.stop=x>0&&Math.abs(v[h]-b[h])>g,p&&(f.parsed=v,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":r)),m||this.updateElement(n,x,f,r),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}s(nS,"id","line"),s(nS,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),s(nS,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class rS extends q_{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Zx(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return Kw.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,u=s.getIndexAngle(0)-.5*sx;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,r,f),g=a.getDataVisibility(h)?s.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,m,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?wx(this.resolveDataElementOptions(e,t).angle||n):0}}s(rS,"id","polarArea"),s(rS,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),s(rS,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class iS extends tS{}s(iS,"id","pie"),s(iS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class aS extends q_{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return Kw.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,a="reset"===r;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":r),s=i.getPointPositionForValue(o,this.getParsed(o).r),l=a?i.xCenter:s.x,c=a?i.yCenter:s.y,u={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,r)}}}s(aS,"id","radar"),s(aS,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),s(aS,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oS extends q_{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:a}=Bx(t,n,r);if(this._drawStart=i,this._drawCount=a,Ux(t)&&(i=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:a}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=a.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=bx(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=y?t:{},p=zb(n[f]),x=c[d]=a.getPixelForValue(n[d],b),w=c[f]=i||p?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[f],b);c.skip=isNaN(x)||isNaN(w)||p,c.stop=b>0&&Math.abs(n[d]-v[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),y||this.updateElement(t,b,c,r),v=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,a)/2}}s(oS,"id","scatter"),s(oS,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),s(oS,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function sS(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lS{static override(e){Object.assign(lS.prototype,e)}constructor(e){s(this,"options",void 0),this.options=e||{}}init(){}formats(){return sS()}parse(){return sS()}format(){return sS()}add(){return sS()}diff(){return sS()}startOf(){return sS()}endOf(){return sS()}}var cS=lS;function uS(e,t,n,r){const{controller:i,data:a,_sorted:o}=e,s=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const o=s._reversePixels?Ox:Mx;if(!r){const r=o(a,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,a=n.slice(0,r.lo+1).reverse().findIndex((e=>!zb(e[t.axis])));r.lo-=Math.max(0,a);const o=n.slice(r.hi).findIndex((e=>!zb(e[t.axis])));r.hi+=Math.max(0,o)}return r}if(i._sharedOptions){const e=a[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=o(a,t,n-r),i=o(a,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:a.length-1}}function hS(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:n}=a[s],{lo:l,hi:c}=uS(a[s],t,o,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function dS(e,t,n,r,i){const a=[];if(!i&&!e.isPointInArea(t))return a;return hS(e,n,t,(function(n,o,s){(i||pw(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function fS(e,t,n,r,i,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return hS(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!a||e.isPointInArea(d))&&!h)return;const f=s(t,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function pS(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?fS(e,t,n,r,i,a):function(e,t,n,r){let i=[];return hS(e,n,t,(function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],r),{angle:l}=kx(e,{x:t.x,y:t.y});Dx(l,o,s)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function gS(e,t,n,r,i){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return hS(e,n,t,((e,r,l)=>{e[o]&&e[o](t[n],i)&&(a.push({element:e,datasetIndex:r,index:l}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:a}var mS={evaluateInteractionItems:hS,modes:{index(e,t,n,r){const i=o_(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?dS(e,i,a,r,o):pS(e,i,a,!1,r,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=o_(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?dS(e,i,a,r,o):pS(e,i,a,!1,r,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,r)=>dS(e,o_(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=o_(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return pS(e,i,a,n.intersect,r,o)},x:(e,t,n,r)=>gS(e,o_(t,e),"x",n.intersect,r),y:(e,t,n,r)=>gS(e,o_(t,e),"y",n.intersect,r)}};const yS=["left","top","right","bottom"];function vS(e,t){return e.filter((e=>e.pos===t))}function bS(e,t){return e.filter((e=>-1===yS.indexOf(e.pos)&&e.box.axis===t))}function xS(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function wS(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!yS.includes(r))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*r:o&&t.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:o&&t.availableHeight)}return n}function _S(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function SS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function kS(e,t,n,r){const{pos:i,box:a}=n,o=e.maxPadding;if(!Bb(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[i]+=n.size}a.getPadding&&SS(o,a.getPadding());const s=Math.max(0,t.outerWidth-_S(o,e,"left","right")),l=Math.max(0,t.outerHeight-_S(o,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function TS(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function ES(e,t,n,r){const i=[];let a,o,s,l,c,u;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,TS(s.horizontal,t));const{same:o,other:h}=kS(t,n,s,r);c|=o&&i.length,u=u||h,l.fullSize||i.push(s)}return c&&ES(i,t,n,r)||u}function CS(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function DS(e,t,n,r){const i=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const r=t.w*c,a=l.size||e.height;ix(l.start)&&(o=l.start),e.fullSize?CS(e,i.left,o,n.outerWidth-i.right-i.left,a):CS(e,t.left+l.placed,o,r,a),l.start=o,l.placed+=r,o=e.bottom}else{const r=t.h*c,o=l.size||e.width;ix(l.start)&&(a=l.start),e.fullSize?CS(e,a,i.top,o,n.outerHeight-i.bottom-i.top):CS(e,a,t.top+l.placed,o,r),l.start=a,l.placed+=r,a=e.right}}t.x=a,t.y=o}var NS={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Nw(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),s=function(e){const t=function(e){const t=[];let n,r,i,a,o,s;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=i),t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=xS(t.filter((e=>e.box.fullSize)),!0),r=xS(vS(t,"left"),!0),i=xS(vS(t,"right")),a=xS(vS(t,"top"),!0),o=xS(vS(t,"bottom")),s=bS(t,"x"),l=bS(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(o).concat(s),chartArea:vS(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;Qb(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);SS(d,Nw(r));const f=Object.assign({maxPadding:d,w:a,h:o,x:i.left,y:i.top},i),p=wS(l.concat(c),h);ES(s.fullSize,f,h,p),ES(l,f,h,p),ES(c,f,h,p)&&ES(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),DS(s.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,DS(s.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Qb(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class IS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class AS extends IS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const MS="$chartjs",OS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PS=e=>null===e||""===e;const LS=!!u_&&{passive:!0};function jS(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,LS)}function RS(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function FS(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||RS(n.addedNodes,r),t=t&&!RS(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function zS(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||RS(n.removedNodes,r),t=t&&!RS(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const VS=new Map;let BS=0;function US(){const e=window.devicePixelRatio;e!==BS&&(BS=e,VS.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function HS(e,t,n){const r=e.canvas,i=r&&t_(r);if(!i)return;const a=Fx(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return o.observe(i),function(e,t){VS.size||window.addEventListener("resize",US),VS.set(e,t)}(e,a),o}function qS(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){VS.delete(e),VS.size||window.removeEventListener("resize",US)}(e)}function WS(e,t,n){const r=e.canvas,i=Fx((t=>{null!==e.ctx&&n(function(e,t){const n=OS[e.type]||e.type,{x:r,y:i}=o_(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,LS)}(r,t,i),i}class KS extends IS{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[MS]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PS(i)){const t=h_(e,"width");void 0!==t&&(e.width=t)}if(PS(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=h_(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[MS])return!1;const n=t[MS].initial;["height","width"].forEach((e=>{const r=n[e];zb(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[MS],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:FS,detach:zS,resize:HS}[t]||WS;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:qS,detach:qS,resize:qS}[t]||jS)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return l_(e,t,n,r)}isAttached(e){const t=e&&t_(e);return!(!t||!t.isConnected)}}class QS{constructor(){s(this,"x",void 0),s(this,"y",void 0),s(this,"active",!1),s(this,"options",void 0),s(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return bx(this.x)&&bx(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function GS(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>i)return function(e,t,n,r){let i,a=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),a++,o=n[a*r])}(t,c,a,o/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const a=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let o=0,s=a.length-1;o<s;o++){const e=a[o];if(e>i)return e}return Math.max(i,1)}(a,t,i);if(o>0){let e,n;const r=o>1?Math.round((l-s)/(o-1)):null;for(YS(t,c,u,zb(r)?0:s-r,s),e=0,n=o-1;e<n;e++)YS(t,c,u,a[e],a[e+1]);return YS(t,c,u,l,zb(r)?t.length:l+r),c}return YS(t,c,u),c}function YS(e,t,n,r,i){const a=qb(r,0),o=Math.min(qb(i,e.length),e.length);let s,l,c,u=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}s(QS,"defaults",{}),s(QS,"defaultRoutes",void 0);const XS=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,$S=(e,t)=>Math.min(t||e,e);function JS(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function ZS(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<a-s||c>o+s)))return c}function ek(e){return e.drawTicks?e.tickLength:0}function tk(e,t){if(!e.display)return 0;const n=Iw(e.font,t),r=Nw(e.padding);return(Vb(e.text)?e.text.length:1)*n.lineHeight+r.height}function nk(e,t,n){let r=zx(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class rk extends QS{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Hb(e,Number.POSITIVE_INFINITY),t=Hb(t,Number.NEGATIVE_INFINITY),n=Hb(n,Number.POSITIVE_INFINITY),r=Hb(r,Number.NEGATIVE_INFINITY),{min:Hb(e,n),max:Hb(t,r),minDefined:Ub(e),maxDefined:Ub(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let s=0,l=o.length;s<l;++s)t=o[s].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),a||(r=Math.max(r,t.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:Hb(n,Hb(r,n)),max:Hb(r,Hb(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Kb(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,a=Wb(t,(i-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(a)),max:o(i,a)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?JS(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=GS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Kb(this.options.afterUpdate,[this])}beforeSetDimensions(){Kb(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Kb(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Kb(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Kb(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=Kb(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Kb(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Kb(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=$S(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let a,o,s,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Nx(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:d/(n-1),u+6>a&&(a=d/(n-(e.offset?.5:1)),o=this.maxHeight-ek(e.grid)-t.padding-tk(e.title,this.chart.options.font),s=Math.sqrt(u*u+h*h),l=_x(Math.min(Math.asin(Nx((c.highest.height+6)/a,-1,1)),Math.asin(Nx(o/s,-1,1))-Math.asin(Nx(h/s,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Kb(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Kb(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=tk(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=ek(i)+a):(e.height=this.maxHeight,e.width=ek(i)+a),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:a}=this._getLabelSizes(),s=2*n.padding,l=wx(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*i.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*i.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:a},position:o}=this.options,s=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;s?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+a,this.paddingBottom=r+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Kb(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)zb(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=JS(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,a=[],o=[],s=Math.floor(t/$S(t,n));let l,c,u,h,d,f,p,g,m,y,v,b=0,x=0;for(l=0;l<t;l+=s){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,zb(h)||Vb(h)){if(Vb(h))for(c=0,u=h.length;c<u;++c)v=h[c],zb(v)||Vb(v)||(m=lw(r,p.data,p.gc,m,v),y+=g)}else m=lw(r,p.data,p.gc,m,h),y=g;a.push(m),o.push(y),b=Math.max(m,b),x=Math.max(y,x)}!function(e,t){Qb(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=a.indexOf(b),_=o.indexOf(x),S=e=>({width:a[e]||0,height:o[e]||0});return{first:S(0),last:S(t-1),widest:S(w),highest:S(_),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Nx(this._alignToPixels?uw(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Mw(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Mw(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=wx(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,s=i?i.highest.height+a:0;return this.isHorizontal()?s*n>o*r?o/n:s/r:s*r<o*n?s/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:a,border:o}=r,s=i.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=ek(i),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return uw(n,e,f)};let m,y,v,b,x,w,_,S,k,T,E,C;if("top"===a)m=g(this.bottom),w=this.bottom-u,S=m-p,T=g(e.top)+p,C=e.bottom;else if("bottom"===a)m=g(this.top),T=e.top,C=g(e.bottom)-p,w=m+p,S=this.top+u;else if("left"===a)m=g(this.right),x=this.right-u,_=m-p,k=g(e.left)+p,E=e.right;else if("right"===a)m=g(this.left),k=e.left,E=g(e.right)-p,x=m+p,_=this.left+u;else if("x"===t){if("center"===a)m=g((e.top+e.bottom)/2+.5);else if(Bb(a)){const e=Object.keys(a)[0],t=a[e];m=g(this.chart.scales[e].getPixelForValue(t))}T=e.top,C=e.bottom,w=m+p,S=w+u}else if("y"===t){if("center"===a)m=g((e.left+e.right)/2);else if(Bb(a)){const e=Object.keys(a)[0],t=a[e];m=g(this.chart.scales[e].getPixelForValue(t))}x=m-p,_=x-u,k=e.left,E=e.right}const D=qb(r.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/D));for(y=0;y<c;y+=N){const e=this.getContext(y),t=i.setContext(e),r=o.setContext(e),a=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;v=ZS(this,y,s),void 0!==v&&(b=uw(n,v,a),l?x=_=k=E=b:w=S=T=C=b,h.push({tx1:x,ty1:w,tx2:_,ty2:S,x1:k,y1:T,x2:E,y2:C,width:a,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=i,h=ek(n.grid),d=h+c,f=u?-c:d,p=-wx(this.labelRotation),g=[];let m,y,v,b,x,w,_,S,k,T,E,C,D="middle";if("top"===r)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+d;else if(Bb(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-d;else if(Bb(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===s?D="top":"end"===s&&(D="bottom"));const N=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){v=o[m],b=v.label;const e=i.setContext(this.getContext(m));S=this.getPixelForTick(m)+i.labelOffset,k=this._resolveTickFontOptions(m),T=k.lineHeight,E=Vb(b)?b.length:1;const t=E/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(a?(x=S,"inner"===_&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-E*T+T/2:"center"===l?-N.highest.height/2-t*T+T:-N.highest.height+T/2:"near"===l||0!==p?T/2:"center"===l?N.highest.height/2-t*T:N.highest.height-E*T,u&&(C*=-1),0===p||e.showLabelBackdrop||(x+=T/2*Math.sin(p))):(w=S,C=(1-E)*T/2),e.showLabelBackdrop){const t=Nw(e.backdropPadding),n=N.heights[m],r=N.widths[m];let i=C-t.top,a=0-t.left;switch(D){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":a-=r/2;break;case"right":a-=r;break;case"inner":m===y-1?a-=r:m>0&&(a-=r/2)}h={left:a,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:k,textOffset:C,options:{rotation:p,color:n,strokeColor:s,strokeWidth:c,textAlign:d,textBaseline:D,translation:[x,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-wx(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,a=e+i,o=this._getLabelSizes().widest.width;let s,l;return"left"===t?r?(l=this.right+i,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l+=o)):(l=this.right-a,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l-=o)):(l=this.left+a,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,a=r.length;i<a;++i){const e=r[i];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=uw(e,this.left,a)-a/2,c=uw(e,this.right,o)+o/2,u=h=s):(u=uw(e,this.top,a)-a/2,h=uw(e,this.bottom,o)+o/2,l=c=s),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&gw(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;ww(t,i.label,0,i.textOffset,n,e)}n&&mw(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Iw(n.font),a=Nw(n.padding),o=n.align;let s=i.lineHeight/2;"bottom"===t||"center"===t||Bb(t)?(s+=a.bottom,Vb(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-i,m=s-a;if(e.isHorizontal()){if(d=Vx(r,a,s),Bb(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:XS(e,n,t);h=s-a}else{if(Bb(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:XS(e,n,t);f=Vx(r,o,i),p="left"===n?-dx:dx}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,s,t,o);ww(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:nk(o,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=qb(e.grid&&e.grid.z,-1),r=qb(e.border&&e.border.z,0);return this._isVisible()&&this.draw===rk.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];a[n]!==this.id||e&&a.type!==e||r.push(a)}return r}_resolveTickFontOptions(e){return Iw(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ik{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=Jb(Object.create(null),[n?sw.get(n):{},sw.get(t),e.defaults]);sw.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");sw.route(a,i,l,s)}))}(t,e.defaultRoutes);e.descriptors&&sw.describe(t,e.descriptors)}(e,a,n),this.override&&sw.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in sw[r]&&(delete sw[r][n],this.override&&delete nw[n])}}class ak{constructor(){this.controllers=new ik(q_,"datasets",!0),this.elements=new ik(QS,"elements"),this.plugins=new ik(Object,"plugins"),this.scales=new ik(rk,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):Qb(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=rx(e);Kb(n["before"+r],[],n),t[e](n),Kb(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var ok=new ak;class sk{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===Kb(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){zb(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=qb(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(ok.plugins.items);for(let a=0;a<r.length;a++)n.push(ok.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const e=i[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:a}=t;const o=[],s=e.getContext();for(const l of i){const t=l.id,i=lk(n[t],r);null!==i&&o.push({plugin:l,options:ck(e.config,{plugin:l,local:a[t]},i,s)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function lk(e,t){return t||!1!==e?!0===e?{}:e:null}function ck(e,t,n,r){let{plugin:i,local:a}=t;const o=e.pluginScopeKeys(i),s=e.getOptionScopes(n,o);return a&&i.defaults&&s.push(i.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uk(e,t){const n=sw.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function hk(e){if("x"===e||"y"===e||"r"===e)return e}function dk(e){if(hk(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const a of n){const t=a.axis||("top"===(i=a.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&hk(e[0].toLowerCase());if(t)return t}var i;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function fk(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function pk(e,t){const n=nw[e.type]||{scales:{}},r=t.scales||{},i=uk(e.type,t),a=Object.create(null);return Object.keys(r).forEach((t=>{const o=r[t];if(!Bb(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=dk(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return fk(e,"x",n[0])||fk(e,"y",n[0])}return{}}(t,e),sw.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,i),c=n.scales||{};a[t]=Zb(Object.create(null),[{axis:s},o,c[s],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,o=n.indexAxis||uk(i,t),s=(nw[i]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),Zb(a[i],[{axis:t},r[i],s[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];Zb(t,[sw.scales[t.type],sw.scale])})),a}function gk(e){const t=e.options||(e.options={});t.plugins=qb(t.plugins,{}),t.scales=pk(e,t)}function mk(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const yk=new Map,vk=new Set;function bk(e,t){let n=yk.get(e);return n||(n=t(),yk.set(e,n),vk.add(n)),n}const xk=(e,t,n)=>{const r=nx(t,n);void 0!==r&&e.add(r)};class wk{constructor(e){this._config=function(e){return(e=e||{}).data=mk(e.data),gk(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),gk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bk(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return bk("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return bk("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return bk("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>xk(s,e,t)))),t.forEach((e=>xk(s,r,e))),t.forEach((e=>xk(s,nw[i]||{},e))),t.forEach((e=>xk(s,sw,e))),t.forEach((e=>xk(s,rw,e)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),vk.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,nw[t]||{},sw.datasets[t]||{},{type:t},sw,rw]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:a,subPrefixes:o}=_k(this._resolverCache,e,r);let s=a;if(function(e,t){const{isScriptable:n,isIndexable:r}=Lw(e);for(const i of t){const t=n(i),a=r(i),o=(a||t)&&e[i];if(t&&(ax(o)||Sk(o))||a&&Vb(o))return!0}return!1}(a,t)){i.$shared=!1;s=Pw(a,n=ax(n)?n():n,this.createResolver(e,n,o))}for(const l of t)i[l]=s[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=_k(this._resolverCache,e,n);return Bb(t)?Pw(i,t,void 0,r):i}}function _k(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);if(!a){a={resolver:Ow(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,a)}return a}const Sk=e=>Bb(e)&&Object.getOwnPropertyNames(e).some((t=>ax(e[t])));const kk=["top","bottom","left","right","chartArea"];function Tk(e,t){return"top"===e||"bottom"===e||-1===kk.indexOf(e)&&"x"===t}function Ek(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ck(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Kb(n&&n.onComplete,[e],t)}function Dk(e){const t=e.chart,n=t.options.animation;Kb(n&&n.onProgress,[e],t)}function Nk(e){return e_()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ik={},Ak=e=>{const t=Nk(e);return Object.values(Ik).filter((e=>e.canvas===t)).pop()};function Mk(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const a=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=a)}}}class Ok{static register(){ok.add(...arguments),Pk()}static unregister(){ok.remove(...arguments),Pk()}constructor(e,t){const n=this.config=new wk(t),r=Nk(e),i=Ak(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!e_()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?AS:KS}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,a.aspectRatio),s=o&&o.canvas,l=s&&s.height,c=s&&s.width;this.id=Fb(),this.ctx=o,this.canvas=s,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],Ik[this.id]=this,o&&s?(D_.listen(this,"complete",Ck),D_.listen(this,"progress",Dk),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return zb(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ok}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():c_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hw(this.canvas,this.ctx),this}stop(){return D_.stop(this),this}resize(e,t){D_.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,c_(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Kb(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Qb(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=dk(e,n),i="r"===r,a="x"===r;return{options:n,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),Qb(i,(t=>{const i=t.options,a=i.id,o=dk(a,i),s=qb(i.type,t.dtype);void 0!==i.position&&Tk(i.position,o)===Tk(t.dposition)||(i.position=t.dposition),r[a]=!0;let l=null;if(a in n&&n[a].type===s)l=n[a];else{l=new(ok.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),Qb(r,((e,t)=>{e||delete n[t]})),Qb(n,(e=>{NS.configure(this,e,e.options),NS.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Ek("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const a=r.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=a,i.indexAxis=r.indexAxis||uk(a,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=ok.getController(a),{datasetElementType:r,dataElementType:o}=sw.datasets[a];Object.assign(t,{dataElementType:ok.getElement(o),datasetElementType:r&&ok.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){Qb(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||Qb(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ek("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Qb(this.scales,(e=>{NS.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);ox(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){Mk(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!ox(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;NS.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Qb(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ax(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(D_.has(this)?this.attached&&!D_.running(this)&&D_.start(this):(this.draw(),Ck({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=E_(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&gw(t,r),e.controller.draw(),r&&mw(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return pw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=mS.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Mw(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);ix(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),D_.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ik[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Qb(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){Qb(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Qb(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,a,o,s;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!Gb(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=i(t,e),o=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,a=t,o=this._getActiveElements(e,r,n,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Kb(i.onHover,[e,o,this],this),s&&Kb(i.onClick,[e,o,this],this));const c=!Gb(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function Pk(){return Qb(Ok.instances,(e=>e._plugins.invalidate()))}function Lk(e,t,n,r){const i=Ew(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,o=Math.min(a,r*t/2),s=e=>{const t=(n-Math.min(a,e))*r/2;return Nx(e,0,Math.min(a,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Nx(i.innerStart,0,o),innerEnd:Nx(i.innerEnd,0,o)}}function jk(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Rk(e,t,n,r,i,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*h-n/sx)/h)/2,m=l+g+f,y=i-g-f,{outerStart:v,outerEnd:b,innerStart:x,innerEnd:w}=Lk(t,d,h,y-m),_=h-v,S=h-b,k=m+v/_,T=y-b/S,E=d+x,C=d+w,D=m+x/E,N=y-w/C;if(e.beginPath(),a){const t=(k+T)/2;if(e.arc(o,s,h,k,t),e.arc(o,s,h,t,T),b>0){const t=jk(S,T,o,s);e.arc(t.x,t.y,b,T,y+dx)}const n=jk(C,y,o,s);if(e.lineTo(n.x,n.y),w>0){const t=jk(C,N,o,s);e.arc(t.x,t.y,w,y+dx,N+Math.PI)}const r=(y-w/d+(m+x/d))/2;if(e.arc(o,s,d,y-w/d,r,!0),e.arc(o,s,d,r,m+x/d,!0),x>0){const t=jk(E,D,o,s);e.arc(t.x,t.y,x,D+Math.PI,m-dx)}const i=jk(_,m,o,s);if(e.lineTo(i.x,i.y),v>0){const t=jk(_,k,o,s);e.arc(t.x,t.y,v,m-dx,k)}}else{e.moveTo(o,s);const t=Math.cos(k)*h+o,n=Math.sin(k)*h+s;e.lineTo(t,n);const r=Math.cos(T)*h+o,i=Math.sin(T)*h+s;e.lineTo(r,i)}e.closePath()}function Fk(e,t,n,r,i){const{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(a){Rk(e,t,n,r,g,i);for(let t=0;t<a;++t)e.stroke();isNaN(s)||(g=o+(s%lx||lx))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=i/s;e.beginPath(),e.arc(a,o,s,r-c,n+c),l>i?(c=i/l,e.arc(a,o,l,n+c,r-c,!0)):e.arc(a,o,i,n+dx,r-dx),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-o>=sx&&0===f&&"miter"!==u&&function(e,t,n){const{startAngle:r,x:i,y:a,outerRadius:o,innerRadius:s,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Cx(r-n));if(e.beginPath(),e.arc(i,a,o-c/2,r+h/2,n-h/2),s>0){const t=Math.min(c/s,Cx(r-n));e.arc(i,a,s+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,o*Cx(r-n));if("round"===u)e.arc(i,a,t,n-sx/2,r+sx/2,!0);else if("bevel"===u){const o=2*t*t,s=-o*Math.cos(n+sx/2)+i,l=-o*Math.sin(n+sx/2)+a,c=o*Math.cos(r+sx/2)+i,u=o*Math.sin(r+sx/2)+a;e.lineTo(s,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),a||(Rk(e,t,n,r,g,i),e.stroke())}s(Ok,"defaults",sw),s(Ok,"instances",Ik),s(Ok,"overrides",nw),s(Ok,"registry",ok),s(Ok,"version","4.5.0"),s(Ok,"getChart",Ak);class zk extends QS{constructor(e){super(),s(this,"circumference",void 0),s(this,"endAngle",void 0),s(this,"fullCircles",void 0),s(this,"innerRadius",void 0),s(this,"outerRadius",void 0),s(this,"pixelMargin",void 0),s(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:a}=kx(r,{x:e,y:t}),{startAngle:o,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=qb(u,s-o),f=Dx(i,o,s)&&o!==s,p=d>=lx||f,g=Ix(a,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(r+i)/2,u=(a+o+l+s)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>lx?Math.floor(n/lx):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);const s=r*(1-Math.sin(Math.min(sx,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){Rk(e,t,n,r,l,i);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=o+(s%lx||lx))}Rk(e,t,n,r,l,i),e.fill()}(e,this,s,i,a),Fk(e,this,s,i,a),e.restore()}}function Vk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=qb(n.borderCapStyle,t.borderCapStyle),e.setLineDash(qb(n.borderDash,t.borderDash)),e.lineDashOffset=qb(n.borderDashOffset,t.borderDashOffset),e.lineJoin=qb(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=qb(n.borderWidth,t.borderWidth),e.strokeStyle=qb(n.borderColor,t.borderColor)}function Bk(e,t,n){e.lineTo(n.x,n.y)}function Uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:a=r-1}=n,{start:o,end:s}=t,l=Math.max(i,o),c=Math.min(a,s),u=i<o&&a<o||i>s&&a>s;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Hk(e,t,n,r){const{points:i,options:a}=t,{count:o,start:s,loop:l,ilen:c}=Uk(i,n,r),u=function(e){return e.stepped?yw:e.tension||"monotone"===e.cubicInterpolationMode?vw:Bk}(a);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(s+(g?c-h:h))%o],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,a.stepped),f=d);return l&&(d=i[(s+(g?c:0))%o],u(e,f,d,g,a.stepped)),!!l}function qk(e,t,n,r){const i=t.points,{count:a,start:o,ilen:s}=Uk(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,y=0;const v=e=>(o+(c?s-e:e))%a,b=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=i[v(0)],e.moveTo(h.x,h.y)),u=0;u<=s;++u){if(h=i[v(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),m=(y*m+t)/++y):(b(),e.lineTo(t,n),d=r,y=0,f=p=n),g=n}b()}function Wk(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?qk:Hk}s(zk,"id","arc"),s(zk,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),s(zk,"defaultRoutes",{backgroundColor:"backgroundColor"}),s(zk,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Kk="function"===typeof Path2D;function Qk(e,t,n,r){Kk&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Vk(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:a}=t,o=Wk(t);for(const s of i)Vk(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Gk extends QS{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Zw(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}(n,i,a,r);return __(e,!0===r?[{start:o,end:s,loop:a}]:function(e,t,n,r){const i=e.length,a=[];let o,s=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%i];n.skip||n.stop?l.skip||(r=!1,a.push({start:t%i,end:(o-1)%i,loop:r}),t=s=n.stop?o:null):(s=o,l.skip&&(t=o)),l=n}return null!==s&&a.push({start:t%i,end:s%i,loop:r}),a}(n,o,s<o?s+i:s,!!e._fullLoop&&0===o&&s===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,a=w_(this,{property:t,start:r,end:r});if(!a.length)return;const o=[],s=function(e){return e.stepped?f_:e.tension||"monotone"===e.cubicInterpolationMode?p_:d_}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],h=i[c],d=i[u];if(h===d){o.push(h);continue}const f=s(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return Wk(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=Wk(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)a&=i(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Qk(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yk(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}s(Gk,"id","line"),s(Gk,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),s(Gk,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),s(Gk,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Xk extends QS{constructor(e){super(),s(this,"parsed",void 0),s(this,"skip",void 0),s(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Yk(this,e,"x",t)}inYRange(e,t){return Yk(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!pw(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,dw(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function $k(e,t){const{x:n,y:r,base:i,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,h;return e.horizontal?(h=o/2,s=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=a/2,s=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:s,top:c,right:l,bottom:u}}function Jk(e,t,n,r){return e?0:Nx(t,n,r)}function Zk(e){const t=$k(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=Cw(r);return{t:Jk(i.top,a.top,0,n),r:Jk(i.right,a.right,0,t),b:Jk(i.bottom,a.bottom,0,n),l:Jk(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Dw(i),o=Math.min(t,n),s=e.borderSkipped,l=r||Bb(i);return{topLeft:Jk(!l||s.top||s.left,a.topLeft,0,o),topRight:Jk(!l||s.top||s.right,a.topRight,0,o),bottomLeft:Jk(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:Jk(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function eT(e,t,n,r){const i=null===t,a=null===n,o=e&&!(i&&a)&&$k(e,r);return o&&(i||Ix(t,o.left,o.right))&&(a||Ix(n,o.top,o.bottom))}function tT(e,t){e.rect(t.x,t.y,t.w,t.h)}function nT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}s(Xk,"id","point"),s(Xk,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),s(Xk,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class rT extends QS{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:a}=Zk(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?_w:tT;var s;e.save(),a.w===i.w&&a.h===i.h||(e.beginPath(),o(e,nT(a,t,i)),e.clip(),o(e,nT(i,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,nT(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return eT(this,e,t,n)}inXRange(e,t){return eT(this,e,null,t)}inYRange(e,t){return eT(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}s(rT,"id","bar"),s(rT,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),s(rT,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const iT=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class aT extends QS{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Kb(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Iw(n.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=iT(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,o,s)+10):(c=this.maxHeight,l=this._fitCols(a,r,o,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>a)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),s[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const a=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=oT(t,n));return r}(i,r,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,i,e,r);a>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),s[a]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,a=g_(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=Vx(n,this.left+r,this.right-this.lineWidths[i]);for(const s of t)i!==s.row&&(i=s.row,o=Vx(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+e+r,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+r}else{let i=0,o=Vx(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const s of t)s.col!==i&&(i=s.col,o=Vx(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),s.top=o,s.left+=this.left+r,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;gw(e,this),this._draw(),mw(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:a}=e,o=sw.color,s=g_(e.rtl,this.left,this.width),l=Iw(a.font),{padding:c}=a,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=iT(a,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:Vx(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Vx(i,this.top+y+c,this.bottom-t[0].height),line:0},m_(this.ctx,e.textDirection);const v=g+c;this.legendItems.forEach(((b,x)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,_=s.textAlign(b.textAlign||(b.textAlign=a.textAlign)),S=f+h+w;let k=d.x,T=d.y;s.setWidth(this.width),m?x>0&&k+S+c>this.right&&(T=d.y+=v,d.line++,k=d.x=Vx(i,this.left+c,this.right-n[d.line])):x>0&&T+v>this.bottom&&(k=d.x=k+t[d.line].width+c,d.line++,T=d.y=Vx(i,this.top+y+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=qb(n.lineWidth,1);if(r.fillStyle=qb(n.fillStyle,o),r.lineCap=qb(n.lineCap,"butt"),r.lineDashOffset=qb(n.lineDashOffset,0),r.lineJoin=qb(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=qb(n.strokeStyle,o),r.setLineDash(qb(n.lineDash,[])),a.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=s.xPlus(e,f/2);fw(r,o,l,t+h,a.pointStyleWidth&&f)}else{const a=t+Math.max((u-p)/2,0),o=s.leftForLtr(e,f),l=Dw(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?_w(r,{x:o,y:a,w:f,h:p,radius:l}):r.rect(o,a,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(k),T,b),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,k+f+h,m?k+S:this.right,e.rtl),function(e,t,n){ww(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(k),T,b),m)d.x+=S+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=oT(b,e)+c}else d.y+=v})),y_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Iw(t.font),r=Nw(t.padding);if(!t.display)return;const i=g_(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,l=r.top+s;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Vx(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Vx(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=Vx(o,u,u+h);a.textAlign=i.textAlign(zx(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,ww(a,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Iw(e.font),n=Nw(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Ix(e,this.left,this.right)&&Ix(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Ix(e,r.left,r.left+r.width)&&Ix(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,o=(i=n,null!==(r=a)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);a&&!o&&Kb(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!o&&Kb(t.onHover,[e,n,this],this)}else n&&Kb(t.onClick,[e,n,this],this);var r,i}}function oT(e,t){return t*(e.text?e.text.length:0)}var sT={id:"legend",_element:aT,start(e,t,n){const r=e.legend=new aT({ctx:e.ctx,options:n,chart:e});NS.configure(e,r,n),NS.addBox(e,r)},stop(e){NS.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;NS.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Nw(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(s||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class lT extends QS{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Vb(n.text)?n.text.length:1;this._padding=Nw(n.padding);const i=r*Iw(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:a}=this,o=a.align;let s,l,c,u=0;return this.isHorizontal()?(l=Vx(o,n,i),c=t+e,s=i-n):("left"===a.position?(l=n+e,c=Vx(o,r,t),u=-.5*sx):(l=i-e,c=Vx(o,t,r),u=.5*sx),s=r-t),{titleX:l,titleY:c,maxWidth:s,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Iw(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:o,rotation:s}=this._drawArgs(r);ww(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:s,textAlign:zx(t.align),textBaseline:"middle",translation:[i,a]})}}var cT={id:"title",_element:lT,start(e,t,n){!function(e,t){const n=new lT({ctx:e.ctx,options:t,chart:e});NS.configure(e,n,t),NS.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;NS.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;NS.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const uT={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++a}}if(0===a||0===r.size)return!1;return{x:[...r].reduce(((e,t)=>e+t))/r.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Tx(t,r.getCenterPoint());e<s&&(s=e,i=r)}}if(i){const e=i.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function hT(e,t){return t&&(Vb(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function dT(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function fT(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:o,value:s}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:s,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function pT(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=Iw(t.bodyFont),c=Iw(t.titleFont),u=Iw(t.footerFont),h=a.length,d=i.length,f=r.length,p=Nw(t.padding);let g=p.height,m=0,y=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){g+=f*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let v=0;const b=function(e){m=Math.max(m,n.measureText(e).width+v)};return n.save(),n.font=c.string,Qb(e.title,b),n.font=l.string,Qb(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,Qb(r,(e=>{Qb(e.before,b),Qb(e.lines,b),Qb(e.after,b)})),v=0,n.font=u.string,Qb(e.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function gT(e,t,n,r){const{x:i,width:a}=n,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return"center"===r?c=i<=(s+l)/2?"left":"right":i<=a/2?c="left":i>=o-a/2&&(c="right"),function(e,t,n,r){const{x:i,width:a}=r,o=n.caretSize+n.caretPadding;return"left"===e&&i+a+o>t.width||"right"===e&&i-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function mT(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||gT(e,t,n,r),yAlign:r}}function yT(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,c=i+a,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Dw(o);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(u,d)+i:"right"===s&&(p+=Math.max(h,f)+i),{x:Nx(p,0,r.width-t.width),y:Nx(g,0,r.height-t.height)}}function vT(e,t,n){const r=Nw(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function bT(e){return hT([],dT(e))}function xT(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const wT={beforeTitle:Rb,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Rb,beforeBody:Rb,beforeLabel:Rb,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return zb(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Rb,afterBody:Rb,beforeFooter:Rb,footer:Rb,afterFooter:Rb};function _T(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?wT[t].call(n,r):i}class ST extends QS{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new M_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Mw(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=_T(n,"beforeTitle",this,e),i=_T(n,"title",this,e),a=_T(n,"afterTitle",this,e);let o=[];return o=hT(o,dT(r)),o=hT(o,dT(i)),o=hT(o,dT(a)),o}getBeforeBody(e,t){return bT(_T(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return Qb(e,(e=>{const t={before:[],lines:[],after:[]},i=xT(n,e);hT(t.before,dT(_T(i,"beforeLabel",this,e))),hT(t.lines,_T(i,"label",this,e)),hT(t.after,dT(_T(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return bT(_T(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=_T(n,"beforeFooter",this,e),i=_T(n,"footer",this,e),a=_T(n,"afterFooter",this,e);let o=[];return o=hT(o,dT(r)),o=hT(o,dT(i)),o=hT(o,dT(a)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],a=[];let o,s,l=[];for(o=0,s=t.length;o<s;++o)l.push(fT(this.chart,t[o]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),Qb(l,(t=>{const n=xT(e.callbacks,t);r.push(_T(n,"labelColor",this,t)),i.push(_T(n,"labelPointStyle",this,t)),a.push(_T(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(r.length){const e=uT[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=pT(this,n),o=Object.assign({},e,t),s=mT(this.chart,n,o),l=yT(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=Dw(o),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,y,v,b,x;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-a,v=b+a,x=b-a):(g=h+f,m=g+a,v=b-a,x=b+a),y=g):(m="left"===r?h+Math.max(s,c)+a:"right"===r?h+f-Math.max(l,u)-a:this.caretX,"top"===i?(v=d,b=v-a,g=m-a,y=m+a):(v=d+p,b=v+a,g=m+a,y=m-a),x=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let a,o,s;if(i){const l=g_(n.rtl,this.x,this.width);for(e.x=vT(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=Iw(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<i;++s)t.fillText(r[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=i,c=Iw(i.bodyFont),u=vT(this,"left",i),h=r.x(u),d=s<c.lineHeight?(c.lineHeight-s)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,dw(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,dw(e,t,n,c)}else{e.lineWidth=Bb(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),o=Dw(a.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,_w(e,{x:t,y:f,w:l,h:s,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),_w(e,{x:n,y:f+1,w:l-2,h:s-2,radius:o}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,s),e.strokeRect(t,f,l,s),e.fillStyle=a.backgroundColor,e.fillRect(n,f+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=Iw(n.bodyFont);let h=u.lineHeight,d=0;const f=g_(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},g=f.textAlign(a);let m,y,v,b,x,w,_;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=vT(this,g,n),t.fillStyle=n.bodyColor,Qb(this.beforeBody,p),d=o&&"right"!==g?"center"===a?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(m=r[b],y=this.labelTextColors[b],t.fillStyle=y,Qb(m.before,p),v=m.lines,o&&v.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,s)),x=0,_=v.length;x<_;++x)p(v[x]),h=u.lineHeight;Qb(m.after,p)}d=0,h=u.lineHeight,Qb(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let a,o;if(i){const s=g_(n.rtl,this.x,this.width);for(e.x=vT(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=Iw(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<i;++o)t.fillText(r[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:a}=this,{x:o,y:s}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Dw(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+u,s),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+l-h,s),t.quadraticCurveTo(o+l,s,o+l,s+h),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l,s+c-f),t.quadraticCurveTo(o+l,s+c,o+l-f,s+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+d,s+c),t.quadraticCurveTo(o,s+c,o,s+c-d),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,s+u),t.quadraticCurveTo(o,s,o+u,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=uT[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=pT(this,e),o=Object.assign({},n,this._size),s=mT(t,e,o),l=yT(e,o,s,t);r._to===l.x&&i._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Nw(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),m_(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),y_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!Gb(n,r),a=this._positionChanged(r,t);(i||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),o=this._positionChanged(a,e),s=t||!Gb(a,i)||o;return s&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,a=uT[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}s(ST,"positioners",uT);var kT={id:"tooltip",_element:ST,positioners:uT,afterInit(e,t,n){n&&(e.tooltip=new ST({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",c(c({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function TT(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function ET(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class CT extends rk{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(zb(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Nx(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:TT(n,e,qb(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return ET.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function DT(e,t){const n=[],{bounds:r,step:i,min:a,max:o,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:g}=t,m=!zb(a),y=!zb(o),v=!zb(l),b=(g-p)/(u+1);let x,w,_,S,k=vx((g-p)/f/d)*d;if(k<1e-14&&!m&&!y)return[{value:p},{value:g}];S=Math.ceil(g/k)-Math.floor(p/k),S>f&&(k=vx(S*k/f/d)*d),zb(s)||(x=Math.pow(10,s),k=Math.ceil(k*x)/x),"ticks"===r?(w=Math.floor(p/k)*k,_=Math.ceil(g/k)*k):(w=p,_=g),m&&y&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-a)/i,k/1e3)?(S=Math.round(Math.min((o-a)/k,c)),k=(o-a)/S,w=a,_=o):v?(w=m?a:w,_=y?o:_,S=l-1,k=(_-w)/S):(S=(_-w)/k,S=yx(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const T=Math.max(Sx(k),Sx(w));x=Math.pow(10,zb(s)?T:s),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let E=0;for(m&&(h&&w!==a?(n.push({value:a}),w<a&&E++,yx(Math.round((w+E*k)*x)/x,a,NT(a,b,e))&&E++):w<a&&E++);E<S;++E){const e=Math.round((w+E*k)*x)/x;if(y&&e>o)break;n.push({value:e})}return y&&h&&_!==o?n.length&&yx(n[n.length-1].value,o,NT(o,b,e))?n[n.length-1].value=o:n.push({value:o}):y&&_!==o||n.push({value:_}),n}function NT(e,t,n){let{horizontal:r,minRotation:i}=n;const a=wx(i),o=(r?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}s(CT,"id","category"),s(CT,"defaults",{ticks:{callback:ET}});class IT extends rk{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return zb(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const a=e=>r=t?r:e,o=e=>i=n?i:e;if(e){const e=mx(r),t=mx(i);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);o(i+t),e||a(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=DT({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&xx(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Zx(e,this.chart.options.locale,this.options.ticks.format)}}class AT extends IT{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ub(e)?e:0,this.max=Ub(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=wx(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}s(AT,"id","linear"),s(AT,"defaults",{ticks:{callback:tw.formatters.numeric}});const MT=e=>Math.floor(gx(e)),OT=(e,t)=>Math.pow(10,MT(e)+t);function PT(e){return 1===e/Math.pow(10,MT(e))}function LT(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function jT(e,t){let{min:n,max:r}=t;n=Hb(e.min,n);const i=[],a=MT(n);let o=function(e,t){let n=MT(t-e);for(;LT(e,t,n)>10;)n++;for(;LT(e,t,n)<10;)n--;return Math.min(n,MT(e))}(n,r),s=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=a>o?Math.pow(10,a):0,u=Math.round((n-c)*s)/s,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=Hb(e.min,Math.round((c+h+d*Math.pow(10,o))*s)/s);for(;f<r;)i.push({value:f,major:PT(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),f=Math.round((c+h+d*Math.pow(10,o))*s)/s;const p=Hb(e.max,f);return i.push({value:p,major:PT(p),significand:d}),i}class RT extends rk{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=IT.prototype.parse.apply(this,[e,t]);if(0!==n)return Ub(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ub(e)?Math.max(0,e):null,this.max=Ub(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ub(this._userMin)&&(this.min=e===OT(this.min,0)?OT(this.min,-1):OT(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,a=e=>r=t?r:e;n===r&&(n<=0?(i(1),a(10)):(i(OT(n,-1)),a(OT(r,1)))),n<=0&&i(OT(r,-1)),r<=0&&a(OT(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=jT({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&xx(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Zx(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=gx(e),this._valueRange=gx(this.max)-gx(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(gx(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function FT(e){const t=e.ticks;if(t.display&&e.display){const e=Nw(t.backdropPadding);return qb(t.font&&t.font.size,sw.font.size)+e.height}return 0}function zT(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function VT(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?sx/a:0;for(let h=0;h<a;h++){const a=o.setContext(e.getPointLabelContext(h));i[h]=a.padding;const d=e.getPointPosition(h,e.drawingArea+i[h],s),f=Iw(a.font),p=(l=e.ctx,c=f,u=Vb(u=e._pointLabels[h])?u:[u],{w:cw(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const g=Cx(e.getIndexAngle(h)+s),m=Math.round(_x(g));BT(n,t,g,zT(m,d.x,p.w,0,180),zT(m,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:FT(a)/2,additionalAngle:o?sx/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=UT(e,u,l);r.push(i),"auto"===s&&(i.visible=HT(i,c),i.visible&&(c=i))}return r}(e,r,i)}function BT(e,t,n,r,i){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;r.start<t.l?(s=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function UT(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:a,padding:o,size:s}=n,l=e.getPointPosition(t,r+i+o,a),c=Math.round(_x(Cx(l.angle+dx))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+s.w,bottom:u+s.h}}function HT(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:a}=e;return!(pw({x:n,y:r},t)||pw({x:n,y:a},t)||pw({x:i,y:r},t)||pw({x:i,y:a},t))}function qT(e,t,n){const{left:r,top:i,right:a,bottom:o}=n,{backdropColor:s}=t;if(!zb(s)){const n=Dw(t.borderRadius),l=Nw(t.backdropPadding);e.fillStyle=s;const c=r-l.left,u=i-l.top,h=a-r+l.width,d=o-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),_w(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function WT(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,lx);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let a=1;a<r;a++)n=e.getPointPosition(a,t),i.lineTo(n.x,n.y)}}s(RT,"id","logarithmic"),s(RT,"defaults",{ticks:{callback:tw.formatters.logarithmic,major:{enabled:!0}}});class KT extends IT{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Nw(FT(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ub(e)&&!isNaN(e)?e:0,this.max=Ub(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/FT(this.options))}generateTickLabels(e){IT.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Kb(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?VT(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Cx(e*(lx/(this._pointLabels.length||1))+wx(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(zb(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(zb(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Mw(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-dx+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),WT(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,a=this._pointLabels.length;let o,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const a=r.setContext(e.getPointLabelContext(i));qT(n,a,t);const o=Iw(a.font),{x:s,y:l,textAlign:c}=t;ww(n,e._pointLabels[i],s,l+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const a=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!r||!s||!l||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),WT(e,n,o,r),a.closePath(),a.stroke(),a.restore())}(this,o,s,a,l)}})),n.display){for(e.save(),o=a-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:a}=r;a&&i&&(e.lineWidth=a,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(o)),l=Iw(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(r.label).width,e.fillStyle=s.backdropColor;const t=Nw(s.backdropPadding);e.fillRect(-a/2-t.left,-i-l.size/2-t.top,a+t.width,l.size+t.height)}ww(e,r.label,0,-i,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}s(KT,"id","radialLinear"),s(KT,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),s(KT,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),s(KT,"descriptors",{angleLines:{_fallback:"grid"}});const QT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},GT=Object.keys(QT);function YT(e,t){return e-t}function XT(e,t){if(zb(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let o=t;return"function"===typeof r&&(o=r(o)),Ub(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!bx(a)&&!0!==a?n.startOf(o,i):n.startOf(o,"isoWeek",a)),+o)}function $T(e,t,n,r){const i=GT.length;for(let a=GT.indexOf(e);a<i-1;++a){const e=QT[GT[a]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return GT[a]}return GT[i-1]}function JT(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Ax(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function ZT(e,t,n){const r=[],i={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],i[s]=o,r.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+i.add(s,1,r))l=n[s],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class eE extends rk{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new cS(e.adapters.date);r.init(t),Zb(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:XT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function s(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),o||isNaN(e.max)||(i=Math.max(i,e.max))}a&&o||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),r=Ub(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=Ub(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?$T(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let a=GT.length-1;a>=GT.indexOf(n);a--){const n=GT[a];if(QT[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return GT[n?GT.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=GT.indexOf(e)+1,n=GT.length;t<n;++t)if(QT[GT[t]].common)return GT[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),ZT(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;r=Nx(r,0,a),i=Nx(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,a=i.unit||$T(i.minUnit,t,n,this._getLabelCapacity(t)),o=qb(r.ticks.stepSize,1),s="week"===a&&i.isoWeekday,l=bx(s)||!0===s,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",s)),d=+e.startOf(d,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,a),h++)JT(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||JT(c,u,f),Object.keys(c).sort(YT).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,a=i.ticks.callback;if(a)return Kb(a,[e,t,n],this);const o=i.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&o[s],u=l&&o[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=wx(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,ZT(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(XT(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jx(e.sort(YT))}}function tE(e,t,n){let r,i,a,o,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=Mx(e,"pos",t)),({pos:r,time:a}=e[s]),({pos:i,time:o}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=Mx(e,"time",t)),({time:r,pos:a}=e[s]),({time:i,pos:o}=e[l]));const c=i-r;return c?a+(o-a)*(t-r)/c:a}s(eE,"id","time"),s(eE,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class nE extends eE{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=tE(t,this.min),this._tableRange=tE(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=r.length;a<o;++a)c=r[a+1],s=r[a-1],l=r[a],Math.round((c+s)/2)!==l&&i.push({time:l,pos:a/(o-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(tE(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return tE(this._table,n*this._tableRange+this._minPos,!0)}}s(nE,"id","timeseries"),s(nE,"defaults",eE.defaults);const rE=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],iE="label";function aE(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function oE(e,t){e.labels=t}function sE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iE;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):c({},t)}))}function lE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iE;const n={labels:[],datasets:[]};return oE(n,e.labels),sE(n,e.datasets,t),n}function cE(e,t){const{height:n=150,width:a=300,redraw:o=!1,datasetIdKey:s,type:l,data:u,options:h,plugins:d=[],fallbackContent:f,updateMode:p}=e,g=i(e,rE),m=(0,r.useRef)(null),y=(0,r.useRef)(null),v=()=>{m.current&&(y.current=new Ok(m.current,{type:l,data:lE(u,s),options:h&&c({},h),plugins:d}),aE(t,y.current))},b=()=>{aE(t,null),y.current&&(y.current.destroy(),y.current=null)};return(0,r.useEffect)((()=>{!o&&y.current&&h&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(y.current,h)}),[o,h]),(0,r.useEffect)((()=>{!o&&y.current&&oE(y.current.config.data,u.labels)}),[o,u.labels]),(0,r.useEffect)((()=>{!o&&y.current&&u.datasets&&sE(y.current.config.data,u.datasets,s)}),[o,u.datasets]),(0,r.useEffect)((()=>{y.current&&(o?(b(),setTimeout(v)):y.current.update(p))}),[o,h,u.labels,u.datasets,p]),(0,r.useEffect)((()=>{y.current&&(b(),setTimeout(v))}),[l]),(0,r.useEffect)((()=>(v(),()=>b())),[]),r.createElement("canvas",c({ref:m,role:"img",height:n,width:a},g),f)}const uE=(0,r.forwardRef)(cE);function hE(e,t){return Ok.register(t),(0,r.forwardRef)(((t,n)=>r.createElement(uE,c(c({},t),{},{ref:n,type:e}))))}const dE=hE("line",nS);function fE(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)((new Date).getFullYear()),[a,o]=(0,r.useState)(Array(12).fill(0)),[s,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=df(Yg,"orders"),n=(await wp(e)).docs.map((e=>{const t=e.data();return console.log("Order raw data:",t),c(c({id:e.id},t),{},{dateTimeOrder:t.dateTimeOrder&&t.dateTimeOrder.seconds?new Date(1e3*t.dateTimeOrder.seconds):null})}));t(n)}catch(e){l("L\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u t\u1eeb Firebase: "+e.message),console.error(e)}})()}),[]),(0,r.useEffect)((()=>{const t=Array(12).fill(0);e.forEach((e=>{if(e.dateTimeOrder&&e.quantity&&!isNaN(e.quantity)){if(e.dateTimeOrder.getFullYear()===n){const n=e.dateTimeOrder.getMonth();t[n]+=Number(e.quantity)}}})),o(t)}),[e,n]);const u={labels:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],datasets:[{label:"S\u1ed1 l\u01b0\u1ee3ng l\xf4 h\xe0ng",data:a,borderColor:"#36A2EB",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!0,tension:.1}]},h={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Xu h\u01b0\u1edbng s\u1ed1 l\u01b0\u1ee3ng l\xf4 h\xe0ng n\u0103m ".concat(n)}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"S\u1ed1 l\u01b0\u1ee3ng"}},x:{title:{display:!0,text:"Th\xe1ng"}}}};return s?(0,kt.jsx)("div",{style:{color:"red"},children:s}):(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h2",{children:"T\u1ed5ng h\u1ee3p s\u1ed1 l\u01b0\u1ee3ng theo th\xe1ng"}),(0,kt.jsx)("select",{value:n,onChange:e=>i(Number(e.target.value)),children:[2025,2026,2027,2028,2029,2030,2031].map((e=>(0,kt.jsx)("option",{value:e,children:e},e)))}),(0,kt.jsx)(dE,{data:u,options:h})]})}function pE(){const{id:e}=ge(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(!0),[l,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)({idMovie:"",dateTimeStart:"",dateTimeEnd:"",status:"active"});(0,r.useEffect)((()=>{const t=async()=>{try{s(!0),u(null);const t=(await wp(df(Yg,"movies"))).docs.map((e=>c({id:e.id},e.data())));a(t);const r=ep(df(Yg,"screening"),np("idScreenRoom","==",e)),i=await wp(r),o=await Promise.all(i.docs.map((async e=>{const t=e.data();let n=c({},t);t.dateTimeStart&&t.dateTimeStart.toDate&&(n.dateTimeStart=t.dateTimeStart.toDate().toLocaleString("vi-VN")),t.dateTimeEnd&&t.dateTimeEnd.toDate&&(n.dateTimeEnd=t.dateTimeEnd.toDate().toLocaleString("vi-VN"));let r={};if(t.idMovie)try{const e=ff(Yg,"movies",t.idMovie),n=await function(e){e=tf(e,uf);const t=tf(e.firestore,yf);return Qd(vf(t),e._key).then((n=>Ep(t,e,n)))}(e);n.exists()&&(r=n.data())}catch(i){console.error("L\u1ed7i khi l\u1ea5y th\xf4ng tin phim:",i)}return c(c({id:e.id},n),{},{movie:r,originalData:t})})));n(o)}catch(l){console.error("L\u1ed7i l\u1ea5y su\u1ea5t chi\u1ebfu:",l),u("Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch su\u1ea5t chi\u1ebfu. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{s(!1)}};e&&t()}),[e]);const g=()=>{d(null),p({idMovie:"",dateTimeStart:"",dateTimeEnd:"",status:"active"})};if(o)return(0,kt.jsx)(yn,{});return(0,kt.jsxs)("div",{className:"screen-room-container",children:[(0,kt.jsx)(gn,{}),(0,kt.jsx)("style",{children:"\n        .screen-room-container {\n          max-width: 1200px;\n          margin: 0 auto;\n          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n\n        .screen-room-title {\n          text-align: center;\n          font-size: 2rem;\n          font-weight: bold;\n          margin-bottom: 30px;\n          color: #333;\n        }\n\n        .loading, .error {\n          text-align: center;\n          font-size: 1.2rem;\n          margin-top: 40px;\n          padding: 20px;\n        }\n\n        .loading {\n          color: #007bff;\n        }\n\n        .error {\n          color: #dc3545;\n          background-color: #f8d7da;\n          border: 1px solid #f5c6cb;\n          border-radius: 4px;\n        }\n\n        .screening-table {\n          width: 100%;\n          border-collapse: collapse;\n          background-color: #fff;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n          border-radius: 8px;\n          overflow: hidden;\n        }\n\n        .screening-table th, .screening-table td {\n          padding: 15px 12px;\n          border-bottom: 1px solid #dee2e6;\n          text-align: left;\n          vertical-align: middle;\n        }\n\n        .screening-table th {\n          background-color: #f8f9fa;\n          font-weight: 600;\n          color: #495057;\n          text-transform: uppercase;\n          font-size: 0.9rem;\n          letter-spacing: 0.5px;\n        }\n\n        .screening-table tbody tr:hover {\n          background-color: #f5f5f5;\n        }\n\n        .screening-table tbody tr:last-child td {\n          border-bottom: none;\n        }\n\n        .no-screenings {\n          text-align: center;\n          padding: 40px 20px;\n          font-style: italic;\n          color: #6c757d;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          margin-top: 20px;\n        }\n\n        .movie-title {\n          font-weight: 500;\n          color: #007bff;\n        }\n\n        .movie-info {\n          font-size: 0.9rem;\n          color: #6c757d;\n          margin-top: 4px;\n        }\n\n        .screening-status {\n          display: inline-block;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-size: 0.8rem;\n          font-weight: 500;\n          text-transform: uppercase;\n        }\n\n        .status-active {\n          background-color: #d4edda;\n          color: #155724;\n        }\n\n        .status-ended {\n          background-color: #f8d7da;\n          color: #721c24;\n        }\n\n        .status-maintenance {\n          background-color: #fff3cd;\n          color: #856404;\n        }\n\n        .datetime-cell {\n          font-family: 'Courier New', monospace;\n          font-size: 1rem;\n          \n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 8px;\n          align-items: center;\n        }\n\n        .btn {\n          padding: 6px 12px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.85rem;\n          font-weight: 500;\n          transition: all 0.2s;\n        }\n\n        .btn-edit {\n          background-color: #ffc107;\n          color: #212529;\n        }\n\n        .btn-edit:hover {\n          background-color: #e0a800;\n        }\n\n        .btn-delete {\n          background-color: #dc3545;\n          color: #fff;\n        }\n\n        .btn-delete:hover {\n          background-color: #c82333;\n        }\n\n        .btn-save {\n          background-color: #28a745;\n          color: #fff;\n        }\n\n        .btn-save:hover {\n          background-color: #218838;\n        }\n\n        .btn-cancel {\n          background-color: #6c757d;\n          color: #fff;\n        }\n\n        .btn-cancel:hover {\n          background-color: #5a6268;\n        }\n\n        .edit-form {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        .edit-form select, .edit-form input {\n          padding: 6px 8px;\n          border: 1px solid #ced4da;\n          border-radius: 4px;\n          font-size: 0.9rem;\n          width: 300px;\n        }\n\n        .edit-form select:focus, .edit-form input:focus {\n          outline: none;\n          border-color: #007bff;\n          box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);\n        }\n\n        .edit-actions {\n          display: flex;\n          gap: 6px;\n          margin-top: 8px;\n        }\n\n        .status-select {\n          width: 150px;\n          padding: 6px 8px;\n          border: 1px solid #ced4da;\n          border-radius: 4px;\n          font-size: 0.9rem;\n        }\n\n        .status-select:focus {\n          outline: none;\n          border-color: #007bff;\n          box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);\n        }\n\n        @media (max-width: 768px) {\n          .screen-room-container {\n            padding: 10px;\n          }\n          \n          .screening-table {\n            font-size: 0.9rem;\n          }\n          \n          .screening-table th, .screening-table td {\n            padding: 10px 8px;\n          }\n          \n          .action-buttons {\n            flex-direction: column;\n            gap: 4px;\n          }\n          \n          .btn {\n            font-size: 0.8rem;\n            padding: 4px 8px;\n          }\n        }\n\n        .edit-cell {\n          background-color: #f8f9fa;\n          border: 2px solid #007bff;\n        }\n      "}),(0,kt.jsx)("h2",{className:"screen-room-title",children:"Danh S\xe1ch Su\u1ea5t Chi\u1ebfu"}),l?(0,kt.jsx)("div",{className:"error",children:l}):0===t.length?(0,kt.jsx)("div",{className:"no-screenings",children:"Kh\xf4ng c\xf3 su\u1ea5t chi\u1ebfu n\xe0o cho ph\xf2ng n\xe0y."}):(0,kt.jsxs)("table",{className:"screening-table",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{children:"STT"}),(0,kt.jsx)("th",{children:"Phim"}),(0,kt.jsx)("th",{children:"B\u1eaft \u0110\u1ea7u"}),(0,kt.jsx)("th",{children:"K\u1ebft Th\xfac"}),(0,kt.jsx)("th",{children:"Tr\u1ea1ng Th\xe1i"}),(0,kt.jsx)("th",{})]})}),(0,kt.jsx)("tbody",{children:t.map(((e,r)=>{var a;const o=(e=>{var t;if(null!==(t=e.originalData)&&void 0!==t&&t.status)return{status:"active"===e.originalData.status?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"B\u1ea3o tr\xec",className:"active"===e.originalData.status?"status-active":"status-maintenance"};const n=new Date,r=e.dateTimeEnd?new Date(e.dateTimeEnd.replace(/(\d{2})\/(\d{2})\/(\d{4}), (\d{2}):(\d{2}):(\d{2})/,"$3-$2-$1T$4:$5:$6")):null,i=r&&r<n;return{status:i?"\u0110\xe3 k\u1ebft th\xfac":"\u0110ang ho\u1ea1t \u0111\u1ed9ng",className:i?"status-ended":"status-active"}})(e),u=h===e.id;return(0,kt.jsxs)("tr",{className:u?"edit-row":"",children:[(0,kt.jsx)("td",{children:r+1}),(0,kt.jsx)("td",{className:u?"edit-cell":"",children:u?(0,kt.jsx)("div",{className:"edit-form",children:(0,kt.jsxs)("select",{value:f.idMovie,onChange:e=>p(c(c({},f),{},{idMovie:e.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"Ch\u1ecdn phim"}),i.map((e=>(0,kt.jsx)("option",{value:e.id,children:e.nameMovie},e.id)))]})}):null!==(a=e.movie)&&void 0!==a&&a.nameMovie?(0,kt.jsxs)("div",{children:[(0,kt.jsx)("div",{className:"movie-title",children:e.movie.nameMovie}),e.movie.timeMovie&&(0,kt.jsxs)("div",{className:"movie-info",children:["Th\u1eddi l\u01b0\u1ee3ng: ",e.movie.timeMovie," ph\xfat"]})]}):(0,kt.jsx)("span",{style:{color:"#6c757d",fontStyle:"italic"},children:"Ch\u01b0a c\xf3 th\xf4ng tin phim"})}),(0,kt.jsx)("td",{className:"datetime-cell ".concat(u?"edit-cell":""),children:u?(0,kt.jsx)("input",{type:"datetime-local",value:f.dateTimeStart,onChange:e=>p(c(c({},f),{},{dateTimeStart:e.target.value}))}):e.dateTimeStart||"N/A"}),(0,kt.jsx)("td",{className:"datetime-cell ".concat(u?"edit-cell":""),children:u?(0,kt.jsx)("input",{type:"datetime-local",value:f.dateTimeEnd,onChange:e=>p(c(c({},f),{},{dateTimeEnd:e.target.value}))}):e.dateTimeEnd||"N/A"}),(0,kt.jsx)("td",{className:u?"edit-cell":"",children:u?(0,kt.jsxs)("select",{className:"status-select",value:f.status,onChange:e=>p(c(c({},f),{},{status:e.target.value})),children:[(0,kt.jsx)("option",{value:"active",children:"\u0110ang ho\u1ea1t \u0111\u1ed9ng"}),(0,kt.jsx)("option",{value:"maintenance",children:"B\u1ea3o tr\xec"})]}):(0,kt.jsx)("span",{className:"screening-status ".concat(o.className),children:o.status})}),(0,kt.jsx)("td",{children:u?(0,kt.jsxs)("div",{className:"edit-actions",children:[(0,kt.jsx)("button",{className:"btn btn-save",onClick:()=>(async e=>{s(!0);try{if(!f.idMovie||!f.dateTimeStart||!f.dateTimeEnd)return void an.error("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!");if(new Date(f.dateTimeEnd)<=new Date(f.dateTimeStart))return void an.error("Th\u1eddi gian k\u1ebft th\xfac ph\u1ea3i sau th\u1eddi gian b\u1eaft \u0111\u1ea7u!");const t=ff(Yg,"screening",e);await Sp(t,{idMovie:f.idMovie,dateTimeStart:new Date(f.dateTimeStart),dateTimeEnd:new Date(f.dateTimeEnd),status:f.status}),d(null),an.success("C\u1eadp nh\u1eadt su\u1ea5t chi\u1ebfu th\xe0nh c\xf4ng!"),window.location.reload()}catch(l){console.error("L\u1ed7i khi c\u1eadp nh\u1eadt su\u1ea5t chi\u1ebfu:",l),an.error("C\u1eadp nh\u1eadt su\u1ea5t chi\u1ebfu th\u1ea5t b\u1ea1i!")}finally{s(!1)}})(e.id),children:"L\u01b0u"}),(0,kt.jsx)("button",{className:"btn btn-cancel",onClick:g,children:"H\u1ee7y"})]}):(0,kt.jsxs)("div",{className:"action-buttons",children:[(0,kt.jsx)("button",{className:"btn btn-edit",onClick:()=>(e=>{d(e.id);const t=e=>e&&e.toDate?e.toDate().toISOString().slice(0,16):"";p({idMovie:e.originalData.idMovie||"",dateTimeStart:t(e.originalData.dateTimeStart),dateTimeEnd:t(e.originalData.dateTimeEnd),status:e.originalData.status||"active"})})(e),children:"S\u1eeda"}),(0,kt.jsx)("button",{className:"btn btn-delete",onClick:()=>{var r;return(async(e,r)=>{if(window.confirm('B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a su\u1ea5t chi\u1ebfu "'.concat(r,'"?')))try{await kp(ff(Yg,"screening",e)),n(t.filter((t=>t.id!==e))),an.success("X\xf3a su\u1ea5t chi\u1ebfu th\xe0nh c\xf4ng!")}catch(l){console.error("L\u1ed7i khi x\xf3a su\u1ea5t chi\u1ebfu:",l),an.error("X\xf3a su\u1ea5t chi\u1ebfu th\u1ea5t b\u1ea1i!")}})(e.id,(null===(r=e.movie)||void 0===r?void 0:r.nameMovie)||"Su\u1ea5t chi\u1ebfu")},children:"X\xf3a"})]})})]},e.id)}))})]})]})}function gE(){const e=fe();return(0,kt.jsxs)("div",{className:"error-container",children:[(0,kt.jsxs)("div",{className:"error-content",children:[(0,kt.jsx)("h1",{children:"404"}),(0,kt.jsx)("p",{children:"Trang b\u1ea1n \u0111ang t\xecm kh\xf4ng t\u1ed3n t\u1ea1i ho\u1eb7c \u0111\xe3 b\u1ecb m\u1ea5t k\u1ebft n\u1ed1i."}),(0,kt.jsx)("button",{onClick:()=>{e(-1)},children:"Quay l\u1ea1i trang ch\u1ee7"})]}),(0,kt.jsx)("style",{children:"\n        .error-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          height: 856px;\n          background: linear-gradient(135deg, #f8f9fa, #dbe9f4);\n          font-family: 'Segoe UI', sans-serif;\n          text-align: center;\n        }\n\n        .error-content {\n          background: #fff;\n          padding: 40px;\n          border-radius: 15px;\n          box-shadow: 0 10px 30px rgba(0,0,0,0.1);\n          animation: fadeIn 0.5s ease-in-out;\n        }\n\n        .error-content h1 {\n          font-size: 100px;\n          margin: 0;\n          color: #007bff;\n        }\n\n        .error-content p {\n          font-size: 18px;\n          margin: 20px 0;\n          color: #555;\n        }\n\n        .error-content button {\n          padding: 10px 20px;\n          font-size: 16px;\n          background-color: #007bff;\n          color: white;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          transition: background-color 0.3s ease;\n        }\n\n        .error-content button:hover {\n          background-color: #0056b3;\n        }\n\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(-20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n\n        @media (max-width: 600px) {\n          .error-content h1 {\n            font-size: 70px;\n          }\n\n          .error-content {\n            padding: 30px 20px;\n          }\n        }\n      "})]})}function mE(){return(0,kt.jsx)(pt,{children:(0,kt.jsxs)(Oe,{children:[(0,kt.jsx)(Ae,{path:"/admin/login",element:(0,kt.jsx)(Tt,{})}),(0,kt.jsxs)(Ae,{path:"/admin",element:(0,kt.jsx)(mn,{}),children:[(0,kt.jsx)(Ae,{path:"manage_admin",element:(0,kt.jsx)(vn,{})}),(0,kt.jsx)(Ae,{path:"new_admin",element:(0,kt.jsx)(bn,{})}),(0,kt.jsx)(Ae,{path:"manage_user",element:(0,kt.jsx)(Xg,{})}),(0,kt.jsx)(Ae,{path:"manage_product",element:(0,kt.jsx)($g,{})}),(0,kt.jsx)(Ae,{path:"product_details/:id",element:(0,kt.jsx)(Jg,{})}),(0,kt.jsx)(Ae,{path:"create_product",element:(0,kt.jsx)(Zg,{})}),(0,kt.jsx)(Ae,{path:"calendar_movie",element:(0,kt.jsx)(nb,{})}),(0,kt.jsx)(Ae,{path:"manage_theater",element:(0,kt.jsx)(em,{})}),(0,kt.jsx)(Ae,{path:"create_theater",element:(0,kt.jsx)(tm,{})}),(0,kt.jsx)(Ae,{path:"create_screen",element:(0,kt.jsx)(nm,{})}),(0,kt.jsx)(Ae,{path:"manage_screenRoom",element:(0,kt.jsx)(im,{})}),(0,kt.jsx)(Ae,{path:"create_screenRoom",element:(0,kt.jsx)(rm,{})}),(0,kt.jsx)(Ae,{path:"manage_screenRoom/:id",element:(0,kt.jsx)(pE,{})}),(0,kt.jsx)(Ae,{path:"create_gift",element:(0,kt.jsx)(am,{})}),(0,kt.jsx)(Ae,{path:"manage_gift",element:(0,kt.jsx)(om,{})}),(0,kt.jsx)(Ae,{path:"manage_promotion",element:(0,kt.jsx)(sm,{})}),(0,kt.jsx)(Ae,{path:"create_promotion",element:(0,kt.jsx)(lm,{})}),(0,kt.jsx)(Ae,{path:"report_revenue",element:(0,kt.jsx)(fE,{})}),(0,kt.jsx)(Ae,{path:"report_admin",element:(0,kt.jsx)(rb,{})})]}),(0,kt.jsx)(Ae,{path:"*",element:(0,kt.jsx)(gE,{})})]})})}Ok.register(Gk,CT,AT,Xk,cT,kT,sT);n(391).createRoot(document.getElementById("root")).render((0,kt.jsx)(mE,{}))})();
//# sourceMappingURL=main.0c9419a6.js.map